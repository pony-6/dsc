(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e7bc"],{"0db5":function(e,t,i){"use strict";var n=i("aac3"),s=i.n(n);s.a},"255a":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("van-popup",{attrs:{position:"bottom","close-on-click-overlay":!1},on:{"click-overlay":e.overlay},model:{value:e.display,callback:function(t){e.display=t},expression:"display"}},[i("div",{staticClass:"mod-address-main"},[i("div",{staticClass:"mod-address-head dis-box"},[i("div",{staticClass:"mod-address-head-tit box-flex"},[e._v(e._s(e.$t("lang.delivery_to_the")))]),i("div",{staticClass:"mod-address-head-right box-flex"},[i("i",{staticClass:"iconfont icon-close",on:{click:e.onRegionClose}})])]),i("div",{staticClass:"mod-address-body"},[i("ul",{staticClass:"ulAddrTab"},[e.regionOption.province.name?i("li",{class:{cur:e.regionLevel-1==1},on:{click:function(t){e.tabClickRegion(1,1)}}},[i("span",[e._v(e._s(e.regionOption.province.name))])]):i("li",[i("span",[e._v(e._s(e.$t("lang.select")))])]),e.regionOption.city.name?i("li",{class:{cur:e.regionLevel-1==2},on:{click:function(t){e.tabClickRegion(e.regionOption.province.id,2)}}},[i("span",[e._v(e._s(e.regionOption.city.name))])]):e._e(),e.regionOption.district.name?i("li",{class:{cur:e.regionLevel-1==3},on:{click:function(t){e.tabClickRegion(e.regionOption.city.id,3)}}},[i("span",[e._v(e._s(e.regionOption.district.name))])]):e._e(),e.regionOption.street.name?i("li",{class:{cur:e.regionLevel-1==4},on:{click:function(t){e.tabClickRegion(e.regionOption.district.id,4)}}},[i("span",[e._v(e._s(e.regionOption.street.name))])]):e._e()]),2==e.regionLevel?i("ul",{staticClass:"ulAddrList"},e._l(e.regionDate.provinceData,function(t,n){return i("li",{key:n,class:{active:e.regionOption.province.id==t.id},on:{click:function(i){e.childRegion(t.id,t.name,t.level)}}},[e._v(e._s(t.name))])})):e._e(),3==e.regionLevel?i("ul",{staticClass:"ulAddrList"},e._l(e.regionDate.cityDate,function(t,n){return i("li",{key:n,class:{active:e.regionOption.city.id==t.id},on:{click:function(i){e.childRegion(t.id,t.name,t.level)}}},[e._v(e._s(t.name))])})):e._e(),4==e.regionLevel?i("ul",{staticClass:"ulAddrList"},e._l(e.regionDate.districtDate,function(t,n){return i("li",{key:n,class:{active:e.regionOption.district.id==t.id},on:{click:function(i){e.childRegion(t.id,t.name,t.level)}}},[e._v(e._s(t.name))])})):e._e(),5==e.regionLevel?i("ul",{staticClass:"ulAddrList"},e._l(e.regionDate.streetDate,function(t,n){return i("li",{key:n,class:{active:e.regionOption.street.id==t.id},on:{click:function(i){e.childRegion(t.id,t.name,t.level)}}},[e._v(e._s(t.name))])})):e._e()])])])},s=[],a=i("ade3"),r=(i("7f7f"),i("8a58"),i("e41f")),o=(i("c5f6"),i("2f62"),{props:{display:{type:Boolean,default:!1},regionOptionDate:{type:Object,default:""},isPrice:{type:Number,default:0},isLevel:{type:Number,default:5}},data:function(){return{regionOption:this.regionOptionDate}},components:Object(a["a"])({},r["a"].name,r["a"]),created:function(){this.$store.dispatch("setRegion",{region:1,level:1});var e=localStorage.getItem("regionOption"),t=JSON.parse(localStorage.getItem("userRegion"));null==e&&null!==t&&(this.regionOption.province=t.province?t.province:"",this.regionOption.city=t.city?t.city:"",this.regionOption.district=t.district?t.district:"",this.regionOption.regionSplic=this.regionOption.province.name+" "+this.regionOption.city.name+" "+this.regionOption.district.name,localStorage.setItem("regionOption",JSON.stringify(this.regionOption)))},computed:{regionId:function(){return this.$store.state.region.id},regionLevel:function(){return this.isLevel>this.$store.state.region.level?this.$store.state.region.level:this.isLevel},regionDate:function(){return this.$store.state.region.data},status:{get:function(){return this.$store.state.region.status},set:function(e){this.$store.state.region.status=e}},isLogin:function(){return null!=localStorage.getItem("token")},userRegion:function(){return this.$store.state.userRegion}},methods:{onRegionClose:function(){this.$emit("update:display",!1)},childRegion:function(e,t,i){var n=this;switch(this.isLevel==i?this.status=!0:this.status=!1,i){case 2:this.regionOption.province.id=e,this.regionOption.province.name=t;break;case 3:this.regionOption.city.id=e,this.regionOption.city.name=t;break;case 4:this.regionOption.district.id=e,this.regionOption.district.name=t;break;case 5:this.regionOption.street.id=e,this.regionOption.street.name=t;break;default:break}var s=["province","city","district","street"];s.forEach(function(e,t){t+1>i&&(n.regionOption[e].id="",n.regionOption[e].name="")}),this.$store.dispatch("setRegion",{region:e,level:i})},tabClickRegion:function(e,t){var i=this,n=["province","city","district","street"];n.forEach(function(e,n){n+1>t&&(i.regionOption[e].id="",i.regionOption[e].name="")}),this.$store.dispatch("setRegion",{region:e,level:t})},overlay:function(){this.$emit("update:display",!1)}},watch:{status:function(){1==this.status&&(this.regionOption.regionSplic=this.regionOption.province.name+" "+this.regionOption.city.name+" "+this.regionOption.district.name+" "+this.regionOption.street.name,localStorage.setItem("regionOption",JSON.stringify(this.regionOption)),this.$emit("update:regionOptionDate",this.regionOption),this.$emit("update:display",!1),this.$emit("update:isPrice",1))},userRegion:function(){var e=localStorage.getItem("regionOption");null==e&&this.userRegion&&(this.regionOption.province=this.userRegion.province?this.userRegion.province:"",this.regionOption.city=this.userRegion.city?this.userRegion.city:"",this.regionOption.district=this.userRegion.district?this.userRegion.district:"",this.regionOption.regionSplic=this.regionOption.province.name+" "+this.regionOption.city.name+" "+this.regionOption.district.name,localStorage.setItem("regionOption",JSON.stringify(this.regionOption)))}}}),l=o,c=i("2877"),p=Object(c["a"])(l,n,s,!1,null,null,null);p.options.__file="Region.vue";t["a"]=p.exports},"711a":function(e,t,i){"use strict";var n=i("839e"),s=i.n(n);s.a},"839e":function(e,t,i){},aac3:function(e,t,i){},b005:function(e,t,i){"use strict";i.r(t);var n,s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.supplierInfo?n("div",{staticClass:"merchants"},[n("div",{staticClass:"step",class:"step_"+e.step},[1==e.step?[n("div",{staticClass:"header"},[n("div",{staticClass:"title"},[e._v(e._s(e.$t("lang.supplier_apply")))]),n("div",{staticClass:"subtitle"},[n("i",[e._v(e._s(e.$t("lang.supplier_apply_subtitle_1")))])])]),n("div",{staticClass:"content"},[n("van-cell-group",{staticClass:"van-cell-noleft m-top08"},[n("van-field",{attrs:{label:e.$t("lang.supplier_name"),required:"",placeholder:e.$t("lang.please_input")+e.$t("lang.supplier_name")},model:{value:e.suppliers_name,callback:function(t){e.suppliers_name=t},expression:"suppliers_name"}}),n("van-field",{attrs:{label:e.$t("lang.supplier_desc"),placeholder:e.$t("lang.please_input")+e.$t("lang.supplier_desc"),type:"textarea",rows:"2",autosize:""},model:{value:e.suppliers_desc,callback:function(t){e.suppliers_desc=t},expression:"suppliers_desc"}}),n("van-field",{attrs:{label:e.$t("lang.truename"),required:"",placeholder:e.$t("lang.please_input")+e.$t("lang.truename")},model:{value:e.real_name,callback:function(t){e.real_name=t},expression:"real_name"}}),n("van-field",{attrs:{label:e.$t("lang.contact_mobile"),required:"",placeholder:e.$t("lang.please_input")+e.$t("lang.contact_mobile")},model:{value:e.mobile_phone,callback:function(t){e.mobile_phone=t},expression:"mobile_phone"}}),n("van-field",{attrs:{label:e.$t("lang.service_qq"),placeholder:e.$t("lang.please_input")+e.$t("lang.service_qq"),type:"textarea",rows:"2",autosize:""},model:{value:e.kf_qq,callback:function(t){e.kf_qq=t},expression:"kf_qq"}}),n("van-field",{attrs:{label:e.$t("lang.contact_email"),required:"",placeholder:e.$t("lang.please_input")+e.$t("lang.contact_email")},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)],1)]:2==e.step?[n("div",{staticClass:"header"},[n("div",{staticClass:"title"},[e._v(e._s(e.$t("lang.supplier_apply")))]),n("div",{staticClass:"subtitle"},[n("i",[e._v(e._s(e.$t("lang.supplier_apply_subtitle_2")))])])]),n("div",{staticClass:"content"},[n("van-cell-group",{staticClass:"van-cell-noleft m-top08"},[n("van-field",{attrs:{label:e.$t("lang.id_number"),required:"",placeholder:e.$t("lang.please_input")+e.$t("lang.id_number")},model:{value:e.self_num,callback:function(t){e.self_num=t},expression:"self_num"}}),n("van-cell",{staticClass:"after-read",attrs:{title:e.$t("lang.id_front")}},[n("van-uploader",{attrs:{"after-read":e.afterRead("front_of_id_card")}},[n("i",{staticClass:"iconfont icon-uploader"}),n("span",[e._v(e._s(e.$t("lang.upload"))+e._s(e.$t("lang.id_front")))])]),e.front_of_id_card?n("i",{staticClass:"iconfont icon-picture",on:{click:function(t){e.previewImage("front_of_id_card")}}}):e._e()],1),n("van-cell",{staticClass:"after-read",attrs:{title:e.$t("lang.id_back")}},[n("van-uploader",{attrs:{"after-read":e.afterRead("reverse_of_id_card")}},[n("i",{staticClass:"iconfont icon-uploader"}),n("span",[e._v(e._s(e.$t("lang.upload"))+e._s(e.$t("lang.id_back")))])]),e.reverse_of_id_card?n("i",{staticClass:"iconfont icon-picture",on:{click:function(t){e.previewImage("reverse_of_id_card")}}}):e._e()],1),n("van-cell",{staticClass:"after-read",attrs:{title:e.$t("lang.supplier_logo")}},[n("van-uploader",{attrs:{"after-read":e.afterRead("suppliers_logo")}},[n("i",{staticClass:"iconfont icon-uploader"}),n("span",[e._v(e._s(e.$t("lang.upload"))+e._s(e.$t("lang.supplier_logo")))])]),e.suppliers_logo?n("i",{staticClass:"iconfont icon-picture",on:{click:function(t){e.previewImage("suppliers_logo")}}}):e._e()],1),n("van-field",{attrs:{label:e.$t("lang.sup_company_name"),required:"",placeholder:e.$t("lang.please_input")+e.$t("lang.sup_company_name")},model:{value:e.company_name,callback:function(t){e.company_name=t},expression:"company_name"}}),n("div",{staticClass:"text-all dis-box text-all-region"},[n("label",[e._v(e._s(e.$t("lang.region_alt"))),n("em",[e._v("*")])]),n("div",{staticClass:"input-text"},[n("div",{staticClass:"address-box",on:{click:e.handelRegionShow}},[n("span",{staticClass:"text-all-span"},[e._v(e._s(e.regionSplic))]),n("span",{staticClass:"user-more"},[n("i",{staticClass:"iconfont icon-more"})])])])]),n("van-field",{attrs:{label:e.$t("lang.company_address"),required:"",placeholder:e.$t("lang.please_input")+e.$t("lang.company_address")},model:{value:e.company_address,callback:function(t){e.company_address=t},expression:"company_address"}})],1)],1)]:3==e.step&&e.supplier?[n("div",{staticClass:"audit-pic"},[1==e.supplier.review_status?[n("img",{staticClass:"img",attrs:{src:i("4450")}})]:e._e(),2==e.supplier.review_status?[n("img",{staticClass:"img",attrs:{src:i("de63")}})]:e._e(),3==e.supplier.review_status?[n("img",{staticClass:"img",attrs:{src:i("ce8a")}})]:e._e()],2),n("div",{staticClass:"audit-type"},[1==e.supplier.review_status?[n("div",{staticClass:"title"},[e._v(e._s(e.$t("lang.merchants_audit_0")))]),n("div",{staticClass:"subtitle"},[e._v(e._s(e.$t("lang.supplier_audit_0_desc")))])]:e._e(),2==e.supplier.review_status?[n("div",{staticClass:"title"},[e._v(e._s(e.$t("lang.merchants_audit_2")))]),n("div",{staticClass:"subtitle"},[e._v(e._s(e.$t("lang.label_platform_reply"))+"222")])]:e._e(),3==e.supplier.review_status?[n("div",{staticClass:"title"},[e._v(e._s(e.$t("lang.merchants_audit_1")))]),n("div",{staticClass:"subtitle"},[e._v(e._s(e.$t("lang.supplier_audit_1_desc")))])]:e._e()],2),2==e.supplier.review_status?[n("div",{staticClass:"audit-update"},[n("button",{staticClass:"audit-shopname",attrs:{type:"button"},on:{click:function(t){e.backStep(2)}}},[e._v(e._s(e.$t("lang.new_registration")))])])]:e._e()]:e._e(),n("div",{staticClass:"btn-bar btn-bar-radius"},[1==e.step?[n("button",{staticClass:"btn btn-lg-red",attrs:{type:"button"},on:{click:function(t){e.merchantStep(1)}}},[e._v(e._s(e.$t("lang.supplier_next_1")))])]:2==e.step?[n("button",{staticClass:"btn btn-lg-white",attrs:{type:"button"},on:{click:function(t){e.backStep(2)}}},[e._v(e._s(e.$t("lang.last_step")))]),n("button",{staticClass:"btn btn-lg-red",attrs:{type:"button"},on:{click:function(t){e.merchantStep(2)}}},[e._v(e._s(e.$t("lang.supplier_next_2")))])]:[n("button",{staticClass:"btn btn-lg-red",attrs:{type:"button"},on:{click:function(t){e.linkHref("user")}}},[e._v(e._s(e.$t("lang.enter_user_center")))]),n("button",{staticClass:"btn btn-lg-white",attrs:{type:"button"},on:{click:function(t){e.linkHref("home")}}},[e._v(e._s(e.$t("lang.home_back")))])]],2)],2),n("DscLoading",{attrs:{dscLoading:e.dscLoading}}),n("Region",{attrs:{display:e.regionShow,regionOptionDate:e.regionOptionDate},on:{"update:display":function(t){e.regionShow=t},"update:regionOptionDate":function(t){e.regionOptionDate=t}}})],1):e._e()},a=[],r=(i("8e6e"),i("ac6a"),i("456d"),i("4662"),i("28a2")),o=i("ade3"),l=(i("e7e5"),i("d399")),c=(i("c3a6"),i("ad06")),p=(i("66b9"),i("b650")),_=(i("e930"),i("8f80")),d=(i("be7f"),i("565f")),u=(i("a44c"),i("e27c")),g=(i("4ddd"),i("9f14")),h=(i("0653"),i("34e9")),f=(i("c194"),i("7744")),m=(i("8a58"),i("e41f")),v=(i("a909"),i("3acc")),b=(i("7f7f"),i("3c32"),i("417e")),O=(i("6611"),i("450d"),i("e772")),$=i.n(O),y=(i("016f"),i("486c")),k=i.n(y),C=(i("1f1a"),i("4e4b")),j=i.n(C),w=(i("4328"),i("2f62")),S=i("42d1"),R=i("255a");function D(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function I(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?D(Object(i),!0).forEach(function(t){Object(o["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):D(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var q={data:function(){return{step:1,suppliers_name:"",suppliers_desc:"",real_name:"",mobile_phone:"",kf_qq:"",email:"",self_num:"",front_of_id_card:"",reverse_of_id_card:"",suppliers_logo:"",company_name:"",company_address:"",front_of_id_card_image:"",reverse_of_id_card_image:"",suppliers_logo_image:"",regionShow:!1,regionOptionDate:{province:{id:"",name:""},city:{id:"",name:""},district:{id:"",name:""},street:{id:"",name:""},regionSplic:this.$t("lang.select")+this.$t("lang.region_alt")},checked:!1,dscLoading:!0}},components:(n={EcSelect:j.a,EcOptionGroup:k.a,EcOption:$.a},Object(o["a"])(n,b["a"].name,b["a"]),Object(o["a"])(n,v["a"].name,v["a"]),Object(o["a"])(n,m["a"].name,m["a"]),Object(o["a"])(n,f["a"].name,f["a"]),Object(o["a"])(n,h["a"].name,h["a"]),Object(o["a"])(n,g["a"].name,g["a"]),Object(o["a"])(n,u["a"].name,u["a"]),Object(o["a"])(n,d["a"].name,d["a"]),Object(o["a"])(n,_["a"].name,_["a"]),Object(o["a"])(n,p["a"].name,p["a"]),Object(o["a"])(n,c["a"].name,c["a"]),Object(o["a"])(n,l["a"].name,l["a"]),Object(o["a"])(n,"DscLoading",S["a"]),Object(o["a"])(n,"Region",R["a"]),n),computed:I(I({},Object(w["c"])({supplierInfo:function(e){return e.user.supplierInfo.supplier}})),{},{supplier:function(){return this.supplierInfo.supplier},regionSplic:function(){return this.regionOptionDate.regionSplic}}),created:function(){this.merchants()},methods:{merchants:function(e){var t=this;t.$store.dispatch("setSupplierApplyInfo",{step_id:e})},addShop:function(e){var t=this,i=this;i.$store.dispatch("setSupplierApply",{suppliers_name:i.suppliers_name,suppliers_desc:i.suppliers_desc,real_name:i.real_name,mobile_phone:i.mobile_phone,kf_qq:i.kf_qq,email:i.email,self_num:i.self_num,front_of_id_card:i.front_of_id_card,reverse_of_id_card:i.reverse_of_id_card,suppliers_logo:i.suppliers_logo,company_name:i.company_name,country:1,province:this.regionOptionDate.province.id,city:this.regionOptionDate.city.id,district:this.regionOptionDate.district.id,company_address:i.company_address}).then(function(i){"success"==i.status?(Object(l["a"])(i.data.msg),0==i.data.code&&(t.dscLoading=!0,t.merchants(e),t.step=e+1)):Object(l["a"])(t.$t("lang.jk_error"))})},merchantStep:function(e){switch(e){case 1:if(""==this.suppliers_name)return Object(l["a"])(this.$t("lang.please_input")+this.$t("lang.supplier_name")),!1;if(""==this.real_name)return Object(l["a"])(this.$t("lang.please_input")+this.$t("lang.truename")),!1;if(""==this.mobile_phone)return Object(l["a"])(this.$t("lang.please_input")+this.$t("lang.contact_mobile")),!1;if(!this.checkMobile())return Object(l["a"])(this.$t("lang.phone_number_format")),!1;if(""==this.email)return Object(l["a"])(this.$t("lang.please_input")+this.$t("lang.contact_email")),!1;if(!this.checkEmail())return Object(l["a"])(this.$t("lang.email_number_format")),!1;this.step=e+1;break;case 2:if(""==this.self_num)return Object(l["a"])(this.$t("lang.please_input")+this.$t("lang.id_number")),!1;if(!this.checkId())return Object(l["a"])(this.$t("lang.id_card_format")),!1;if(""==this.front_of_id_card)return Object(l["a"])(this.$t("lang.please_upload")+this.$t("lang.id_front")),!1;if(""==this.reverse_of_id_card)return Object(l["a"])(this.$t("lang.please_upload")+this.$t("lang.id_back")),!1;if(""==this.suppliers_logo)return Object(l["a"])(this.$t("lang.please_upload")+this.$t("lang.supplier_logo")),!1;if(""==this.company_name)return Object(l["a"])(this.$t("lang.please_input")+this.$t("lang.sup_company_name")),!1;if(""==this.company_address)return Object(l["a"])(this.$t("lang.please_input")+this.$t("lang.company_address")),!1;this.addShop(e);break;default:break}},backStep:function(e){this.step=e-1},afterRead:function(e){var t=this;return function(i){i.length>1?Object(l["a"])(t.$t("lang.only_one_image_can_be_selected")):t.$store.dispatch("setMaterial",{file:i,type:e}).then(function(i){"front_of_id_card"==e?t.front_of_id_card=i.data[0]:"reverse_of_id_card"==e?t.reverse_of_id_card=i.data[0]:"suppliers_logo"==e&&(t.suppliers_logo=i.data[0])})}},checkMobile:function(){var e=/^((13|14|15|16|17|18|19)[0-9]{1}\d{8})$/;return!!e.test(this.mobile_phone)},checkEmail:function(){var e=/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;return!!e.test(this.email)},checkId:function(){var e=/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/;return!!e.test(this.self_num)},previewImage:function(e){"front_of_id_card"==e?this.front_of_id_card_image=Object(r["a"])({images:[this.front_of_id_card]}):"reverse_of_id_card"==e?this.reverse_of_id_card_image=Object(r["a"])({images:[this.reverse_of_id_card]}):"suppliers_logo"==e&&(this.suppliers_logo_image=Object(r["a"])({images:[this.suppliers_logo]}))},linkHref:function(e){this.$router.push({name:e})},handelRegionShow:function(){this.regionShow=!this.regionShow,this.$store.dispatch("setRegion",{region:1,level:1})}},watch:{supplierInfo:function(){this.dscLoading=!1},supplier:function(){this.supplier&&(this.suppliers_name=this.supplier.suppliers_name,this.suppliers_desc=this.supplier.suppliers_desc,this.real_name=this.supplier.real_name,this.mobile_phone=this.supplier.mobile_phone,this.kf_qq=this.supplier.kf_qq,this.email=this.supplier.email,this.self_num=this.supplier.self_num,this.front_of_id_card=this.supplier.front_of_id_card,this.reverse_of_id_card=this.supplier.reverse_of_id_card,this.suppliers_logo=this.supplier.suppliers_logo,this.company_name=this.supplier.company_name,this.company_address=this.supplier.company_address,this.dscLoading=!1,this.regionOptionDate.province.id=this.supplierInfo.region_level[1].region_id,this.regionOptionDate.city.id=this.supplierInfo.region_level[2].region_id,this.regionOptionDate.district.id=this.supplierInfo.region_level[3]?this.supplierInfo.region_level[3].region_id:0,this.regionOptionDate.regionSplic=this.supplierInfo.region_level[1].region_name+" "+this.supplierInfo.region_level[2].region_name+" "+(this.supplierInfo.region_level[3]?this.supplierInfo.region_level[3].region_name:""),this.supplier.review_status&&(this.step=3))}}},x=q,L=(i("0db5"),i("711a"),i("2877")),A=Object(L["a"])(x,s,a,!1,null,"22dd5e9d",null);A.options.__file="Apply.vue";t["default"]=A.exports}}]);