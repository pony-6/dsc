(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f3d"],{"440d":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"basic_info_content"},[t._m(0),1==t.type?[i("div",{staticClass:"main_box"},[i("div",{staticClass:"title item"},[t._v("经营者信息")]),i("div",{staticClass:"input_box item"},[i("label",[t._v("公司名称")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.company,expression:"company"}],attrs:{type:"text",placeholder:"请输入公司名称"},domProps:{value:t.company},on:{input:function(e){e.target.composing||(t.company=e.target.value)}}})]),i("div",{staticClass:"input_box item border_top"},[i("label",[t._v("公司电话")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.companyTel,expression:"companyTel"}],attrs:{type:"text",placeholder:"请输入公司电话"},domProps:{value:t.companyTel},on:{input:function(e){e.target.composing||(t.companyTel=e.target.value)}}})])]),i("div",{staticClass:"upload_box"},[i("div",{staticClass:"title"},[t._v("营业证件信息")]),i("div",{staticClass:"padding_15"},[i("div",{staticClass:"upload_item"},[i("van-uploader",{attrs:{"after-read":t.afterRead("id_card")}},[i("div",{staticClass:"warp"},[t.id_card?[i("img",{attrs:{src:t.id_card,alt:""}})]:[i("div",{staticClass:"add_ico"}),i("span",[t._v("上传法人身份证")])]],2)])],1),i("div",{staticClass:"upload_item"},[i("van-uploader",{attrs:{"after-read":t.afterRead("business_license")}},[i("div",{staticClass:"warp"},[t.business_license?[i("img",{attrs:{src:t.business_license,alt:""}})]:[i("div",{staticClass:"add_ico"}),i("span",[t._v("上传营业执照")])]],2)])],1)])])]:t._e(),2==t.type?i("div",{staticClass:"upload_box"},[i("div",{staticClass:"title"},[t._v("身份证信息")]),i("div",{staticClass:"id_cart"},[i("div",{staticClass:"upload_item"},[i("van-uploader",{attrs:{"after-read":t.afterRead("id_card_one")}},[i("div",{staticClass:"warp"},[t.id_card_one?[i("img",{attrs:{src:t.id_card_one,alt:""}})]:[i("div",{staticClass:"add_ico"}),i("span",[t._v("上传身份证正面")])]],2)])],1),i("div",{staticClass:"upload_item"},[i("van-uploader",{attrs:{"after-read":t.afterRead("id_card_two")}},[i("div",{staticClass:"warp"},[t.id_card_two?[i("img",{attrs:{src:t.id_card_two,alt:""}})]:[i("div",{staticClass:"add_ico"}),i("span",[t._v("上传身份证反面")])]],2)])],1),i("div",{staticClass:"upload_item"},[i("van-uploader",{attrs:{"after-read":t.afterRead("id_card_three")}},[i("div",{staticClass:"warp"},[t.id_card_three?[i("img",{attrs:{src:t.id_card_three,alt:""}})]:[i("div",{staticClass:"add_ico"}),i("span",[t._v("上传手持身份证")])]],2)])],1)]),i("img",{staticClass:"bottom_imgs",attrs:{src:a("81f1"),alt:""}})]):t._e(),i("div",{staticClass:"tips"},[t._v("温馨提示：图片不清晰，将会影响您的开店审核")]),i("div",{staticClass:"btns"},[i("div",{staticClass:"btn_item gray_btn",on:{click:t.goBack}},[t._v("返回上一步")]),i("div",{staticClass:"btn_item red_btn",on:{click:t.goNext}},[t._v("下一步")])])],2)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"steps"},[a("div",{staticClass:"step_item active_item"},[a("div",{staticClass:"index_box"},[t._v("1")]),a("span",[t._v("基本信息")])]),a("div",{staticClass:"line_box"}),a("div",{staticClass:"step_item active_item"},[a("div",{staticClass:"index_box"},[t._v("2")]),a("span",[t._v("主体信息")])]),a("div",{staticClass:"line_box"}),a("div",{staticClass:"step_item"},[a("div",{staticClass:"index_box"},[t._v("3")]),a("span",[t._v("店铺信息")])])])}],r=(a("8e6e"),a("ac6a"),a("456d"),a("7f7f"),a("ade3")),n=(a("e930"),a("8f80")),c=(a("e7e5"),a("d399")),d=a("2b0e"),o=a("2f62");function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,i)}return a}function _(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach(function(e){Object(r["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}d["default"].use(n["a"]).use(c["a"]);var u={props:["type"],data:function(){return{company:"",companyTel:"",business_license:"",id_card:"",id_card_one:"",id_card_two:"",id_card_three:""}},computed:_(_({},Object(o["c"])({merchantsInfo:function(t){return t.user.merchantsInfo},merchantsGuide:function(t){return t.user.merchantsGuide},merchantsCategory:function(t){return t.user.merchantsCategory},merchantsCategoryInfo:function(t){return t.user.merchantsCategoryInfo}})),{},{steps:function(){return this.merchantsInfo.steps}}),created:function(){},methods:{afterRead:function(t){var e=this;return function(a){a.length>1?Object(c["a"])(e.$t("lang.only_one_image_can_be_selected")):e.$store.dispatch("setMaterial",{file:a,type:t}).then(function(a){"business_license"==t?e.business_license=a.data[0]:"id_card"==t?e.id_card=a.data[0]:"id_card_one"==t?e.id_card_one=a.data[0]:"id_card_two"==t?e.id_card_two=a.data[0]:"id_card_three"==t&&(e.id_card_three=a.data[0])})}},goBack:function(){this.$router.go(-1)},goNext:function(){if(1==this.type){if(!this.company.trim())return Object(c["a"])("请输入您的公司名称");if(!this.companyTel.trim())return Object(c["a"])("请输入您的公司电话");if(!this.id_card.trim()||!this.business_license.trim())return Object(c["a"])("请上传您的证件信息");this.getMerchantsAgree()}else{if(!this.id_card_one.trim()||!this.id_card_two.trim()||!this.id_card_three.trim())return Object(c["a"])("请上传您的证件信息");this.getMerchantsAgreePersonal()}},getMerchantsAgree:function(){var t=this,e=JSON.parse(window.localStorage.getItem("merchantInfo")),a=e.name,i=e.mobile;this.$store.dispatch("setMerchantsAgree",{fid:this.steps.fid?this.steps.fid:0,agree:1,contactName:a,contactPhone:i,contactXinbie:"",contactEmail:"",companyName:this.company,legal_person_fileImg:this.id_card,license_fileImg:this.business_license,company_contactTel:this.companyTel,huoyuan:""}).then(function(e){if("success"==e.status){if(0!=e.data.code)return Object(c["a"])(e.data.msg),!1;t.$router.push({name:"storeInfo"})}})},getMerchantsAgreePersonal:function(){var t=this,e=JSON.parse(window.localStorage.getItem("merchantInfo")),a=e.name,i=e.mobile;this.$store.dispatch("setMerchantsAgreePersonal",{fid:this.steps.fid?this.steps.fid:0,agree:1,name:a,mobile:i,id_card:"",business_address:"",business_category:"",id_card_img_one_fileImg:this.id_card_one,id_card_img_two_fileImg:this.id_card_two,id_card_img_three_fileImg:this.id_card_three,commitment_fileImg:""}).then(function(e){if("success"==e.status){if(0!=e.data.code)return Object(c["a"])(e.data.msg),!1;t.$router.push({name:"storeInfo"})}})},linkHref:function(){this.$router.push({name:"storeInfo"})}}},f=u,p=(a("a3fd"),a("2877")),m=Object(p["a"])(f,i,s,!1,null,"1b5c1490",null);m.options.__file="mainInfo.vue";e["default"]=m.exports},"81f1":function(t,e,a){t.exports=a.p+"img/false-1.png"},"82b7":function(t,e,a){},"8f80":function(t,e,a){"use strict";var i=a("fe7e");e["a"]=Object(i["a"])({render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.b()},[t._t("default"),a("input",t._b({ref:"input",class:t.b("input"),attrs:{type:"file",accept:t.accept,disabled:t.disabled},on:{change:t.onChange}},"input",t.$attrs,!1))],2)},name:"uploader",inheritAttrs:!1,props:{disabled:Boolean,beforeRead:Function,afterRead:Function,accept:{type:String,default:"image/*"},resultType:{type:String,default:"dataUrl"},maxSize:{type:Number,default:Number.MAX_VALUE}},methods:{onChange:function(t){var e=this,a=t.target.files;!this.disabled&&a.length&&(a=1===a.length?a[0]:[].slice.call(a,0),!a||this.beforeRead&&!this.beforeRead(a)||(Array.isArray(a)?Promise.all(a.map(this.readFile)).then(function(t){var i=!1,s=a.map(function(s,r){return s.size>e.maxSize&&(i=!0),{file:a[r],content:t[r]}});e.onAfterRead(s,i)}):this.readFile(a).then(function(t){e.onAfterRead({file:a,content:t},a.size>e.maxSize)})))},readFile:function(t){var e=this;return new Promise(function(a){var i=new FileReader;i.onload=function(t){a(t.target.result)},"dataUrl"===e.resultType?i.readAsDataURL(t):"text"===e.resultType&&i.readAsText(t)})},onAfterRead:function(t,e){e?this.$emit("oversize",t):(this.afterRead&&this.afterRead(t),this.$refs.input&&(this.$refs.input.value=""))}}})},a3fd:function(t,e,a){"use strict";var i=a("82b7"),s=a.n(i);s.a},bcd3:function(t,e,a){},e930:function(t,e,a){"use strict";a("68ef"),a("bcd3")}}]);