(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ccc"],{"1f6b":function(t,e,s){},"3a3e":function(t,e,s){"use strict";var i=s("1f6b"),a=s.n(i);a.a},"7f1b":function(t,e,s){"use strict";s.r(e);var i,a,o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"con con_main"},[i("div",{staticClass:"title_on"},[i("div",{staticClass:"item",on:{click:t.shop_kud}},[t._v("快递配送")]),i("div",{staticClass:"item active_on"},[t._v("门店自提")])]),""==t.isSingle?i("div",{staticClass:"add_title",on:{click:t.shop_show}},[i("img",{attrs:{src:s("8456")}}),i("span",[t._v(t._s(t.storepick))]),i("i",{staticClass:"iconfont icon-more"})]):t._e(),t.checkoutDisplay?i("div",{staticClass:"flow-checkout"},[i("section",{staticClass:"flow-checkout-item flow-checkout-adr m-b10 quanymagin"},[i("van-cell-group",[0==t.stor?i("van-cell",{attrs:{icon:"location","is-link":""},on:{click:t.checkoutAdd}},[i("template",{slot:"title"},[i("div",{staticClass:"tit_jin"},[t._v("您已选地区附近没有匹配到合适的门店，请重新更换地区/门店，或切换使用快递配送下单自提地区")])])],2):i("van-cell",{attrs:{icon:"location","is-link":""},on:{click:t.checkoutAdd}},[i("div",{attrs:{slot:"title"},slot:"title"},[i("h2",{staticClass:"f-h-adr-title"},[t._v(t._s(t.storeInfo.stores_name))]),i("p",{staticClass:"f-04 col-7 m-top02"},[t._v(t._s(t.$t("lang.label_service_call"))+t._s(t.storeInfo.stores_tel))]),i("p",{staticClass:"f-04 col-7 m-top02"},[t._v(t._s(t.$t("lang.label_business_hours"))+t._s(t.storeInfo.stores_opening_hours))]),i("p",{staticClass:"f-04 col-7 m-top02"},[t._v(t._s(t.$t("lang.label_store_address"))+"["+t._s(t.storeInfo.address)+"] "+t._s(t.storeInfo.stores_address))])])])],1)],1),t._l(t.checkoutInfo.goods_list,function(e,a){return i("section",{key:a,staticClass:"checkout-goods-list m-b10 quanymagin"},[i("section",{staticClass:"section-list"},[i("div",{staticClass:"detail-title"},[t._v(t._s(e.shop_name))]),t.listShow[a]?[i("div",{staticClass:"product-list product-list-max dis-box"},[i("ul",{staticClass:"box-flex"},t._l(e.goods,function(e,a){return a<3?i("li",{key:a,on:{click:function(s){t.productLink(e)}}},[i("div",{staticClass:"p-d-img"},[i("div",{staticClass:"p-r"},[e.goods_thumb?i("img",{staticClass:"img",attrs:{src:e.goods_thumb}}):i("img",{staticClass:"img",attrs:{src:s("d9e6")}}),e.is_gift>0?i("em",{staticClass:"activity-tag"},[i("img",{staticClass:"img",attrs:{src:s("07ce")}})]):t._e()])])]):t._e()})),i("div",{staticClass:"t-jiantou",on:{click:function(s){t.onListShow(e.goods[a].ru_id)}}},[i("span",{staticClass:"user-more"},[i("em",[t._v(t._s(t.$t("lang.gong"))+" "+t._s(e.goods_count)+" "+t._s(t.$t("lang.jian")))]),i("i",{staticClass:"iconfont icon-more"})])])])]:[i("div",{staticClass:"product-list dis-box"},[i("ul",{staticClass:"box-flex"},t._l(e.goods,function(e,a){return i("li",{key:a},[i("div",{staticClass:"product-div",class:{"package-box":"package_buy"==e.extension_code}},[i("div",{staticClass:"product-list-img",on:{click:function(s){t.productLink(e)}}},[e.goods_thumb?i("img",{staticClass:"img",attrs:{src:e.goods_thumb}}):i("img",{staticClass:"img",attrs:{src:s("d9e6")}}),e.is_gift>0?i("em",{staticClass:"activity-tag"},[i("img",{staticClass:"img",attrs:{src:s("07ce")}})]):t._e(),"package_buy"==e.extension_code?i("em",{staticClass:"activity-tag"},[i("img",{staticClass:"img",attrs:{src:s("4824")}})]):t._e()]),i("div",{staticClass:"product-info",on:{click:function(s){t.productLink(e)}}},[i("h4",[1==t.rec_type?i("em",{staticClass:"em-promotion"},[t._v(t._s(t.$t("lang.group_buy")))]):t._e(),2==t.rec_type?i("em",{staticClass:"em-promotion"},[t._v(t._s(t.$t("lang.auction")))]):t._e(),4==t.rec_type?i("em",{staticClass:"em-promotion"},[t._v(t._s(t.$t("lang.integral")))]):t._e(),5==t.rec_type?i("em",{staticClass:"em-promotion"},[t._v(t._s(t.$t("lang.presale")))]):t._e(),6==t.rec_type?i("em",{staticClass:"em-promotion"},[t._v(t._s(t.$t("lang.seckill")))]):t._e(),7==t.rec_type?i("em",{staticClass:"em-promotion"},[t._v(t._s(t.$t("lang.team")))]):t._e(),8==t.rec_type?i("em",{staticClass:"em-promotion"},[t._v(t._s(t.$t("lang.bargain")))]):t._e(),"package_buy"==e.extension_code?i("em",{staticClass:"em-promotion"},[t._v(t._s(t.$t("lang.package")))]):t._e(),t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.goods_name)+"\n\t\t\t\t\t\t\t\t\t\t")]),"package_buy"==e.extension_code?[i("div",{staticClass:"price"},[i("div",{staticClass:"color-red",staticStyle:{"font-size":"1.5rem"}},[i("label",[t._v(t._s(t.$t("lang.label_package_price")))]),i("label",{domProps:{innerHTML:t._s(e.goods_price_format)}})]),i("span",[t._v("x"+t._s(e.package_goods_list.length))])]),i("div",{staticClass:"p-attr"},[i("span",[t._v(t._s(t.$t("lang.is_discount")))]),i("span",{domProps:{innerHTML:t._s(e.format_package_list_saving)}})])]:[i("div",{staticClass:"flex-common"},[i("div",{staticClass:"price",domProps:{innerHTML:t._s(e.goods_price_format)}}),i("span",{staticClass:"size_15"},[t._v("x"+t._s(e.goods_number))])]),e.goods_attr?i("div",{staticClass:"p-attr"},[t._v(t._s(e.goods_attr))]):t._e()]],2),"package_buy"==e.extension_code?i("div",{staticClass:"t-jiantou t-jantou-xia",staticStyle:{"margin-top":"0"},on:{click:t.onListPackage}},[i("span",{staticClass:"user-more"},[i("i",{staticClass:"iconfont size_14",class:[t.listPackageShow?"icon-moreunfold":"icon-more"]})])]):t._e()]),"package_buy"==e.extension_code&&t.listPackageShow?t._l(e.package_goods_list,function(e){return i("div",{staticClass:"product-div package-list"},[i("div",{staticClass:"product-list-img"},[e.goods_thumb?i("img",{staticClass:"img",attrs:{src:e.goods_thumb}}):i("img",{staticClass:"img",attrs:{src:s("d9e6")}})]),i("div",{staticClass:"product-info"},[i("h4",[t._v(t._s(e.get_goods.goods_name))]),i("div",{staticClass:"flex-common"},[i("div",{staticClass:"price",domProps:{innerHTML:t._s(e.rank_price_format)}}),i("span",{staticClass:"size_15"},[t._v("x"+t._s(e.goods_number))])])])])}):t._e(),e.membership_card_id>0?i("van-cell-group",{staticClass:"van-cell-noright"},[i("van-cell",{attrs:{"is-link":""}},[i("template",{slot:"title"},[i("van-tag",{attrs:{color:"#ee0a24",size:"medium",plain:""}},[t._v(t._s(t.$t("lang.give")))]),i("span",{staticStyle:{"font-size":"12px",color:"#666","margin-left":"5px"}},[t._v(t._s(t.$t("lang.song"))+"["+t._s(e.membership_card_name)+"]\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(t.$t("lang.onezhang")))])],1),i("span",{staticStyle:{color:"#999"},on:{click:function(s){t.drpApplyHref(e.membership_card_id)}}},[t._v(t._s(t.$t("lang.go_to_kk")))])],2)],1):t._e()],2)})),e.goods.length>1?i("div",{staticClass:"t-jiantou t-jantou-xia",on:{click:function(e){t.onListShow(a)}}},[t._m(0,!0)]):t._e()])]],2),i("van-cell-group",{staticClass:"van-cell-noright m-top08"},[0==t.store_id&&t.total.real_goods_count>0?i("van-cell",{attrs:{title:t.$t("lang.shipping_mode")}},[e.shipping.default_shipping.shipping_id>0?i("div",{on:{click:function(s){t.feeHandle(a,e.shipping.default_shipping.shipping_id)}}},[i("span",[t._v(t._s(t.shipping_name[a]))]),t._v(" \n\t\t\t\t\t\t"),i("label",{staticClass:"color-red",domProps:{innerHTML:t._s(t.format_shipping_fee[a])}})]):i("div",{staticClass:"color-red"},[t._v(t._s(t.$t("lang.not_shipping")))])]):t._e(),i("van-cell",{staticClass:"b-min",attrs:{title:t.$t("lang.buyer_message")}},[i("div",[i("van-field",{staticClass:"van-cell-ptb0",attrs:{placeholder:t.$t("lang.buyer_message_placeholder")},model:{value:t.postscriptValue[a],callback:function(e){t.$set(t.postscriptValue,a,e)},expression:"postscriptValue[index]"}})],1)]),i("van-cell",{staticClass:"b-min b-min-t"},[i("div",[i("span",[t._v(t._s(t.$t("lang.gong"))+" "+t._s(e.goods_count)+" "+t._s(t.$t("lang.total_amount_propmt_alt"))+"：")]),i("label",{staticClass:"color-red",domProps:{innerHTML:t._s(e.amount)}})])])],1)],1)}),i("section",{staticClass:"checkout-goods-other quanymagin"},[i("van-cell-group",{staticClass:"van-cell-noright"},[i("van-cell",{attrs:{title:t.$t("lang.payment_mode"),"is-link":""},on:{click:t.paymentSelect},model:{value:t.pay_name,callback:function(e){t.pay_name=e},expression:"pay_name"}}),4!=t.rec_type&&t.checkoutInfo.can_invoice>0?i("van-cell",{staticClass:"b-min ",attrs:{title:t.$t("lang.invoice_info"),"is-link":!t.checkoutInfo.cross_border},on:{click:t.invoiceSelect}},[i("div",{staticClass:"box-flex",attrs:{solt:"value"}},[t.checkoutInfo.cross_border?[i("p",{staticClass:"receipt-title color-red"},[t._v(t._s(t.$t("lang.cross_border_no_invoice")))])]:[t.invoice.invoiceType?[i("p",{staticClass:"receipt-title"},[t._v(t._s(t.$t("lang.vat_tax_invoice")))])]:[i("p",{staticClass:"receipt-title"},[t.invoice.company?[t._v(t._s(t.invoice.company_name))]:[t._v(t._s(t.invoice.invoiceTitle))]],2),i("p",{staticClass:"receipt-name"},[t._v(t._s(t.invoice.invoiceConent))])]]],2)]):t._e(),t.bonusList.length>0?i("van-cell",{staticClass:"b-min b-min-t",attrs:{"is-link":""},on:{click:t.bonusHandle},model:{value:t.bonusObject.bonusContent,callback:function(e){t.$set(t.bonusObject,"bonusContent",e)},expression:"bonusObject.bonusContent"}},[i("template",{slot:"title"},[i("span",[t._v(t._s(t.$t("lang.bonus"))+"("+t._s(t.bonusList.length)+t._s(t.$t("lang.zhang"))+")")])])],2):t._e(),t.couponsList.length>0?i("van-cell",{staticClass:"b-min b-min-t",attrs:{"is-link":""},on:{click:t.couponsHandle},model:{value:t.couponsObject.couponsContent,callback:function(e){t.$set(t.couponsObject,"couponsContent",e)},expression:"couponsObject.couponsContent"}},[i("template",{slot:"title"},[i("span",[t._v(t._s(t.$t("lang.coupons"))+"("+t._s(t.couponsList.length)+t._s(t.$t("lang.zhang"))+")")])])],2):t._e(),t.valueCard.length>0?i("van-cell",{staticClass:"b-min b-min-t",attrs:{value:"","is-link":""},on:{click:t.valueCardHandle},model:{value:t.valueCardObject.valueCardContent,callback:function(e){t.$set(t.valueCardObject,"valueCardContent",e)},expression:"valueCardObject.valueCardContent"}},[i("template",{slot:"title"},[i("span",[t._v(t._s(t.$t("lang.value_card"))+"("+t._s(t.valueCard.length)+t._s(t.$t("lang.zhang"))+")")])])],2):t._e()],1),t.checkoutInfo.cross_border?i("van-cell-group",{staticClass:"van-cell-noright m-top08"},[i("van-cell",{staticClass:"van-cell-title b-min b-min-b",attrs:{title:t.$t("lang.real_name")}}),i("van-cell",{staticClass:"b-min b-min-t",attrs:{title:t.$t("lang.truename")}},[i("div",[i("van-field",{staticClass:"van-cell-ptb0",attrs:{type:"text",placeholder:t.$t("lang.fill_in_real_name")},model:{value:t.checkout_real_name,callback:function(e){t.checkout_real_name=e},expression:"checkout_real_name"}})],1)]),i("van-cell",{staticClass:"b-min b-min-t",attrs:{title:t.$t("lang.id_number")}},[i("div",[i("van-field",{staticClass:"van-cell-ptb0",attrs:{type:"tel",placeholder:t.$t("lang.fill_in_id_number")},model:{value:t.checkout_real_id,callback:function(e){t.checkout_real_id=e},expression:"checkout_real_id"}})],1)]),t._l(t.checkoutInfo.article_list,function(e,s){return i("van-cell",{key:s,staticClass:"b-min b-min-t"},[i("template",{slot:"title"},[i("div",{staticClass:"dis-box"},[i("van-checkbox",{staticClass:"box-flex",model:{value:t.articleCheck,callback:function(e){t.articleCheck=e},expression:"articleCheck"}},[t._v(t._s(t.$t("lang.checkout_help_article")))]),e.title?i("div",{staticClass:"color-289",on:{click:function(e){t.clickArticle(s)}}},[t._v("《"+t._s(e.title)+"》")]):i("div",{on:{click:function(e){t.clickArticle(s)}}},[t._v(t._s(t.$t("lang.article_not")))])],1)])],2)})],2):t._e(),t.checkoutInfo.use_membership_card>0&&t.vipCard.membership_card_discount_price>0?i("van-cell-group",{staticClass:"van-cell-noright m-top08"},[i("van-cell",{staticClass:"van-cell-title b-min b-min-b"},[i("template",{slot:"title"},[i("div",{staticClass:"vip-zk"},[i("i",{staticClass:"icon-vip"},[i("img",{staticClass:"img",attrs:{src:s("60c6")}})]),i("div",{staticClass:"vip-zk-info"},[i("div",{staticClass:"tit"},[i("span",[t._v(t._s(t.$t("lang.open_membership")))]),i("label",{staticClass:"color-red"},[t._v(t._s(t.vipCard.membership_card_discount_price_formated))]),i("span",[t._v(t._s(t.$t("lang.yuan")))]),i("div",{staticClass:"i",on:{click:t.quanyiClick}},[i("i",{staticClass:"iconfont icon-49"})])]),i("div",{staticClass:"subtit"},[t._v(t._s(t.$t("lang.open_member")))])])])]),[i("div",{staticClass:"vip-zk-price",class:{active:t.vipReceiveState},on:{click:t.vipReceive}},[i("div",{staticClass:"price color-red margin_10",class:{mf:!t.vipCard.membership_card_buy_money>0}},[t.vipCard.membership_card_buy_money>0?i("span",{domProps:{innerHTML:t._s(t.vipCard.membership_card_buy_money_formated)}}):i("span",[t._v(t._s(t.$t("lang.drp_apply_title_5")))])]),i("i",{staticClass:"iconfont icon-gouxuan"})])]],2)],1):t._e(),i("van-cell-group",{staticClass:"van-cell-noright m-top08"},[t.checkoutInfo.allow_use_integral>0&&t.checkoutInfo.integral.length>0?i("van-cell",[i("div",{attrs:{slot:"title"},slot:"title"},[i("font",[t._v(t._s(t.$t("lang.in_commission")))]),i("label",{staticClass:"color-red"},[t._v(t._s(t.checkoutInfo.integral[0].integral))]),i("font",[t._v(t._s(t.$t("lang.points_deduction")))]),i("label",{staticClass:"color-red",domProps:{innerHTML:t._s(t.checkoutInfo.integral[0].integral_money_formated)}})],1),i("van-switch",{staticClass:"fr",attrs:{size:"20px"},on:{change:t.integralSelfHandle},model:{value:t.integralSelf,callback:function(e){t.integralSelf=e},expression:"integralSelf"}})],1):t._e(),t.checkoutInfo.use_surplus>0&&"onlinepay"==t.pay_code?i("van-cell",{staticClass:"van-cell-title b-min b-min-b"},[i("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("lang.is_use_balance")))]),i("van-switch",{staticClass:"fr",attrs:{size:"20px"},model:{value:t.surplusSelf,callback:function(e){t.surplusSelf=e},expression:"surplusSelf"}})],1):t._e(),t.checkoutInfo.use_surplus>0&&t.use_surplus_val>0&&"onlinepay"==t.pay_code?i("van-cell",{staticClass:"b-min b-min-b"},[i("template",{slot:"title"},[i("span",[t._v(t._s(t.$t("lang.label_use_balance")))])]),[i("div",{staticClass:"cell-value-flex"},[i("div",{staticClass:"input-bor"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.surplus,expression:"surplus"}],attrs:{type:"number",min:"1",placeholder:t.$t("lang.fill_in_use_balance"),max:t.checkoutInfo.user_money},domProps:{value:t.surplus},on:{change:t.surplusSelfHandle,input:function(e){e.target.composing||(t.surplus=e.target.value)}}})]),i("div",{staticClass:"user_money"},[t._v(t._s(t.$t("lang.label_sy_use_balance"))+t._s(t.checkoutInfo.user_money_formated))])])]],2):t._e()],1),i("van-cell-group",{staticClass:"van-cell-noright m-top08 van-cell-total"},[i("van-cell",{staticClass:"van-cell-title b-min b-min-b",attrs:{title:t.$t("lang.goods_together")}},[i("div",[i("div",{staticClass:"color-red"},[5==t.rec_type?[t._v(t._s(t.$t("lang.label_presale_deposit")))]:t._e(),1==t.rec_type&&1==t.checkoutInfo.is_group_deposit?[t._v(t._s(t.$t("lang.label_group_deposit")))]:t._e(),i("label",{domProps:{innerHTML:t._s(t.total.goods_price_formated)}})],2)])]),t.rateFee>0?i("van-cell",{attrs:{title:t.$t("lang.taxes_dues")}},[i("div",[i("em",{staticClass:"color-red"},[t._v("+ "+t._s(t.currency)+t._s(t.rateFee))])])]):t._e(),t.shippingFee>0&&0==t.store_id&&t.total.real_goods_count>0?i("van-cell",{attrs:{title:t.$t("lang.delivery_cost")}},[i("div",[i("em",{staticClass:"color-red"},[t._v("+ "+t._s(t.currency)+t._s(t.shippingFee))])])]):t._e(),t.total.discount>0?i("van-cell",{attrs:{title:t.$t("lang.discount")}},[i("div",[i("div",{staticClass:"color-red"},[t._v("-"),i("span",{domProps:{innerHTML:t._s(t.total.discount_formated)}})])])]):t._e(),t.total.integral_money>0?i("van-cell",{attrs:{title:t.$t("lang.integral")}},[i("div",[i("div",{staticClass:"color-red"},[t._v("-"),i("span",{domProps:{innerHTML:t._s(t.total.integral_money_formated)}})])])]):t._e(),t.bonusObject.bonusMoney>0?i("van-cell",{attrs:{title:t.$t("lang.bonus")}},[i("div",[i("div",{staticClass:"color-red"},[t._v("-"),i("span",{domProps:{innerHTML:t._s(t.total.bonus_money_formated)}})])])]):t._e(),t.total.free_shipping_fee>0?[i("van-cell",{attrs:{title:t.$t("lang.coupon_tab_3")}},[i("div",[i("div",{staticClass:"color-red"},[t._v("-"),i("span",{domProps:{innerHTML:t._s(t.total.free_shipping_fee_formated)}})])])])]:t._e(),t.couponsObject.couponsMoney>0?i("van-cell",{attrs:{title:t.$t("lang.coupons")}},[i("div",[i("div",{staticClass:"color-red"},[t._v("-"),i("span",{domProps:{innerHTML:t._s(t.total.coupons_money_formated)}})])])]):t._e(),t.valueCardObject.vc_dis<1?i("van-cell",{attrs:{title:t.$t("lang.value_card_discount")}},[i("div",[i("em",{staticClass:"color-red"},[t._v("-"+t._s(t.currency)+t._s(t.valueCardObject.vc_dis_money))])])]):t._e(),t.valueCardObject.valueCardMoney>0?i("van-cell",{attrs:{title:t.$t("lang.value_card")}},[i("div",[i("div",{staticClass:"color-red"},[t._v("-"),i("span",{domProps:{innerHTML:t._s(t.total.card_money_formated)}})])])]):t._e(),t.vipCard.order_membership_card_id>0&&t.vipReceiveState&&t.vipCard.membership_card_buy_money>0?i("van-cell",{attrs:{title:t.$t("lang.membership_card_buy_money")}},[i("div",[i("div",{staticClass:"color-red"},[t._v("+"),i("span",{domProps:{innerHTML:t._s(t.vipCard.membership_card_buy_money_formated)}})])])]):t._e(),t.vipCard.order_membership_card_id>0&&t.vipReceiveState&&t.vipCard.membership_card_discount_price>0?i("van-cell",{attrs:{title:t.$t("lang.membership_card_discount_price")}},[i("div",[i("div",{staticClass:"color-red"},[t._v("-"),i("span",{domProps:{innerHTML:t._s(t.vipCard.membership_card_discount_price_formated)}})])])]):t._e(),t.total.surplus>0?i("van-cell",{attrs:{title:t.$t("lang.money")}},[i("div",[i("div",{staticClass:"color-red"},[t._v("-"),i("span",{domProps:{innerHTML:t._s(t.total.surplus_formated)}})])])]):t._e()],2)],1),i("section",{staticClass:"order-detail-submit order-checkout-submit quanymagin"},[4==t.rec_type?[i("van-submit-bar",{attrs:{"button-text":t.$t("lang.immediate_payment")},on:{submit:t.onSubmit}},[i("div",{staticClass:"van-submit-bar-zdy"},[i("span",{staticClass:"label-title"},[t._v(t._s(t.$t("lang.label_actual_payment")))]),i("em",{staticClass:"color-red"},[t._v(t._s(t.amountPrice)+t._s(t.$t("lang.integral"))),t.shippingFee>0?[t._v(" + "+t._s(t.currency)+t._s(t.shippingFee))]:t._e()],2)])])]:[t.loading?[i("van-submit-bar",{attrs:{price:100*t.amountPrice,label:t.label_text,"button-text":"$t('lang.immediate_payment')",currency:t.currency,loading:t.loading}})]:[i("van-submit-bar",{attrs:{price:100*t.amountPrice,label:t.label_text,"button-text":t.$t("lang.immediate_payment"),currency:t.currency,disabled:!t.articleCheck,loading:t.loading},on:{submit:t.onSubmit}})]]],2)],2):t._e(),i("van-popup",{staticClass:"show-popup-coupon show-popup-common",attrs:{round:"",position:"bottom",overlay:t.overlay,closeable:""},model:{value:t.inventory,callback:function(e){t.inventory=e},expression:"inventory"}},[i("div",{staticClass:"title"},[i("strong",[t._v("商品清单")]),i("div",{staticClass:"title_count"},[i("em",[t._v(t._s(t.$t("lang.gong"))+" "+t._s(t.inventoryList.goods_count)+" "+t._s(t.$t("lang.jian")))]),i("i",{staticClass:"iconfont icon-close",on:{click:t.closeInventory}})])]),i("div",{staticClass:"content"},[i("div",{staticClass:"goods_thumb"},[i("ul",t._l(t.inventoryList.goods,function(e,s){return i("li",{key:s,staticClass:"goods_thumb_li",on:{click:function(s){t.productLink(e)}}},[i("div",{staticClass:"goods_thumb_content"},[i("div",{staticClass:"goods_thumb_left"},[i("img",{attrs:{src:e.goods_thumb}})]),i("div",{staticClass:"goods_thumb_right"},[i("div",{staticClass:"goods_thumb_right_one twolist-hidden"},[t._v(t._s(e.goods_name))]),i("div",{staticClass:"goods_thumb_price"},[i("span",{staticClass:"goods_thumb_price_red"},[t._v(t._s(e.goods_price_format))]),i("span",[t._v("x"+t._s(e.goods_number))])]),i("div",{staticClass:"goods_thumb_right_ci"},[t._v(t._s(e.goods_attr))])])])])})),i("div",{staticClass:"goods_thumb_footer"},[t._v("若对商品价格有所疑问，可点击查看详情")])])])]),i("van-popup",{staticClass:"invoice_show",attrs:{position:"right",overlay:t.overlay},model:{value:t.showBase,callback:function(e){t.showBase=e},expression:"showBase"}},[i("section",{staticClass:"invoice-warp-box padding-all"},[i("div",{staticClass:"header-tit"},[t._v(t._s(t.$t("lang.invoice_type")))]),i("ul",{staticClass:"ect-selects"},[i("li",{staticClass:"ect-select",class:{active:0==t.invoice.invoiceType},on:{click:function(e){t.incrementHandle(1)}}},[i("span",[t._v(t._s(t.$t("lang.plain_invoice")))])]),t.invoice.increment?[i("li",{staticClass:"ect-select",class:{active:1==t.invoice.invoiceType},on:{click:function(e){t.incrementHandle(2)}}},[i("span",[t._v(t._s(t.$t("lang.vat_invoice")))])])]:[i("li",{staticClass:"ect-select btn-box",on:{click:function(e){t.incrementHandle(2)}}},[i("span",[t._v(t._s(t.$t("lang.vat_invoice")))])])]],2),i("p",[t._v(t._s(t.$t("lang.checkout_inv_help")))])]),t.invoice.invoiceType?t._e():i("section",{staticClass:"invoice-cont-box"},[i("ul",{staticClass:"ect-selects"},[i("li",{staticClass:"ect-select",class:{active:0==t.invoice.company},on:{click:function(e){t.invTab(1)}}},[i("span",[t._v(t._s(t.$t("lang.person")))])]),i("li",{staticClass:"ect-select",class:{active:1==t.invoice.company},on:{click:function(e){t.invTab(2)}}},[i("span",[t._v(t._s(t.$t("lang.company")))])])]),t.invoice.company?i("div",{staticClass:"invoice-cont-1 van-cell-field"},[t.invoice.invoiceCompany.length>0?i("van-cell",{staticClass:"my-cell-nobottom",attrs:{title:t.$t("lang.label_company_name"),value:t.invoice.company_name,"is-link":""},on:{click:t.companySelect}}):i("van-field",{staticClass:"my-cell-nobottom",attrs:{label:t.$t("lang.label_company_name"),placeholder:t.$t("lang.fill_in_company_name")},model:{value:t.invoice.company_name,callback:function(e){t.$set(t.invoice,"company_name",e)},expression:"invoice.company_name"}}),i("van-field",{attrs:{label:t.$t("lang.taxpayer_id_number"),placeholder:t.$t("lang.enter_taxpayer_id_number")},model:{value:t.invoice.company_tid,callback:function(e){t.$set(t.invoice,"company_tid",e)},expression:"invoice.company_tid"}})],1):t._e(),i("div",{staticClass:"invoice-cont-2"},[i("div",{staticClass:"header-tit"},[t._v(t._s(t.$t("lang.invoice_content")))]),i("van-radio-group",{on:{change:t.invValueRadioHandle},model:{value:t.invoice.invValueRadio,callback:function(e){t.$set(t.invoice,"invValueRadio",e)},expression:"invoice.invValueRadio"}},t._l(t.invoiceValue,function(e,s){return i("van-radio",{key:s,attrs:{name:s}},[t._v(t._s(e))])}))],1)]),i("div",{staticClass:"my-box"},[i("div",{staticClass:"ect-button-more"},[i("div",{staticClass:"btn btn-submit",on:{click:t.submitBtn}},[t._v(t._s(t.$t("lang.confirm")))])])])]),i("van-popup",{staticClass:"show-popup-bottom",attrs:{position:"bottom"},model:{value:t.invoice.companyShow,callback:function(e){t.$set(t.invoice,"companyShow",e)},expression:"invoice.companyShow"}},[i("div",{staticClass:"goods-show-title padding-all"},[i("h3",{staticClass:"fl"},[t._v(t._s(t.$t("lang.company_name")))]),i("i",{staticClass:"iconfont icon-close fr",on:{click:t.companyClose}})]),t.invoice.invoice_id?i("div",{staticClass:"s-g-list-con"},[i("div",{staticClass:"select-two"},[i("ul",t._l(t.invoice.invoiceCompany,function(e,s){return i("li",{key:s,staticClass:"ect-select",class:{active:t.invoice.invoice_id==e.invoice_id},on:{click:function(s){t.invoice_company_select(e.invoice_id,e.inv_payee,e.tax_id)}}},[i("label",{staticClass:"dis-box"},[i("span",{staticClass:"box-flex"},[t._v(t._s(e.inv_payee))]),i("i",{staticClass:"iconfont icon-gou"})])])}))])]):t._e()]),i("van-popup",{staticClass:"show-popup-common show-popup-bonuslist",attrs:{position:"bottom",overlay:t.overlay},model:{value:t.bonusObject.bonusBase,callback:function(e){t.$set(t.bonusObject,"bonusBase",e)},expression:"bonusObject.bonusBase"}},[i("div",{staticClass:"title"},[i("strong",[t._v("红包")]),i("i",{staticClass:"iconfont icon-close",on:{click:t.closeBonus}})]),i("div",{staticClass:"content"},[i("div",{staticClass:"popup-bonus-list"},[i("ul",{staticClass:"flow-couon-list bonus-list"},t._l(t.bonusList,function(e,s){return i("li",{key:s,staticClass:"new-coupons-box bonus-select-box",class:{active:t.bonusObject.bonusId==e.bonus_id,disabled:t.bonusObject.bonusId!=e.bonus_id&&t.bonusDisabled},on:{click:function(s){t.bonusActive(e.bonus_id)}}},[i("div",{staticClass:"cont dis-box"},[i("div",{staticClass:"bonus-left"},[i("div",{staticClass:"img-box"},[i("div",{staticClass:"color-red"},[i("strong",{staticClass:"bonus-money"},[t._v(t._s(t.currency)+t._s(e.type_money))])])])]),i("div",{staticClass:"box-flex bonus-right"},[i("p",{staticClass:"bonus-tit"},[i("strong",[t._v(t._s(e.type_name))])]),i("p",{staticClass:"bonus-desc"},[t._v(t._s(t.$t("lang.man"))+t._s(e.min_goods_amount)+t._s(t.$t("lang.price_unit"))+t._s(t.$t("lang.have_access_to")))])])]),i("div",{staticClass:"time"},[t._v(t._s(t.$t("lang.label_service_life"))+t._s(e.use_start_date)+" "+t._s(t.$t("lang.zhi"))+" "+t._s(e.use_end_date))]),i("div",{staticClass:"new-store-radio-box"},[i("i",{staticClass:"iconfont icon-gou"})])])}))]),i("div",{staticClass:"footer"},[i("div",{staticClass:"btn",on:{click:t.submitBonus}},[t._v(t._s(t.$t("lang.confirm")))])])])]),i("van-popup",{staticClass:"show-popup-common show-popup-valuecard",attrs:{position:"bottom",overlay:t.overlay},model:{value:t.valueCardObject.valueCardBase,callback:function(e){t.$set(t.valueCardObject,"valueCardBase",e)},expression:"valueCardObject.valueCardBase"}},[i("div",{staticClass:"title"},[i("strong",[t._v("储值卡")]),i("i",{staticClass:"iconfont icon-close",on:{click:t.closeValuecard}})]),i("div",{staticClass:"content"},[i("div",{staticClass:"value-card-list"},[i("ul",{staticClass:"user_valuecard flow-couon-list"},t._l(t.valueCard,function(e,s){return i("li",{key:s,class:{active:t.valueCardObject.valueCardId==e.vc_id},on:{click:function(s){t.valueCardActive(e.vc_id)}}},[i("div",{staticClass:"valuecard_top padding-all"},[i("header",{staticClass:"user_col"},[i("strong",[t._v("NO."+t._s(e.value_card_sn))]),i("label",{staticClass:"user_tag_box active"},[t._v(t._s(t.$t("lang.activated")))])]),i("h3",{staticClass:"text-center user_col"},[i("em",[t._v(t._s(t.$t("lang.label_sum")))]),t._v(t._s(t.currency)+t._s(e.card_money))])]),i("div",{staticClass:"user_card_num padding-all"},[e.vc_dis?i("p",[t._v(t._s(e.vc_dis))]):t._e(),i("p",[t._v(t._s(t.$t("lang.label_expiration_time"))+t._s(e.end_time)),i("label",{staticClass:"valuecard_num"},[i("em",[t._v(t._s(t.$t("lang.face_value"))+":\n\t\t\t\t\t\t\t\t\t")]),t._v(t._s(t.currency)+t._s(e.card_money))])])]),i("div",{staticClass:"new-store-radio-box"},[i("i",{staticClass:"iconfont icon-gou"})])])}))]),i("div",{staticClass:"footer"},[i("div",{staticClass:"btn",on:{click:t.submitValuecard}},[t._v(t._s(t.$t("lang.confirm")))])])])]),i("van-popup",{staticClass:"show-popup-bottom",attrs:{position:"bottom"},model:{value:t.feeShow,callback:function(e){t.feeShow=e},expression:"feeShow"}},[i("div",{staticClass:"goods-show-title padding-all"},[i("h3",{staticClass:"fl"},[t._v(t._s(t.$t("lang.shipping_mode")))]),i("i",{staticClass:"iconfont icon-close fr",on:{click:t.feeclose}})]),i("div",{staticClass:"s-g-list-con"},[i("div",{staticClass:"select-two"},[i("ul",t._l(t.shippingList,function(e,s){return i("li",{key:s,staticClass:"ect-select",class:{active:t.shipping_id[t.shipping_active_id]==e.shipping_id},on:{click:function(s){t.shipping_select(e)}}},[i("label",{staticClass:"dis-box"},[i("span",{staticClass:"box-flex"},[t._v(t._s(e.shipping_name))]),i("i",{staticClass:"iconfont icon-gou"})])])}))])])]),i("van-popup",{staticClass:"show-popup-bottom",attrs:{position:"bottom"},model:{value:t.paymentShow,callback:function(e){t.paymentShow=e},expression:"paymentShow"}},[i("div",{staticClass:"goods-show-title padding-all"},[i("h3",{staticClass:"fl"},[t._v(t._s(t.$t("lang.payment_mode")))]),i("i",{staticClass:"iconfont icon-close fr",on:{click:t.paymentClose}})]),i("div",{staticClass:"s-g-list-con"},[i("div",{staticClass:"select-two"},[i("ul",t._l(t.payment_method,function(e,s){return i("li",{key:s,staticClass:"ect-select",class:{active:t.pay_id==e.pay_id},on:{click:function(s){t.payment_method_select(e.pay_id,e.pay_name,e.pay_code)}}},[i("label",{staticClass:"dis-box"},[i("span",{staticClass:"box-flex"},[t._v(t._s(e.pay_name))]),i("i",{staticClass:"iconfont icon-gou"})])])}))])])]),i("van-popup",{staticClass:"show-popup-bottom border-top",attrs:{position:"bottom"},model:{value:t.shopShow,callback:function(e){t.shopShow=e},expression:"shopShow"}},[i("div",{staticClass:"goods-show-title padding-all"},[i("h3",{staticClass:"fl"},[t._v("选择店铺")]),i("i",{staticClass:"iconfont icon-close fr",on:{click:t.storeclose}})]),i("div",{staticClass:"s-g-list-con"},[i("div",{staticClass:"select-two"},[i("ul",t._l(t.actVal,function(e,a){return i("li",{key:a,staticClass:"ect-select",class:{active:t.store_ids==e.store_id},on:{click:function(s){t.store_method_select(e.store_id,e.store_name,e.user_id,a)}}},[i("label",{staticClass:"dis-box"},[i("img",{staticClass:"dis_img",attrs:{src:s("8456")}}),i("span",{staticClass:"box-flex dis_shop"},[t._v(t._s(e.store_name))]),i("i",{staticClass:"iconfont icon-gou"})])])}))])])]),i("van-popup",{staticClass:"paypwdShow",model:{value:t.paypwdShow,callback:function(e){t.paypwdShow=e},expression:"paypwdShow"}},[i("van-password-input",{attrs:{value:t.paypwdValue,info:t.$t("lang.paypwd_value_info")},on:{focus:function(e){t.showKeyboard=!0}}}),i("van-number-keyboard",{attrs:{show:t.showKeyboard},on:{input:t.onInput,delete:t.onDelete,blur:function(e){t.showKeyboard=!1},hide:t.onHide}})],1),i("van-popup",{staticClass:"show-popup-bottom",staticStyle:{top:"0"},attrs:{position:"bottom"},model:{value:t.articleShow,callback:function(e){t.articleShow=e},expression:"articleShow"}},[i("div",{staticClass:"goods-show-title padding-all text-all"},[i("h3",{staticClass:"fl"},[t._v(t._s(t.showArticle.title))]),i("i",{staticClass:"iconfont icon-close fr",on:{click:t.articleClose}})]),i("div",{staticClass:"s-g-list-con padding-all",staticStyle:{"max-height":"none"}},[i("div",{staticClass:"t-remark m-b10"},[t._v(t._s(t.showArticle.add_time))]),i("div",{domProps:{innerHTML:t._s(t.showArticle.content)}})])]),i("van-popup",{staticClass:"quanyiShow",model:{value:t.quanyiShow,callback:function(e){t.quanyiShow=e},expression:"quanyiShow"}},[i("div",{staticClass:"quanyi-top"},[i("i",{staticClass:"icon-vip"},[i("img",{staticClass:"img",attrs:{src:s("60c6")}})]),i("div",{staticClass:"name"},[t._v(t._s(t.vipCard.name))]),i("i",{staticClass:"iconfont icon-close",on:{click:t.handelClose}})]),i("div",{staticClass:"quanyi-xian"},[i("span",[t._v(t._s(t.$t("lang.interests")))])]),i("div",{staticClass:"quanyi-list"},t._l(t.vipCard.user_membership_card_rights_list,function(e,s){return i("div",{key:s,staticClass:"item"},[i("i",{staticClass:"icon"},[i("img",{staticClass:"img",attrs:{src:e.icon}})]),i("div",{staticClass:"txt"},[t._v(t._s(e.name))])])}))]),i("van-popup",{staticClass:"show-popup-common show-popup-coupon",attrs:{position:"bottom"},model:{value:t.couponsObject.couponsBase,callback:function(e){t.$set(t.couponsObject,"couponsBase",e)},expression:"couponsObject.couponsBase"}},[i("div",{staticClass:"title"},[i("strong",[t._v("优惠券")]),i("i",{staticClass:"iconfont icon-close",on:{click:t.closeCoupons}})]),i("div",{staticClass:"content"},[i("div",{staticClass:"usable-coupon-number"},[t._v("可用优惠券 ("+t._s(t.couponsList.length)+")")]),i("div",{staticClass:"usable-coupon-money"},[t._v("使用优惠券"+t._s(t.couponsObject.couponsIdArr&&t.couponsObject.couponsIdArr.length)+"张,共抵扣"),i("em",{staticClass:"color-red"},[t._v("¥"+t._s(t.couponsObject.couponsMoney))])]),t.shopCouponList?i("div",{staticClass:"coupons-list"},t._l(t.shopCouponList,function(e,s){return i("ul",{key:s},t._l(e.list,function(e,a){return i("li",{key:a,on:{click:function(i){t.couponValClick(e.uc_id,e.cou_money,s)}}},[i("div",{staticClass:"left"},[i("div",{staticClass:"coupon-price"},[t._v(t._s(e.cou_money_formated))]),i("div",{staticClass:"coupon-desc"},[t._v(t._s(t.$t("lang.man"))+t._s(e.cou_man)+t._s(t.$t("lang.available_full")))])]),i("div",{staticClass:"right"},[i("div",{staticClass:"coupon-tit"},[i("em",{staticClass:"tag"},[t._v(t._s(e.cou_type_name))]),i("span",[t._v(t._s(t.$t("lang.limit"))+t._s(e.shop_name)+t._s(t.$t("lang.usable"))+"["+t._s(e.cou_goods_name)+"]")])]),i("div",{staticClass:"time"},[t._v(t._s(e.cou_end_time))]),i("div",{staticClass:"checkbox"},[i("div",{staticClass:"van-radio"},[i("span",{staticClass:"van-radio__input van-radio__icon"},[i("i",{staticClass:"van-icon",class:[t.couponsObject.couponsId[s]&&t.couponsObject.couponsId[s].uc_id==e.uc_id?"van-icon-checked":"van-icon-check"]})])])])])])}))})):t._e(),i("div",{staticClass:"footer"},[i("div",{staticClass:"btn",on:{click:t.submitCoupons}},[t._v("确定")])])])]),i("CommonNav")],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"user-more"},[s("i",{staticClass:"iconfont icon-moreunfold"})])}],c=(s("7514"),s("a481"),s("c5f6"),s("ac6a"),s("9395")),l=s("88d8"),r=(s("5f1a"),s("a3e2")),u=(s("8fec"),s("7bd9")),_=(s("9e6b"),s("c41f")),d=(s("b000"),s("1a23")),p=(s("e7e5"),s("d399")),h=(s("4ddd"),s("9f14")),v=(s("a44c"),s("e27c")),m=(s("8a58"),s("e41f")),g=(s("e17f"),s("2241")),b=(s("be7f"),s("565f")),f=(s("f908"),s("b528")),y=(s("19de"),s("234f")),C=(s("93ac"),s("bb33")),k=(s("be39"),s("efa0")),$=(s("0653"),s("34e9")),O=(s("c194"),s("7744")),w=(s("a909"),s("3acc")),j=(s("7f7f"),s("3c32"),s("417e")),I=(s("cadf"),s("551c"),s("097d"),s("4328")),x=s.n(I),S=s("2f62"),L=s("d567"),T={data:function(){return{loading:!1,checkoutDisplay:!1,postscriptValue:[],showBase:!1,overlay:!0,invoice:{company:!1,company_name:"",company_tid:"",increment:!1,invoiceType:!1,invoiceTitle:this.$t("lang.person"),invoiceConent:this.$t("lang.no_invoice"),invoiceCompany:[],tax_id:0,invValueRadio:0,companyShow:!1,invoice_id:null},bonusObject:{bonusContent:this.$t("lang.no_use_bonus"),bonusBase:!1,bonusId:0,bonusMoney:0,bonusSn:0},couponsObject:{couponsContent:this.$t("lang.no_use_coupons"),couponsBase:!1,couponsId:[],couponsMoney:0,couponsIdArr:[]},valueCardObject:{valueCardContent:this.$t("lang.no_use_value_card"),valueCardBase:!1,valueCardId:0,valueCardMoney:0,vc_dis:1,vc_dis_money:0},bonusDisabled:!1,couponsDisabled:!1,feeShow:!1,paymentShow:!1,pay_code:"",pay_id:null,pay_name:"",shippingList:[],shipping_active_id:0,use_surplus_val:0,use_integral_val:0,price:0,rec_type:this.$route.query.rec_type?this.$route.query.rec_type:0,type_id:this.$route.query.type_id?this.$route.query.type_id:0,store_id:this.$route.query.store_id>0?this.$route.query.store_id:0,store_ids:this.$route.query.store_ids>0?this.$route.query.store_ids:0,rec_id:this.$route.query.rec_id?this.$route.query.rec_id:"",ru_id:this.$route.query.ru_id,goods_id:this.$route.query.goods_id?this.$route.query.goods_id:"",store_act:0,store_type:"",store_mobile:0,take_time:"",bs_id:0,team_id:this.$route.query.team_id,t_id:0,extension_id:0,currency:"¥",label_text:this.$t("lang.label_total_amount_payable"),shipping_id:[],shipping_code:[],shipping_type:[],shipping_name:[],format_shipping_fee:[],shipping_fee:[],rate_price:[],checkout_real_name:"",checkout_real_id:"",paypwdShow:!1,paypwdValue:"",showKeyboard:!0,articleCheck:!0,articleShow:!1,showArticle:{},listPackageShow:!1,surplus:"",surplus_status:!1,timer:"",vipReceiveState:!1,quanyiShow:!1,back:"",storepick:"",stor:this.$route.query.stor?this.$route.query.stor:0,shopShow:!1,actVal:[],isSingle:this.$route.query.isSingle?this.$route.query.isSingle:"",inventory:!1,inventoryList:[]}},components:(i={},Object(l["a"])(i,j["a"].name,j["a"]),Object(l["a"])(i,w["a"].name,w["a"]),Object(l["a"])(i,O["a"].name,O["a"]),Object(l["a"])(i,$["a"].name,$["a"]),Object(l["a"])(i,k["a"].name,k["a"]),Object(l["a"])(i,C["a"].name,C["a"]),Object(l["a"])(i,y["a"].name,y["a"]),Object(l["a"])(i,f["a"].name,f["a"]),Object(l["a"])(i,b["a"].name,b["a"]),Object(l["a"])(i,g["a"].name,g["a"]),Object(l["a"])(i,m["a"].name,m["a"]),Object(l["a"])(i,v["a"].name,v["a"]),Object(l["a"])(i,h["a"].name,h["a"]),Object(l["a"])(i,p["a"].name,p["a"]),Object(l["a"])(i,d["a"].name,d["a"]),Object(l["a"])(i,_["a"].name,_["a"]),Object(l["a"])(i,u["a"].name,u["a"]),Object(l["a"])(i,r["a"].name,r["a"]),Object(l["a"])(i,"CommonNav",L["a"]),i),created:function(){var t=this,e="";e=t.rec_type>0?"../../pages/checkout/checkout?rec_type="+t.rec_type+"&type_id="+t.type_id:"../../pages/checkout/checkout",setTimeout(function(){uni.getEnv(function(t){(t.plus||t.miniprogram)&&uni.redirectTo({url:e})})},100),this.checkoutDefault(),this.isSingle||this.goodsList()},computed:Object(c["a"])({},Object(S["c"])({checkoutInfo:function(t){return t.shopping.checkoutInfo},checkout_done:function(t){return t.shopping.checkout_done}}),{goodsCartList:{get:function(){return this.$store.state.shopping.goodsCartList},set:function(t){this.$store.state.shopping.goodsCartList=t}},consignee_title:function(){return this.checkoutInfo.consignee?this.checkoutInfo.consignee.consignee+" "+this.checkoutInfo.consignee.mobile:""},consignee_address:function(){return this.checkoutInfo.consignee?this.checkoutInfo.consignee.province_name+this.checkoutInfo.consignee.city_name+this.checkoutInfo.consignee.district_name+this.checkoutInfo.consignee.address:""},address_id:function(){return this.checkoutInfo.consignee&&this.checkoutInfo.consignee.address_id?this.checkoutInfo.consignee.address_id:""},cart_id:function(){var t=[];return this.checkoutInfo.goods_list.forEach(function(e){e.goods.forEach(function(e){t.push(e.rec_id)})}),t},bonusList:function(){return this.checkoutInfo.bonus_list?this.checkoutInfo.bonus_list:0},couponsList:function(){return this.checkoutInfo.coupons_list?this.checkoutInfo.coupons_list:0},valueCard:function(){return this.checkoutInfo.value_card?this.checkoutInfo.value_card:0},isLogin:function(){return null!=localStorage.getItem("token")},payment_method:function(){return this.checkoutInfo.payment_list?this.checkoutInfo.payment_list:""},total:{get:function(){return this.checkoutInfo.total?this.checkoutInfo.total:""},set:function(t){}},amountPrice:{get:function(){var t="";return 4==this.rec_type?(this.price=this.total.exchange_integral,this.currency="",this.price):(0==this.price&&(this.price=this.total.amount),this.surplusSelf&&this.surplus>0||!0===this.surplus_status?t=this.total.amount:(t=this.price,this.price>0&&this.shippingFee&&this.total.real_goods_count>0&&(this.total.card_money>0&&this.price>=this.shippingFee?t=this.price+this.shippingFee:0==this.total.card_money&&(t=this.price+this.shippingFee))),this.rateFee&&(t+=this.rateFee),t>0&&this.total.free_shipping_fee>0&&(t-=this.total.free_shipping_fee),Number(t))},set:function(t){this.price=t}},shipping:function(){var t=[];return this.checkoutInfo.goods_list&&this.checkoutInfo.goods_list.forEach(function(e){t.push(e.shipping.default_shipping)}),t},shippingFee:function(){var t=0;return this.shipping_fee&&0==this.store_id&&this.shipping_fee.forEach(function(e){t+=100*Number(e)}),t/100},rateFee:function(){var t=0;return this.rate_price&&0==this.store_id&&this.rate_price.forEach(function(e){t+=Number(e)}),Number(parseFloat(t).toFixed(2))},surplusSelf:{get:function(){return 0!=this.use_surplus_val},set:function(t){this.use_surplus_val=1==t?1:0}},integralSelf:{get:function(){return 0!=this.use_integral_val},set:function(t){this.use_integral_val=1==t?1:0}},integral:function(){return this.checkoutInfo.integral.length>0?this.checkoutInfo.integral[0].integral:0},storeInfo:function(){return this.checkoutInfo.store},storeCart:function(){return this.checkoutInfo.store_cart},listShow:function(){return this.$store.state.shopping.listShow},invoiceValue:function(){return this.checkoutInfo.invoice_content},use_paypwd:function(){return this.checkoutInfo.use_paypwd?this.checkoutInfo.use_paypwd:0},vipCard:function(){return this.checkoutInfo.use_membership_card>0?this.checkoutInfo.membership_card_info:""},shopCouponList:function(){var t=[];return this.couponsList.length>0&&this.couponsList.map(function(e){if(0==t.length)t.push({ru_id:e.ru_id,list:[e]});else{var s=t.some(function(t){if(t.ru_id==e.ru_id)return t.list.push(e),!0});s||t.push({ru_id:e.ru_id,list:[e]})}}),t}}),methods:(a={shop_kud:function(){this.goods_id?this.$router.push({name:"checkout",query:{type:!0,num:this.$route.query.num,spec_arr:this.$route.query.spec_arr,goods_id:this.goods_id,store_id:this.store_id,rec_id:this.rec_id,ru_id:this.ru_id,isSingle:this.isSingle}}):this.$router.push({name:"checkout",query:{type:!0,rec_id:this.rec_id,ru_ids:this.ru_id,store_ids:this.store_id}})},goodsList:function(){this.$store.dispatch("setGoodsCart",{warehouse_id:0,area_id:0})},shop_show:function(){this.shopShow=!0},checkoutDefault:function(){if(this.isLogin)this.store_id>0?this.$store.dispatch("setShoppingCheckout",{rec_type:this.rec_type,store_id:this.store_id,leader_id:this.$route.query.leader_id||0}):this.$store.dispatch("setShoppingCheckout",{rec_type:this.rec_type,type_id:this.type_id,team_id:this.team_id,leader_id:this.$route.query.leader_id||0});else{var t=this.$t("lang.login_user_invalid");this.notLogin(t)}var e=JSON.parse(sessionStorage.getItem("configData"));e&&(this.currency=e.currency_format.replace("%s",""))},checkoutAdd:function(){if(this.isLogin)this.rec_id?this.$router.push({name:"storeGoods",query:{rec_id:this.rec_id,ru_id:this.ru_id}}):this.goods_id?this.$router.push({name:"storeGoods",query:{id:this.goods_id,spec_arr:this.$route.query.attr_id,num:this.$route.query.num}}):Object(p["a"])(this.$t("lang.select_store_goods"));else{var t=this.$t("lang.login_user_not");this.notLogin(t)}},checkoutAddress:function(){if(this.checkoutInfo.consignee.nearbyleader>0){var t={lng:this.checkoutInfo.consignee.lng,lat:this.checkoutInfo.consignee.lat};sessionStorage.setItem("addressLngLat",JSON.stringify(t))}var e={routerLink:"checkout"};this.$route.query&&(e={routerLink:"checkout",rec_type:this.rec_type,type_id:this.type_id,team_id:this.team_id,nearbyleader:this.checkoutInfo.consignee.nearbyleader||0}),this.$router.push({name:"address",query:e})},onSubmit:function(){var t=this,e=[],s=window.location.href;if(this.checkoutInfo.goods_list.forEach(function(t){e.push(t.ru_id)}),1==this.rec_type||2==this.rec_type||5==this.rec_type||6==this.rec_type)this.extension_id=this.type_id;else if(7==this.rec_type){if(this.t_id=this.type_id,"cod"==this.pay_code&&0==this.use_surplus_val)return Object(p["a"])(this.$t("lang.team_not_pay_delivery")),!1}else 8==this.rec_type&&(this.bs_id=this.type_id);if(("balance"==this.pay_code||this.use_surplus_val>0||this.valueCardObject.valueCardId>0)&&this.use_paypwd>0&&this.paypwdValue.length<6)return this.paypwdShow=!0,this.showKeyboard=!0,!1;if(this.checkoutInfo.cross_border){if(""==this.checkout_real_name)return Object(p["a"])(this.$t("lang.truename_not_null")),!1;if(""==this.checkout_real_id)return Object(p["a"])(this.$t("lang.id_number_not_null")),!1}if(Number(this.surplus)>Number(this.checkoutInfo.user_money))return Object(p["a"])(this.$t("lang.use_balance_propmt_1")),!1;if(""===this.checkoutInfo.user_info.mobile_phone)return g["a"].confirm({message:this.$t("lang.is_user_bind_mobile_phone"),className:"text-center"}).then(function(){t.$router.push({name:"bindphone",query:{type:"reset",url:s}})}).catch(function(){}),!1;this.loading=!0;var i=this.invoice.company?this.invoice.company_name:this.invoice.invoiceTitle,a=this.invoice.invoiceType?this.invoice.tax_id:this.invoice.company_tid,o=this.checkoutInfo.isshipping_list;if(0==o.length)return Object(p["a"])(this.$t("lang.not_shipping")),void setTimeout(function(){t.$router.push({name:"cart"})},600);var n={cart_value:o,flow_type:this.checkoutInfo.flow_type,store_id:this.store_id,store_type:"",store_mobile:this.store_mobile,take_time:this.take_time,pay_type:1,pay_id:this.pay_id,ru_id:e,shipping:this.shipping_id,shipping_code:this.shipping_code,shipping_type:this.shipping_type,point_id:0,shipping_dateStr:0,is_surplus:this.use_surplus_val,surplus:this.surplus,use_integral:this.use_integral_val,integral:this.integral,bonus_id:this.bonusObject.bonusId,bonus:this.bonusObject.bonusMoney,bonus_sn:this.bonusObject.bonusSn,uc_id:this.couponsObject.couponsIdArr,coupons:this.couponsObject.couponsMoney,vc_id:this.valueCardObject.valueCardId,use_value_card:this.valueCardObject.valueCardMoney,vc_dis_money:this.valueCardObject.vc_dis_money,goods_amount:this.amountPrice,discount:0,how_oos:0,postscript:this.postscriptValue,invoice:0,inv_type:this.invoice.invoiceType?1:0,inv_payee:i,tax_id:a,inv_content:this.invoice.invoiceConent,need_inv:0,card_message:"",tax:0,pack:0,card:0,vat_id:0,need_insure:0,bs_id:this.bs_id,t_id:this.t_id,team_id:this.team_id,extension_id:this.extension_id,rel_name:this.checkout_real_name,id_num:this.checkout_real_id,address_id:this.address_id,pay_pwd:this.paypwdValue,referer:"H5",order_membership_card_id:this.vipReceiveState?this.vipCard.order_membership_card_id:0,membership_card_discount_price:this.vipCard.membership_card_discount_price,leader_id:this.$route.query.leader_id||0};0==this.store_id?this.checkoutInfo.noshipping_list.length>0?g["a"].confirm({message:this.$t("lang.noshipping_list_cur_propmt"),className:"text-center"}).then(function(){t.$store.dispatch("setCheckoutSubmit",n).then(function(e){1==e.data.error?(Object(p["a"])(e.data.msg),t.loading=!1):(p["a"].success({duration:1e3,forbidClick:!0,loadingType:"spinner",message:t.$t("lang.submit_success")}),t.$router.push({name:"done",query:{order_sn:e.data}}))})}).catch(function(){t.$router.push({name:"cart"})}):this.checkoutInfo.isshipping_list.length>0&&this.$store.dispatch("setCheckoutSubmit",n).then(function(e){1==e.data.error?(e.data.url?g["a"].confirm({message:e.data.msg,className:"text-center"}).then(function(){window.location.href=e.data.url}):Object(p["a"])(e.data.msg),t.loading=!1,t.paypwdValue=""):(p["a"].success({duration:1e3,forbidClick:!0,loadingType:"spinner",message:t.$t("lang.submit_success")}),t.$router.push({name:"done",query:{order_sn:e.data}}))}):this.$store.dispatch("setCheckoutSubmit",n).then(function(e){1==e.data.error?(Object(p["a"])(e.data.msg),t.loading=!1,t.paypwdValue=""):(p["a"].success({duration:1e3,forbidClick:!0,loadingType:"spinner",message:t.$t("lang.submit_success")}),t.$router.push({name:"done",query:{order_sn:e.data}}))})},notLogin:function(t){var e=this,s=window.location.href;g["a"].confirm({message:t,className:"text-center"}).then(function(){e.$router.push({name:"login",query:{redirect:{name:"cart",url:s}}})}).catch(function(){})},invoiceSelect:function(){var t=this;if(this.checkoutInfo.cross_border)return!1;this.showBase=!0,this.$http.get("".concat(window.ROOT_URL,"api/invoice")).then(function(e){var s=e.data.data;""==s.user_vat_invoice?t.invoice.increment=!1:(t.invoice.increment=!0,t.invoice.tax_id=s.user_vat_invoice.id,t.invoice.invoiceCompany=s.order_invoice_info)})},invTab:function(t){1==t?(this.invoice.company=!1,this.invoice.company_name="",this.invoice.company_tid=""):(this.invoice.company=!0,this.invoice.invoiceCompany.length>0&&(this.invoice.invoice_id=this.invoice.invoiceCompany[0].invoice_id,this.invoice.company_name=this.invoice.invoiceCompany[0].inv_payee,this.invoice.company_tid=this.invoice.invoiceCompany[0].tax_id))},companySelect:function(){this.invoice.companyShow=!0},companyClose:function(){this.invoice.companyShow=!1},invoice_company_select:function(t,e,s){this.invoice.invoice_id=t,this.invoice.company_name=e,this.invoice.company_tid=s},incrementHandle:function(t){var e=this;1==t?this.invoice.invoiceType=!1:1==this.invoice.increment?this.invoice.invoiceType=!0:g["a"].confirm({message:this.$t("lang.apply_vat_tax_invoice"),className:"text-center"}).then(function(){e.$router.push({name:"invForm"})}).catch(function(){})},invValueRadioHandle:function(){var t=this;this.invoiceValue.forEach(function(e,s){s==t.invoice.invValueRadio&&(t.invoice.invoiceConent=e)})},submitBtn:function(){if(this.invoice.company){if(""==this.invoice.company_name)return Object(p["a"])(this.$t("lang.fill_in_company_name")),!1;if(""==this.invoice.company_tid)return Object(p["a"])(this.$t("lang.fill_in_taxpayer_id_number")),!1;this.showBase=!1}else this.showBase=!1},bonusHandle:function(){this.bonusObject.bonusBase=!0,this.surplusSelf=!1},bonusActive:function(t){this.bonusObject.bonusId!=t?this.bonusDisabled||(this.bonusObject.bonusId=t):this.bonusObject.bonusId=0},closeBonus:function(){this.bonusObject.bonusBase=!1},submitBonus:function(){var t=this;this.$http.post("".concat(window.ROOT_URL,"api/trade/changebon"),x.a.stringify({bonus_id:this.bonusObject.bonusId,total:this.total,shipping_id:this.shipping_id})).then(function(e){var s=e.data.data;t.$store.dispatch("setCheckoutTotal",s),s.bonus_money>0?t.bonusObject.bonusContent=s.bonus_money_formated:t.bonusObject.bonusContent=t.$t("lang.no_use_bonus"),s.card_money>0?t.valueCardObject.valueCardContent=s.card_money_formated:t.valueCardObject.valueCardContent=t.$t("lang.no_use_value_card"),t.total.bonus_money=s.bonus_money,t.amountPrice=s.amount,t.ratePrice=s.rate_price,t.valueCardObject.valueCardMoney=s.card_money,t.bonusObject.bonusMoney=s.bonus_money,t.valueCardObject.vc_dis_money=s.vc_dis_money,t.valueCardObject.vc_dis=s.vc_dis,t.valueCardObject.valueCardId=s.value_card_id,void 0!==s.check_type&&t.toggleDisabled("bonus",s.check_type)}),this.bonusObject.bonusBase=!1,this.surplus_status=!1},couponsHandle:function(){this.couponsObject.couponsBase=!0,this.surplusSelf=!1},couponsActive:function(t){this.couponsObject.couponsId!=t?this.couponsDisabled||(this.couponsObject.couponsId=t):this.couponsObject.couponsId=0},closeCoupons:function(){this.couponsObject.couponsBase=!1},submitCoupons:function(){var t=this;this.$http.post("".concat(window.ROOT_URL,"api/trade/changecou"),x.a.stringify({uc_id:this.couponsObject.couponsIdArr,total:this.total,shipping_id:this.shipping_id})).then(function(e){var s=e.data.data;t.$store.dispatch("setCheckoutTotal",s),s.free_shipping_fee>0&&(t.couponsObject.couponsContent=t.$t("lang.coupon_tab_3")),s.coupons_money>0?t.couponsObject.couponsContent=s.coupons_money_formated:t.couponsObject.couponsContent=t.$t("lang.no_use_coupons"),s.card_money>0?t.valueCardObject.valueCardContent=s.card_money_formated:t.valueCardObject.valueCardContent=t.$t("lang.no_use_value_card"),t.total.coupons_money=s.coupons_money,t.couponsObject.couponsMoney=s.coupons_money,t.valueCardObject.valueCardMoney=s.card_money,t.amountPrice=s.amount,t.ratePrice=s.rate_price,t.valueCardObject.vc_dis_money=s.vc_dis_money,t.valueCardObject.vc_dis=s.vc_dis,t.valueCardObject.valueCardId=s.value_card_id,void 0!==s.check_type&&t.toggleDisabled("coupons",s.check_type)}),this.couponsObject.couponsBase=!1,this.surplus_status=!1},toggleDisabled:function(t,e){"bonus"==t?this.couponsDisabled=1==e:"coupons"==t&&(this.bonusDisabled=1==e)},valueCardHandle:function(){this.valueCardObject.valueCardBase=!0,this.surplusSelf=!1},valueCardActive:function(t){this.valueCardObject.valueCardId!=t?this.valueCardObject.valueCardId=t:this.valueCardObject.valueCardId=0},closeValuecard:function(){this.valueCardObject.valueCardBase=!1,this.valueCardObject.valueCardId=0},onListShow:function(t){this.inventory=!0;var e=this.checkoutInfo.goods_list.find(function(e,s){return e.ru_id==t});this.inventoryList=e},closeInventory:function(){this.inventory=!1},submitValuecard:function(){var t=this;this.$http.post("".concat(window.ROOT_URL,"api/trade/changecard"),x.a.stringify({vid:this.valueCardObject.valueCardId,total:this.total,shipping_id:this.shipping_id})).then(function(e){var s=e.data.data;t.$store.dispatch("setCheckoutTotal",s),s.card_money>0?t.valueCardObject.valueCardContent=s.card_money_formated:t.valueCardObject.valueCardContent=t.$t("lang.no_use_value_card"),t.valueCardObject.vc_dis=s.vc_dis,t.amountPrice=s.amount,t.ratePrice=s.rate_price,t.valueCardObject.valueCardMoney=s.card_money,t.total.card_money=s.card_money,t.valueCardObject.vc_dis_money=s.vc_dis_money}),this.valueCardObject.valueCardBase=!1,this.surplus_status=!1},feeHandle:function(t,e){var s=this,i=0,a="",o=this.checkoutInfo.flow_type,n={country:1,province:this.checkoutInfo.consignee.province,city:this.checkoutInfo.consignee.city,district:this.checkoutInfo.consignee.district,street:this.checkoutInfo.consignee.street};this.feeShow=!0,this.shipping_active_id=t,this.checkoutInfo.goods_list[t].goods.forEach(function(t){a+=t.rec_id+",",i=t.ru_id}),a=a.substr(0,a.length-1),this.$store.dispatch("setShipping",{rec_ids:a,ru_id:i,consignee:n,flow_type:o}).then(function(t){t.shipping&&(s.shippingList=t.shipping)})},feeclose:function(){this.feeShow=!1},shipping_select:function(t){this.surplusSelf=!1,this.shipping_id.splice(this.shipping_active_id,1,t.shipping_id),this.shipping_code.splice(this.shipping_active_id,1,t.shipping_code),this.shipping_name.splice(this.shipping_active_id,1,t.shipping_name),this.shipping_fee.splice(this.shipping_active_id,1,t.shipping_fee),this.format_shipping_fee.splice(this.shipping_active_id,1,t.format_shipping_fee),this.rate_price.splice(this.shipping_active_id,1,t.rate_price),this.feeclose()},paymentSelect:function(){this.paymentShow=!0},paymentClose:function(){this.paymentShow=!1},storeclose:function(){this.shopShow=!1},payment_method_select:function(t,e,s){this.surplusSelf=!1,this.pay_id=t,this.pay_name=e,this.pay_code=s,this.paymentClose()},store_method_select:function(t,e,s,i){if(t!=this.ru_id){var a="";this.goodsCartList.forEach(function(e,s){e.store_id==t&&e.new_list.forEach(function(t){t.act_goods_list.forEach(function(t){t.store_count>0&&(a+=t.rec_id+",")})})}),this.rec_id=a.substr(0,a.length-1),this.$router.push({name:"storeGoods",query:{rec_id:this.rec_id,ru_id:t}})}},integralSelfHandle:function(){var t=this;this.$http.post("".concat(window.ROOT_URL,"api/trade/changeint"),x.a.stringify({total:this.total,integral_type:this.use_integral_val,cart_value:this.cart_id,flow_type:this.checkoutInfo.flow_type,shipping_id:this.shipping_id})).then(function(e){var s=e.data.data;s&&(t.$store.dispatch("setCheckoutTotal",s),t.amountPrice=s.amount,t.ratePrice=s.rate_price,t.total.integral=s.integral,t.valueCardObject.valueCardMoney=s.card_money,s.card_money>0?t.valueCardObject.valueCardContent=s.card_money_formated:t.valueCardObject.valueCardContent=t.$t("lang.no_use_value_card"),t.total.integral_money=s.integral_money,t.valueCardObject.vc_dis_money=s.vc_dis_money,t.valueCardObject.vc_dis=s.vc_dis,t.valueCardObject.valueCardId=s.value_card_id,t.surplusSelf=!1)})},surplusSelfHandle:function(){var t=this;if(this.surplus<0)return Object(p["a"])("请填写合法值"),!1;clearTimeout(this.timer),this.timer=setTimeout(function(){t.$http.post("".concat(window.ROOT_URL,"api/trade/changesurplus"),x.a.stringify({total:t.total,surplus:t.surplus,shipping_id:t.shipping_id})).then(function(e){var s=e.data.data;t.$store.dispatch("setCheckoutTotal",s),t.amountPrice=s.amount,t.ratePrice=s.rate_price,t.total.surplus=s.surplus,t.total.surplus_formated=s.surplus_formated,t.surplus=s.surplus,t.surplus_status=!0,t.valueCardObject.valueCardMoney=s.card_money,t.valueCardObject.vc_dis=s.vc_dis,t.valueCardObject.valueCardId=s.value_card_id,s.card_money>0?t.valueCardObject.valueCardContent=s.card_money_formated:t.valueCardObject.valueCardContent=t.$t("lang.no_use_value_card")})},200)}},Object(l["a"])(a,"onListShow",function(t){this.inventory=!0;var e=this.checkoutInfo.goods_list.find(function(e,s){return e.ru_id==t});this.inventoryList=e}),Object(l["a"])(a,"closeInventory",function(){this.inventory=!1}),Object(l["a"])(a,"onListPackage",function(){this.listPackageShow=!this.listPackageShow}),Object(l["a"])(a,"onInput",function(t){this.paypwdValue=(this.paypwdValue+t).slice(0,6),6==this.paypwdValue.length&&(this.paypwdShow=!1,this.onSubmit())}),Object(l["a"])(a,"onDelete",function(){this.paypwdValue=this.paypwdValue.slice(0,this.paypwdValue.length-1)}),Object(l["a"])(a,"onHide",function(){this.paypwdValue=""}),Object(l["a"])(a,"clickArticle",function(t){void 0!=t&&(this.showArticle=this.checkoutInfo.article_list[t],this.articleShow=!0)}),Object(l["a"])(a,"articleClose",function(){this.articleShow=!1}),Object(l["a"])(a,"productLink",function(t){0==this.rec_type&&"package_buy"!=t.extension_code?this.$router.push({name:"goods",params:{id:t.goods_id}}):1==this.rec_type?this.$router.push({name:"groupbuy-detail",params:{group_buy_id:this.type_id}}):2==this.rec_type?this.$router.push({name:"auction-detail",params:{act_id:this.type_id}}):4==this.rec_type?this.$router.push({name:"exchange-detail",params:{id:this.type_id}}):5==this.rec_type?this.$router.push({name:"presale-detail",params:{act_id:this.type_id}}):6==this.rec_type?this.$router.push({name:"seckill-detail",query:{seckill_id:this.type_id,tomorrow:0}}):7==this.rec_type?this.$router.push({name:"team-detail",query:{goods_id:t.goods_id,team_id:this.team_id}}):8==this.rec_type?this.$router.push({name:"bargain-detail",params:{id:this.type_id}}):"package_buy"==t.extension_code&&this.$router.push({name:"package"})}),Object(l["a"])(a,"drpApplyHref",function(t){this.$router.push({name:"drp-apply",query:{card_id:t}})}),Object(l["a"])(a,"vipReceive",function(){var t=this;this.vipReceiveState=!this.vipReceiveState,this.surplusSelf=!1,this.$http.post("".concat(window.ROOT_URL,"api/trade/change_membership_card"),x.a.stringify({total:this.total,order_membership_card_id:this.vipReceiveState?this.vipCard.order_membership_card_id:0,membership_card_discount_price:this.vipCard.membership_card_discount_price})).then(function(e){var s=e.data.data;t.$store.dispatch("setCheckoutTotal",s),t.amountPrice=s.amount,t.ratePrice=s.rate_price,t.total.membership_card_buy_money=s.membership_card_buy_money,t.total.membership_card_buy_money_formated=s.membership_card_buy_money_formated,t.total.membership_card_discount_price=s.membership_card_discount_price,t.total.membership_card_discount_price_formated=s.membership_card_discount_price_formated,t.vipCard.membership_card_buy_money=s.membership_card_buy_money,t.vipCard.membership_card_buy_money_formated=s.membership_card_buy_money_formated,t.vipCard.membership_card_discount_price=s.membership_card_discount_price,t.vipCard.membership_card_discount_price_formated=s.membership_card_discount_price_formated})}),Object(l["a"])(a,"quanyiClick",function(){this.quanyiShow=!0}),Object(l["a"])(a,"handelClose",function(){this.quanyiShow=!1}),Object(l["a"])(a,"couponValClick",function(t,e,s){var i=this;this.couponsObject.couponsIdArr=[],this.couponsObject.couponsMoney=0,this.couponsObject.couponsId[s].uc_id=this.couponsObject.couponsId[s].uc_id!=t?t:"",this.couponsObject.couponsId[s].cou_money=e,this.couponsObject.couponsId.forEach(function(t){t.uc_id&&(i.couponsObject.couponsIdArr.push(t.uc_id),i.couponsObject.couponsMoney+=Number(t.cou_money))})}),a),watch:{goodsCartList:function(t,e){var s=this;this.rec_id="",this.actVal=[],this.goodsCartList.forEach(function(t,e){t.new_list.forEach(function(e){e.act_goods_list.forEach(function(e){e.store_count>0&&e.is_checked>0&&s.actVal.push(t)})})});var i=[];if(this.actVal.forEach(function(t){-1==i.indexOf(t)&&i.push(t)}),this.actVal=i,this.actVal.length>0){var a=this.actVal[0];this.ru_id&&this.ru_id>=0?this.goodsCartList.forEach(function(t,e){t.new_list.forEach(function(t){t.act_goods_list.forEach(function(t){t.store_count>0&&t.ru_id==s.ru_id&&t.is_checked>0&&(s.storepick=t.store_name,s.store_ids=t.store_id,s.rec_id+=t.rec_id+",")})})}):this.goods_id?this.goodsCartList.forEach(function(t,e){t.new_list.forEach(function(t){t.act_goods_list.forEach(function(t){t.store_count>0&&t.goods_id==s.goods_id&&(s.storepick=t.store_name,s.store_ids=t.store_id,s.goods_id=t.goods_id)})})}):(this.storepick=this.actVal[0].store_name,this.store_ids=this.actVal[0].store_id,a.new_list.forEach(function(t){t.act_goods_list.forEach(function(t){t.store_count>0&&(s.rec_id+=t.rec_id+",")})}))}this.rec_id=this.rec_id.substr(0,this.rec_id.length-1)},checkoutInfo:function(){var t=this;if(0==this.checkoutInfo.length)return this.$router.replace({name:"cart"}),!1;if(this.checkoutDisplay=!this.checkoutInfo.error,this.checkoutInfo.error){switch(this.checkoutInfo.error){case"address":this.$route.query?this.$router.push({name:"addAddressForm",query:{routerLink:"checkout",entrance:"first",rec_type:this.rec_type,type_id:this.type_id,team_id:this.team_id,back:this.back}}):this.$router.push({name:"addAddressForm",query:{routerLink:"checkout",entrance:"first",back:this.back}});break;case"excess":g["a"].alert({message:this.checkoutInfo.msg,className:"text-center",confirmButtonText:this.$t("lang.back_cart")}).then(function(){t.$router.push({name:"cart"})});break}return!1}""==this.pay_name&&this.payment_method.forEach(function(e){"onlinepay"==e.pay_code&&(t.pay_name=e.pay_name,t.pay_id=e.pay_id,t.pay_code=e.pay_code)}),this.storeCart&&(this.store_type="",this.store_mobile=this.storeCart.store_mobile,this.take_time=this.storeCart.take_time),this.checkoutInfo.consignee&&(this.checkout_real_id=this.checkoutInfo.consignee.id_num?this.checkoutInfo.consignee.id_num:"",this.checkout_real_name=this.checkoutInfo.consignee.rel_name?this.checkoutInfo.consignee.rel_name:""),1==this.checkoutInfo.can_invoice&&(this.invoice.invoiceConent=this.invoiceValue[0])},payment_method:function(){if(""==this.payment_method&&this.checkoutInfo)return Object(p["a"])(this.$t("lang.payment_method_not_installed")),!1},surplusSelf:function(){var t=this;this.surplusSelf||(p["a"].loading(Object(l["a"])({message:"加载中...",forbidClick:!0,loadingType:"spinner",duration:0,mask:!0},"forbidClick",!0)),clearTimeout(this.timer),this.timer=setTimeout(function(){t.$http.post("".concat(window.ROOT_URL,"api/trade/changesurplus"),x.a.stringify({total:t.total,surplus:0,shipping_id:t.shipping_id})).then(function(e){var s=e.data.data;t.$store.dispatch("setCheckoutTotal",s),t.amountPrice=s.amount,t.ratePrice=s.rate_price,t.total.surplus=s.surplus,t.total.surplus_formated=s.surplus_formated,t.surplus=s.surplus,t.surplus_status=!0,t.valueCardObject.vc_dis=s.vc_dis,t.valueCardObject.valueCardMoney=s.card_money,t.valueCardObject.valueCardId=s.value_card_id,s.card_money>0?t.valueCardObject.valueCardContent=s.card_money_formated:t.valueCardObject.valueCardContent=t.$t("lang.no_use_value_card"),p["a"].clear()})},1e3))},shipping:function(){var t=this;this.shipping.forEach(function(e){if(void 0==e&&0==t.store_id)return t.shipping_name.push(""),Object(p["a"])(t.$t("lang.noshipping_list_propmt")),!1;t.shipping_id.push(e.shipping_id),t.shipping_code.push(e.shipping_code),t.shipping_name.push(e.shipping_name),t.format_shipping_fee.push(e.format_shipping_fee),t.shipping_fee.push(e.shipping_fee),t.shipping_type.push(0),t.rate_price.push(e.rate_price)})},shopCouponList:function(){var t=this;this.shopCouponList.forEach(function(e){t.couponsObject.couponsId.push({uc_id:"",cou_money:""})})}},beforeRouteEnter:function(t,e,s){s(function(t){t.back=e.fullPath})}},q=T,P=(s("3a3e"),s("2877")),V=Object(P["a"])(q,o,n,!1,null,"03699a2a",null);V.options.__file="Checkoutone.vue";e["default"]=V.exports},8456:function(t,e,s){t.exports=s.p+"img/more_icon.png"}}]);