(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9ab6"],{"0653":function(t,e,n){"use strict";n("68ef")},"0dd8":function(t,e,n){"use strict";var s=n("ff28"),i=n.n(s);i.a},2909:function(t,e,n){"use strict";function s(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function i(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(t){return s(t)||i(t)||a()}n.d(e,"a",function(){return o})},"5f5fb":function(t,e,n){"use strict";n("68ef"),n("a526")},"8a58":function(t,e,n){"use strict";n("68ef"),n("4d75")},"9ef6":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"basic_info_content"},[t._m(0),n("div",{staticClass:"main_box"},[n("div",{staticClass:"title item"},[t._v("店铺基本信息")]),n("div",{staticClass:"cell_box",on:{click:function(e){t.showStoreType=!0}}},[n("div",{staticClass:"cate_label"},[t._v("店铺类型")]),n("div",{staticClass:"cate_value"},[t.storeTypeVal?n("span",{staticClass:"cate_text"},[t._v(t._s(t.storeTypeVal))]):n("span",{staticClass:"store_type"},[t._v("请选择店铺类型")])]),n("i",{staticClass:"iconfont icon-more"})]),n("div",{staticClass:"input_box item border_top"},[n("label",[t._v("店铺名称")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.shopName,expression:"shopName"}],attrs:{type:"text",placeholder:"请输入店铺名称"},domProps:{value:t.shopName},on:{input:function(e){e.target.composing||(t.shopName=e.target.value)}}})]),n("div",{staticClass:"input_box item border_top"},[n("label",[t._v("登录名称")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.stopLoginName,expression:"stopLoginName"}],attrs:{type:"text",placeholder:"请输入店铺登录名"},domProps:{value:t.stopLoginName},on:{input:function(e){e.target.composing||(t.stopLoginName=e.target.value)}}})])]),n("div",{staticClass:"main_box"},[n("div",{staticClass:"title item"},[t._v("经营信息")]),n("div",{staticClass:"cell_box",on:{click:function(e){t.showBusinessScope=!0}}},[t.allParentCate.length>0?[n("div",{staticClass:"cate_label"},[t._v("经营类目")]),n("div",{staticClass:"cate_value"},t._l(t.allParentCate,function(e,s){return n("span",{key:s,staticClass:"cate_text"},[t._v(t._s(e.cat_name)+"  ")])}))]:[n("div",{staticClass:"cate_label"},[t._v("经营类目")]),t._m(1)],n("i",{staticClass:"iconfont icon-more"})],2)]),n("div",{staticClass:"btns"},[n("div",{staticClass:"btn_item gray_btn",on:{click:t.goBack}},[t._v("返回上一步")]),n("div",{staticClass:"btn_item red_btn",on:{click:t.goNext}},[t._v("下一步")])]),n("van-popup",{attrs:{position:"bottom"},model:{value:t.showStoreType,callback:function(e){t.showStoreType=e},expression:"showStoreType"}},[n("van-picker",{attrs:{columns:t.columns,"show-toolbar":!0},on:{cancel:t.onCancel,confirm:t.onConfirm}})],1),n("van-popup",{staticClass:"business_scope_pop",attrs:{position:"right"},model:{value:t.showBusinessScope,callback:function(e){t.showBusinessScope=e},expression:"showBusinessScope"}},[n("div",{staticClass:"business_scope_content"},[n("div",{staticClass:"cell_box"},[n("span",{staticClass:"title"},[t._v("选择经营类目"),n("span",[t._v("（可多选）")])])]),n("div",{staticClass:"scorll_box"},[t.merchantsCategory.length>0?t._l(t.merchantsCategory,function(e,s){return n("div",{key:s,staticClass:"warp",on:{click:function(n){t.changeCate(e.cat_id)}}},[n("div",{staticClass:"cell_box"},[n("span",{staticClass:"title"},[t._v(t._s(e.cat_name))]),n("i",{class:["iconfont",e.cat_id==t.cateId?"icon-moreunfold":"icon-more"]})]),e.cat_id==t.cateId?n("div",{staticClass:"items"},t._l(e.childCate,function(s,i){return n("div",{key:i,class:["item",t.allCheckedSubCate.includes(s.cat_id)?"active":""],on:{click:function(n){t.chackedCate(s.cat_id,e.cat_id)}}},[t._v(t._s(s.cat_name))])})):t._e()])}):[n("van-loading",{attrs:{type:"spinner"}})]],2),n("div",{staticClass:"gap_box"}),n("div",{staticClass:"btns"},[n("div",{staticClass:"btn_item gray_btn",on:{click:t.reset}},[t._v("重置")]),n("div",{staticClass:"btn_item red_btn",on:{click:t.selectOk}},[t._v("选好了")])])])])],1)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"steps"},[n("div",{staticClass:"step_item active_item"},[n("div",{staticClass:"index_box"},[t._v("1")]),n("span",[t._v("基本信息")])]),n("div",{staticClass:"line_box"}),n("div",{staticClass:"step_item active_item"},[n("div",{staticClass:"index_box"},[t._v("2")]),n("span",[t._v("主体信息")])]),n("div",{staticClass:"line_box"}),n("div",{staticClass:"step_item active_item"},[n("div",{staticClass:"index_box"},[t._v("3")]),n("span",[t._v("店铺信息")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cate_value"},[n("span",{staticClass:"store_type"},[t._v("请选择经营类目")])])}],a=(n("8e6e"),n("96cf"),n("1da1")),o=(n("6762"),n("2fdb"),n("2909")),c=(n("ac6a"),n("456d"),n("ade3")),r=(n("e7e5"),n("d399")),l=(n("8a58"),n("e41f")),u=(n("5f5fb"),n("f253")),h=(n("c194"),n("7744")),d=(n("0653"),n("34e9")),f=(n("ac1e"),n("543e")),p=n("2f62"),m=n("2b0e");function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,s)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach(function(e){Object(c["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}m["default"].use(r["a"]).use(l["a"]).use(u["a"]).use(h["a"]).use(d["a"]).use(f["a"]);var C={data:function(){return{columns:[this.$t("lang.flagship_store"),this.$t("lang.exclusive_shop"),this.$t("lang.franchised_store")],showStoreType:!1,showBusinessScope:!1,shopName:"",stopLoginName:"",cateId:"",storeTypeKey:"",storeTypeVal:"",allCheckedCate:{},allCheckedSubCate:[],allParentCate:[]}},computed:b({},Object(p["c"])({merchantsGuide:function(t){return t.user.merchantsGuide},merchantsCategory:function(t){return t.user.merchantsCategory}})),created:function(){this.getMerchantsShop()},methods:{getMerchantsShop:function(){this.$store.dispatch("setMerchantsShop")},addShop:function(){var t=this,e=Object.keys(this.allCheckedCate);this.$store.dispatch("setMerchantsAddShop",{data:{rz_shopName:this.shopName,hopeLoginName:this.stopLoginName,shoprz_type:this.storeTypeKey,subShoprz_type:"",shop_categoryMain:e.join()}}).then(function(e){"success"==e.status?0==e.data.code?(window.localStorage.removeItem("merchantInfo"),t.$router.push({name:"reviewProgress"})):Object(r["a"])(e.data.msg):Object(r["a"])(t.$t("lang.jk_error"))})},changeCate:function(t){this.cateId!=t&&(this.cateId=t)},chackedCate:function(t,e){var n=JSON.parse(JSON.stringify(this.allCheckedCate));if(n[e]){var s=!1;n[e].some(function(e){if(e==t)return s=!0,!0}),s?(n[e]=n[e].filter(function(e){return e!=t}),this.allCheckedSubCate=this.allCheckedSubCate.filter(function(e){return e!=t})):(n[e].push(t),this.allCheckedSubCate=[].concat(Object(o["a"])(this.allCheckedSubCate),[t])),0==n[e].length&&delete n[e]}else n[e]=[t],this.allCheckedSubCate=[].concat(Object(o["a"])(this.allCheckedSubCate),[t]);this.allCheckedCate=n},reset:function(){this.allCheckedCate={},this.allCheckedSubCate=[],this.allParentCate=[]},selectOk:function(){var t=Object.keys(this.allCheckedCate);this.allParentCate=this.merchantsCategory.filter(function(e){return t.includes("".concat(e.cat_id))}),this.showBusinessScope=!1},onCancel:function(){this.showStoreType=!1},addCateById:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e,n,s,i,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=Object.keys(this.allCheckedCate),n=[],e.forEach(function(t){if(a.allCheckedCate[t].length>0){var e=[t,a.allCheckedCate[t].join()];n.push(e)}else{var s=[t,""];n.push(s)}}),!(n.length>0)){t.next=12;break}return t.next=6,this.$store.dispatch("setMerchantsAddCate",{data:n});case 6:if(s=t.sent,s.data,i=s.status,"success"==i){t.next=11;break}return t.abrupt("return",Object(r["a"])(this.$t("lang.save_fail")));case 11:this.addShop();case 12:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onConfirm:function(t,e){this.storeTypeVal=t,this.storeTypeKey=e+1,this.showStoreType=!1},goBack:function(){this.$router.go(-1)},goNext:function(){return this.storeTypeVal.trim()?this.shopName.trim()?this.stopLoginName.trim()?0==this.allParentCate.length?Object(r["a"])("请选择您店铺的经营类目"):void this.addCateById():Object(r["a"])("请输入您店铺的登录名称"):Object(r["a"])("请输入您的店铺名称"):Object(r["a"])("请选择您的店铺类型")}}},_=C,g=(n("0dd8"),n("2877")),y=Object(g["a"])(_,s,i,!1,null,"43f5d2bc",null);y.options.__file="storeInfo.vue";e["default"]=y.exports},a526:function(t,e,n){},ac1e:function(t,e,n){"use strict";n("68ef")},c194:function(t,e,n){"use strict";n("68ef")},e41f:function(t,e,n){"use strict";var s=n("fe7e"),i=n("6605");e["a"]=Object(s["a"])({render:function(){var t,e=this,n=e.$createElement,s=e._self._c||n;return s("transition",{attrs:{name:e.currentTransition}},[e.shouldRender?s("div",{directives:[{name:"show",rawName:"v-show",value:e.value,expression:"value"}],class:e.b((t={},t[e.position]=e.position,t))},[e._t("default")],2):e._e()])},name:"popup",mixins:[i["a"]],props:{transition:String,overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},position:{type:String,default:""}},computed:{currentTransition:function(){return this.transition||(""===this.position?"van-fade":"popup-slide-"+this.position)}}})},f253:function(t,e,n){"use strict";var s=n("fe7e"),i=n("1128");function a(t){return Array.isArray(t)?t.map(function(t){return a(t)}):"object"===typeof t?Object(i["a"])({},t):t}var o=n("a142"),c=200,r=Object(s["a"])({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:[t.b(),t.className],style:t.columnStyle,on:{touchstart:t.onTouchStart,touchmove:function(e){return e.preventDefault(),t.onTouchMove(e)},touchend:t.onTouchEnd,touchcancel:t.onTouchEnd}},[n("ul",{style:t.wrapperStyle},t._l(t.options,function(e,s){return n("li",{staticClass:"van-ellipsis",class:t.b("item",{disabled:t.isDisabled(e),selected:s===t.currentIndex}),style:t.optionStyle,domProps:{innerHTML:t._s(t.getOptionText(e))},on:{click:function(e){t.setIndex(s,!0)}}})}))])},name:"picker-column",props:{valueKey:String,className:String,itemHeight:Number,visibleItemCount:Number,initialOptions:{type:Array,default:function(){return[]}},defaultIndex:{type:Number,default:0}},data:function(){return{startY:0,offset:0,duration:0,startOffset:0,options:a(this.initialOptions),currentIndex:this.defaultIndex}},created:function(){this.$parent.children&&this.$parent.children.push(this),this.setIndex(this.currentIndex)},destroyed:function(){var t=this.$parent.children;t&&t.splice(t.indexOf(this),1)},watch:{defaultIndex:function(){this.setIndex(this.defaultIndex)}},computed:{count:function(){return this.options.length},baseOffset:function(){return this.itemHeight*(this.visibleItemCount-1)/2},columnStyle:function(){return{height:this.itemHeight*this.visibleItemCount+"px"}},wrapperStyle:function(){return{transition:this.duration+"ms",transform:"translate3d(0, "+(this.offset+this.baseOffset)+"px, 0)",lineHeight:this.itemHeight+"px"}},optionStyle:function(){return{height:this.itemHeight+"px"}}},methods:{onTouchStart:function(t){this.startY=t.touches[0].clientY,this.startOffset=this.offset,this.duration=0},onTouchMove:function(t){var e=t.touches[0].clientY-this.startY;this.offset=Object(o["f"])(this.startOffset+e,-this.count*this.itemHeight,this.itemHeight)},onTouchEnd:function(){if(this.offset!==this.startOffset){this.duration=c;var t=Object(o["f"])(Math.round(-this.offset/this.itemHeight),0,this.count-1);this.setIndex(t,!0)}},adjustIndex:function(t){t=Object(o["f"])(t,0,this.count);for(var e=t;e<this.count;e++)if(!this.isDisabled(this.options[e]))return e;for(var n=t-1;n>=0;n--)if(!this.isDisabled(this.options[n]))return n},isDisabled:function(t){return Object(o["d"])(t)&&t.disabled},getOptionText:function(t){return Object(o["d"])(t)&&this.valueKey in t?t[this.valueKey]:t},setIndex:function(t,e){t=this.adjustIndex(t)||0,this.offset=-t*this.itemHeight,t!==this.currentIndex&&(this.currentIndex=t,e&&this.$emit("change",t))},setValue:function(t){for(var e=this.options,n=0;n<e.length;n++)if(this.getOptionText(e[n])===t)return this.setIndex(n)},getValue:function(){return this.options[this.currentIndex]}}});e["a"]=Object(s["a"])({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.b()},[t.showToolbar?n("div",{staticClass:"van-hairline--top-bottom",class:t.b("toolbar")},[t._t("default",[n("div",{class:t.b("cancel"),on:{click:function(e){t.emit("cancel")}}},[t._v("\n        "+t._s(t.cancelButtonText||t.$t("cancel"))+"\n      ")]),t.title?n("div",{staticClass:"van-ellipsis",class:t.b("title"),domProps:{textContent:t._s(t.title)}}):t._e(),n("div",{class:t.b("confirm"),on:{click:function(e){t.emit("confirm")}}},[t._v("\n        "+t._s(t.confirmButtonText||t.$t("confirm"))+"\n      ")])])],2):t._e(),t.loading?n("div",{class:t.b("loading")},[n("loading")],1):t._e(),n("div",{class:t.b("columns"),style:t.columnsStyle,on:{touchmove:function(t){t.preventDefault()}}},[t._l(t.simple?[t.columns]:t.columns,function(e,s){return n("picker-column",{key:s,attrs:{"value-key":t.valueKey,"initial-options":t.simple?e:e.values,"class-name":e.className,"default-index":e.defaultIndex,"item-height":t.itemHeight,"visible-item-count":t.visibleItemCount},on:{change:function(e){t.onChange(s)}}})}),n("div",{staticClass:"van-hairline--top-bottom",class:t.b("frame"),style:t.frameStyle})],2)])},name:"picker",components:{PickerColumn:r},props:{title:String,loading:Boolean,showToolbar:Boolean,confirmButtonText:String,cancelButtonText:String,visibleItemCount:{type:Number,default:5},valueKey:{type:String,default:"text"},itemHeight:{type:Number,default:44},columns:{type:Array,default:function(){return[]}}},data:function(){return{children:[]}},computed:{frameStyle:function(){return{height:this.itemHeight+"px"}},columnsStyle:function(){return{height:this.itemHeight*this.visibleItemCount+"px"}},simple:function(){return this.columns.length&&!this.columns[0].values}},watch:{columns:function(){this.setColumns()}},methods:{setColumns:function(){var t=this,e=this.simple?[{values:this.columns}]:this.columns;e.forEach(function(e,n){t.setColumnValues(n,a(e.values))})},emit:function(t){this.simple?this.$emit(t,this.getColumnValue(0),this.getColumnIndex(0)):this.$emit(t,this.getValues(),this.getIndexes())},onChange:function(t){this.simple?this.$emit("change",this,this.getColumnValue(0),this.getColumnIndex(0)):this.$emit("change",this,this.getValues(),t)},getColumn:function(t){return this.children[t]},getColumnValue:function(t){var e=this.getColumn(t);return e&&e.getValue()},setColumnValue:function(t,e){var n=this.getColumn(t);n&&n.setValue(e)},getColumnIndex:function(t){return(this.getColumn(t)||{}).currentIndex},setColumnIndex:function(t,e){var n=this.getColumn(t);n&&n.setIndex(e)},getColumnValues:function(t){return(this.children[t]||{}).options},setColumnValues:function(t,e){var n=this.children[t];n&&JSON.stringify(n.options)!==JSON.stringify(e)&&(n.options=e,n.setIndex(0))},getValues:function(){return this.children.map(function(t){return t.getValue()})},setValues:function(t){var e=this;t.forEach(function(t,n){e.setColumnValue(n,t)})},getIndexes:function(){return this.children.map(function(t){return t.currentIndex})},setIndexes:function(t){var e=this;t.forEach(function(t,n){e.setColumnIndex(n,t)})}}})},ff28:function(t,e,n){}}]);