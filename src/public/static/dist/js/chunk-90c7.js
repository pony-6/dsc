(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-90c7"],{1146:function(t,s,e){},1437:function(t,s,e){"use strict";var i=e("8624"),o=e("fe7e"),n=e("f331");s["a"]=Object(o["a"])({render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{class:[t.b(),{"van-hairline--top":t.index}]},[e("cell",t._b({class:t.b("title",{disabled:t.disabled,expanded:t.expanded}),on:{click:t.onClick}},"cell",t.$props,!1),[t._t("title",null,{slot:"title"}),t._t("icon",null,{slot:"icon"}),t._t("value"),t._t("right-icon",null,{slot:"right-icon"})],2),t.inited?e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],ref:"wrapper",class:t.b("wrapper"),on:{transitionend:t.onTransitionEnd}},[e("div",{ref:"content",class:t.b("content")},[t._t("default")],2)]):t._e()],1)},name:"collapse-item",mixins:[n["a"]],props:{name:[String,Number],icon:String,label:String,title:[String,Number],value:[String,Number],disabled:Boolean,border:{type:Boolean,default:!0},isLink:{type:Boolean,default:!0}},data:function(){return{show:null,inited:null}},computed:{items:function(){return this.parent.items},index:function(){return this.items.indexOf(this)},currentName:function(){return this.isDef(this.name)?this.name:this.index},expanded:function(){var t=this;if(!this.parent)return null;var s=this.parent.value;return this.parent.accordion?s===this.currentName:s.some(function(s){return s===t.currentName})}},created:function(){this.findParent("van-collapse"),this.items.push(this),this.show=this.expanded,this.inited=this.expanded},destroyed:function(){this.items.splice(this.index,1)},watch:{expanded:function(t,s){var e=this;null!==s&&(t&&(this.show=!0,this.inited=!0),this.$nextTick(function(){var s=e.$refs,o=s.content,n=s.wrapper;if(o&&n){var a=o.clientHeight+"px";n.style.height=t?0:a,Object(i["a"])(function(){n.style.height=t?a:0})}}))}},methods:{onClick:function(){if(!this.disabled){var t=this.parent,s=t.accordion&&this.currentName===t.value?"":this.currentName,e=!this.expanded;this.parent.switch(s,e)}},onTransitionEnd:function(){this.expanded?this.$refs.wrapper.style.height=null:this.show=!1}}})},"1c14":function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"prolist",class:{"prolist-swiper":"slide"==t.styleType}},[t.data.length>0?["slide"==t.styleType?[i("div",{staticClass:"slide"},[i("swiper",{ref:"slideSwiper",staticClass:"swiper",attrs:{options:t.swiperOption}},[t._l(t.goodslist,function(s,o){return i("swiper-slide",{key:o,staticClass:"goods-swiper-slide"},t._l(s,function(s){return i("div",{staticClass:"goods-item"},[i("div",{staticClass:"img",on:{click:function(e){t.detailLink(t.routerName,s.goods_id)}}},[s.goods_thumb?i("img",{staticClass:"img",attrs:{src:s.goods_thumb}}):i("img",{staticClass:"img",attrs:{src:e("d9e6")}})]),i("div",{staticClass:"pro-info"},[i("h4",{staticClass:"twolist-hidden",on:{click:function(e){t.detailLink(t.routerName,s.goods_id)}}},[s.is_promote>0?i("em",{staticClass:"em-promotion em-special-sale"},[t._v(t._s(t.$t("lang.special_sale")))]):t._e(),t._v(t._s(s.goods_name))]),i("currency-price",{staticStyle:{padding:"6px 0 8px"},attrs:{price:s.shop_price,delPrice:s.is_promote>0?s.market_price:"",size:16}}),t.productOuter?t._e():i("div",{staticClass:"outer"},[s.user_id>0&&1==s.self_run||0==s.user_id?i("em",{staticClass:"tag"},[t._v(t._s(t.$t("lang.self_support")))]):i("em",{staticClass:"tag",on:{click:function(e){t.shopUrl(s.user_id)}}},[t._v(t._s(t.$t("lang.into_shop")))]),i("span",[t._v(t._s(s.sales_volume)+t._s(t.$t("lang.a_have_purchased")))])]),1==s.prod?[t.productOuter?t._e():i("a",{staticClass:"add_cart",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.addCart(s.goods_id,o)}}},[i("span",{staticClass:"add_num",class:{show:1==t.addCartClass&&o==t.curIndex},attrs:{id:"popone"}},[t._v("+1")]),i("i",{staticClass:"iconfont icon-cart"})])]:[t.productOuter?t._e():i("div",{staticClass:"add_cart",on:{click:function(e){t.detailLink(t.routerName,s.goods_id)}}},[i("i",{staticClass:"iconfont icon-cart"})])]],2)])}))}),i("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)]:t._l(t.data,function(s,o){return i("div",{key:o,staticClass:"prolist-item"},["team-detail"==t.routerName?[i("div",{staticClass:"pro-img",on:{click:function(e){t.detailLink(t.routerName,s.goods_id)}}},[i("div",{staticClass:"img-box"},[s.goods_thumb?i("img",{staticClass:"img",attrs:{src:s.goods_thumb}}):i("img",{staticClass:"img",attrs:{src:e("d9e6")}})])]),i("div",{staticClass:"pro-info",on:{click:function(e){t.detailLink(t.routerName,s.goods_id)}}},[i("h4",{staticClass:"twolist-hidden"},[t._v(t._s(s.goods_name))]),i("div",{staticClass:"dis-box cont"},[i("div",{staticClass:"f-02 color-9 box-flex"},[t._v(t._s(t.$t("lang.single_purchase_price"))),i("span",{domProps:{innerHTML:t._s(s.shop_price_formated)}})])]),i("div",{staticClass:"dis-box m-top10"},[i("div",{staticClass:"f-05 color-red"},[t._v(t._s(s.team_num)+t._s(t.$t("lang.one_group")))]),i("div",{staticClass:"box-flex f-06 color-red f-weight p-l1",domProps:{innerHTML:t._s(s.team_price)}})])])]:[i("div",{staticClass:"pro-img",on:{click:function(e){t.detailLink(t.routerName,s.goods_id)}}},[i("div",{staticClass:"img-box"},[s.goods_thumb?i("img",{staticClass:"img",attrs:{src:s.goods_thumb}}):i("img",{staticClass:"img",attrs:{src:e("d9e6")}})])]),i("div",{staticClass:"pro-info"},[i("h4",{staticClass:"twolist-hidden",on:{click:function(e){t.detailLink(t.routerName,s.goods_id)}}},[s.is_promote>0?i("em",{staticClass:"em-promotion em-special-sale"},[t._v(t._s(t.$t("lang.special_sale")))]):t._e(),t._v(t._s(s.goods_name))]),i("currency-price",{staticStyle:{padding:"6px 0 8px"},attrs:{price:s.shop_price,delPrice:s.is_promote>0?s.market_price:"",size:16}}),t.productOuter?t._e():i("div",{staticClass:"outer outer_teshu"},[s.user_id>0&&1==s.self_run||0==s.user_id?i("em",{staticClass:"tag"},[t._v(t._s(t.$t("lang.self_support")))]):i("em",{staticClass:"tag",on:{click:function(e){t.shopUrl(s.user_id)}}},[t._v(t._s(t.$t("lang.into_shop")))]),s.goods_label?i("div",{staticClass:"label-list"},t._l(s.goods_label,function(t,s){return i("div",{key:s,staticClass:"label-img"},[i("a",{attrs:{href:t.label_url?t.label_url:"javascript:;"}},[i("img",{attrs:{src:t.formated_label_image}})])])})):t._e()]),i("div",{staticClass:"outer"},[i("span",[t._v(t._s(s.sales_volume)+t._s(t.$t("lang.a_have_purchased")))]),1==s.prod?[t.productOuter?t._e():i("a",{staticClass:"add_cart",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.addCart(s.goods_id,o)}}},[i("span",{staticClass:"add_num",class:{show:1==t.addCartClass&&o==t.curIndex},attrs:{id:"popone"}},[t._v("+1")]),i("i",{staticClass:"iconfont icon-cart"})])]:[t.productOuter?t._e():i("div",{staticClass:"add_cart",on:{click:function(e){t.detailLink(t.routerName,s.goods_id)}}},[i("i",{staticClass:"iconfont icon-cart"})])]],2)],1)]],2)})]:[i("NotCont")]],2)},o=[],n=(e("ac6a"),e("ade3")),a=(e("7f7f"),e("e7e5"),e("d399")),r=e("6f38"),c=e("7212"),l={props:{data:Array,routerName:{type:String,default:"goods"},productOuter:{type:Boolean,default:!1},styleType:{type:String,default:""}},data:function(){return{addCartClass:!1,curIndex:null,swiperOption:{notNextTick:!0,pagination:{el:".swiper-pagination"},lazyLoading:!0,autoplay:5600}}},components:Object(n["a"])({swiper:c["swiper"],swiperSlide:c["swiperSlide"],NotCont:r["a"]},a["a"].name,a["a"]),computed:{goodslist:function(){for(var t=[],s=0;s<this.data.length;s+=6)t.push(this.data.slice(s,s+6));return t}},methods:{addCart:function(t,s){var e=this;this.addCartClass=!1,this.curIndex=null,this.$store.dispatch("setAddCart",{goods_id:t,num:1,spec:[],warehouse_id:"0",area_id:"0",parent_id:"0"}).then(function(t){1==t&&(e.addCartClass=!0,e.curIndex=s,a["a"].success({duration:1e3,message:e.$t("lang.goods_been_add_cart")}))})},shopUrl:function(t){this.$router.push({name:"shopHome",params:{id:t}})},detailLink:function(t,s){var e=this;"goods"==t?this.data.forEach(function(t){t.goods_id==s&&(t.get_presale_activity?e.$router.push({name:"presale-detail",params:{act_id:t.get_presale_activity.act_id}}):e.$router.push({name:"goods",params:{id:s}}))}):"team-detail"==t&&this.$router.push({name:"team-detail",query:{goods_id:s,team_id:0}})}}},d=l,u=(e("b6b9"),e("2877")),g=Object(u["a"])(d,i,o,!1,null,"286a1746",null);g.options.__file="ProductList.vue";s["a"]=g.exports},2381:function(t,s,e){},2662:function(t,s,e){},"28a2":function(t,s,e){"use strict";var i,o=e("c31d"),n=e("2b0e"),a=e("fe7e"),r=e("6605"),c=e("3875"),l=e("5596"),d=e("2bb1"),u=e("a142"),g=3,_=1/3,h=Object(a["a"])({render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.value?e("div",{class:t.b(),on:{touchstart:t.onWrapperTouchStart,touchend:t.onWrapperTouchEnd,touchcancel:t.onWrapperTouchEnd}},[t.showIndex?e("div",{class:t.b("index")},[t._v("\n    "+t._s(t.active+1)+"/"+t._s(t.count)+"\n  ")]):t._e(),e("swipe",{ref:"swipe",attrs:{loop:t.loop,"initial-swipe":t.startPosition,"show-indicators":t.showIndicators},on:{change:t.onChange}},t._l(t.images,function(s,i){return e("swipe-item",{key:i},[e("img",{class:t.b("image"),style:i===t.active?t.imageStyle:null,attrs:{src:s},on:{touchstart:t.onTouchStart,touchmove:t.onTouchMove,touchend:t.onTouchEnd,touchcancel:t.onTouchEnd}})])}))],1):t._e()},name:"image-preview",mixins:[r["a"],c["a"]],components:{Swipe:l["a"],SwipeItem:d["a"]},props:{showIndicators:Boolean,images:{type:Array,default:function(){return[]}},loop:{type:Boolean,default:!0},startPosition:{type:Number,default:0},overlay:{type:Boolean,default:!0},showIndex:{type:Boolean,default:!0},overlayClass:{type:String,default:"van-image-preview__overlay"},closeOnClickOverlay:{type:Boolean,default:!0}},data:function(){return{scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,active:0}},computed:{count:function(){return this.images.length},imageStyle:function(){var t=this.scale,s={transition:this.zooming||this.moving?"":".3s all"};return 1!==t&&(s.transform="scale3d("+t+", "+t+", 1) translate("+this.moveX/t+"px, "+this.moveY/t+"px)"),s}},watch:{value:function(){this.active=this.startPosition},startPosition:function(t){this.active=t}},methods:{onWrapperTouchStart:function(){this.touchStartTime=new Date},onWrapperTouchEnd:function(t){t.preventDefault();var s=new Date-this.touchStartTime,e=this.$refs.swipe||{},i=e.offsetX,o=void 0===i?0:i,n=e.offsetY,a=void 0===n?0:n;s<300&&o<10&&a<10&&(this.$emit("input",!1),this.resetScale())},getDistance:function(t){return Math.sqrt(Math.abs((t[0].clientX-t[1].clientX)*(t[0].clientY-t[1].clientY)))},startMove:function(t){var s=t.currentTarget,e=s.getBoundingClientRect(),i=window.innerWidth,o=window.innerHeight;this.touchStart(t),this.moving=!0,this.startMoveX=this.moveX,this.startMoveY=this.moveY,this.maxMoveX=Math.max(0,(e.width-i)/2),this.maxMoveY=Math.max(0,(e.height-o)/2)},startZoom:function(t){this.moving=!1,this.zooming=!0,this.startScale=this.scale,this.startDistance=this.getDistance(t.touches)},onTouchStart:function(t){var s=t.touches,e=this.$refs.swipe.offsetX;1===s.length&&1!==this.scale?this.startMove(t):2!==s.length||e||this.startZoom(t)},onTouchMove:function(t){var s=t.touches;if((this.moving||this.zooming)&&(t.preventDefault(),t.stopPropagation()),this.moving){this.touchMove(t);var e=this.deltaX+this.startMoveX,i=this.deltaY+this.startMoveY;this.moveX=Object(u["f"])(e,-this.maxMoveX,this.maxMoveX),this.moveY=Object(u["f"])(i,-this.maxMoveY,this.maxMoveY)}if(this.zooming&&2===s.length){var o=this.getDistance(s),n=this.startScale*o/this.startDistance;this.scale=Object(u["f"])(n,_,g)}},onTouchEnd:function(t){if(this.moving||this.zooming){var s=!0;this.moving&&this.startMoveX===this.moveX&&this.startMoveY===this.moveY&&(s=!1),t.touches.length||(this.moving=!1,this.zooming=!1,this.startMoveX=0,this.startMoveY=0,this.startScale=1,this.scale<1&&this.resetScale()),s&&(t.preventDefault(),t.stopPropagation())}},onChange:function(t){this.resetScale(),this.active=t},resetScale:function(){this.scale=1,this.moveX=0,this.moveY=0}}}),p={images:[],loop:!0,value:!0,showIndex:!0,startPosition:0,showIndicators:!1},m=function(){i=new(n["default"].extend(h))({el:document.createElement("div")}),document.body.appendChild(i.$el)},f=function(t,s){if(!u["e"]){i||m();var e=Array.isArray(t)?{images:t,startPosition:s}:t;return Object(o["a"])(i,Object(o["a"])({},p,e)),i.$on("input",function(t){i.value=t,t||(i.$off("input"),e.onClose&&e.onClose())}),i}};f.install=function(){n["default"].use(h)};s["a"]=f},2916:function(t,s,e){},"342a":function(t,s,e){"use strict";e("68ef"),e("bff0")},"3acc":function(t,s,e){"use strict";var i=e("fe7e");s["a"]=Object(i["a"])({render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{class:t.b()},[t._t("default")],2)},name:"checkbox-group",props:{value:Array,disabled:Boolean,max:{type:Number,default:0}},watch:{value:function(t){this.$emit("change",t)}}})},"3c32":function(t,s,e){"use strict";e("68ef"),e("2381")},"3d6a":function(t,s,e){},"3e7c":function(t,s,e){"use strict";var i,o=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("header",{staticClass:"goods-shop-info padding-all"},[e("section",{staticClass:"dis-box"},[e("div",{staticClass:"g-s-i-img",on:{click:function(s){t.shopDetail(t.shopInfo[t.index].ru_id)}}},[e("img",{staticClass:"img",attrs:{src:t.shopInfo[t.index].logo}})]),e("div",{staticClass:"g-s-i-title box-flex",on:{click:function(s){t.shopDetail(t.shopInfo[t.index].ru_id)}}},[e("h3",[t._v(t._s(t.shopInfo[t.index].shopName)),e("van-icon",{attrs:{name:"shop"}})],1),e("p",[t._v(t._s(t.$t("lang.collection_one"))+" "),e("span",[t._v(t._s(t.shopInfo[t.index].count_gaze))]),t._v(" "+t._s(t.$t("lang.collection_two")))])]),e("div",{staticClass:"g-s-info-add"},[e("a",{class:{active:0==t.shopInfo[t.index].is_collect_shop},attrs:{href:"javascript:void(0);"},on:{click:function(s){t.collectHandle(t.shopInfo[t.index].ru_id)}}},[1==t.shopInfo[t.index].is_collect_shop?e("span",[t._v(t._s(t.$t("lang.followed")))]):e("span",[t._v(t._s(t.$t("lang.did_not_concern")))])])])]),t.shopScore?[e("div",{staticClass:"goods-shop-score dis-box"},[e("p",{staticClass:"box-flex"},[e("label",{staticClass:"fl"},[t._v(t._s(t.$t("lang.goods")))]),e("span",{staticClass:"color-red margin-lr fl"},[t._v(t._s(t.shopInfo[t.index].commentrank))]),e("em",{staticClass:"em-promotion fl"},[t._v(t._s(t.shopInfo[t.index].commentrank_font))])]),e("p",{staticClass:"box-flex"},[e("label",{staticClass:"fl"},[t._v(t._s(t.$t("lang.service")))]),e("span",{staticClass:"color-low margin-lr fl"},[t._v(t._s(t.shopInfo[t.index].commentserver))]),e("em",{staticClass:"em-promotion em-p-low fl"},[t._v(t._s(t.shopInfo[t.index].commentserver_font))])]),e("p",{staticClass:"box-flex"},[e("label",{staticClass:"fl"},[t._v(t._s(t.$t("lang.commentdelivery")))]),e("span",{staticClass:"color-center margin-lr fl"},[t._v(t._s(t.shopInfo[t.index].commentdelivery))]),e("em",{staticClass:"em-promotion em-p-center fl"},[t._v(t._s(t.shopInfo[t.index].commentdelivery_font))])])])]:t._e()],2)},n=[],a=(e("ac6a"),e("ade3")),r=(e("c3a6"),e("ad06")),c=(e("7f7f"),e("e17f"),e("2241")),l={props:["shopInfo","index","shopScore"],data:function(){return{distance:!1}},components:(i={},Object(a["a"])(i,c["a"].name,c["a"]),Object(a["a"])(i,r["a"].name,r["a"]),i),created:function(){},computed:{isLogin:function(){return null!=localStorage.getItem("token")},shopCollectStatue:function(){return this.$store.state.user.shopCollectStatue},is_collect_shop:function(){return this.shopInfo[this.index].is_collect_shop},ru_id:function(){return this.shopInfo[this.index].ru_id}},methods:{shopDetail:function(t){this.$router.push({name:"shopHome",params:{id:t}})},collectHandle:function(t){if(this.isLogin)this.$store.dispatch("setCollectShop",{ru_id:t,status:this.is_collect_shop});else{var s=this.$t("lang.fill_in_user_collect_goods");this.notLogin(s)}},notLogin:function(t){var s=this;c["a"].confirm({message:t,className:"text-center"}).then(function(){s.$router.push({path:"/login",query:{redirect:{name:"shopDetail",params:{id:s.ru_id}}}})}).catch(function(){})}},watch:{shopCollectStatue:function(){var t=this;this.shopCollectStatue.forEach(function(s){s.id==t.ru_id&&t.$emit("update",{is_collect_shop:s.status})})}}},d=l,u=e("2877"),g=Object(u["a"])(d,o,n,!1,null,null,null);g.options.__file="ShopHeader.vue";s["a"]=g.exports},"417e":function(t,s,e){"use strict";var i=e("fe7e"),o=e("f331");s["a"]=Object(i["a"])({render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{class:t.b()},[e("div",{class:[t.b("icon",[t.shape,{disabled:t.isDisabled,checked:t.checked}])],on:{click:t.toggle}},[t._t("icon",[e("icon",{style:t.iconStyle,attrs:{name:"success"}})],{checked:t.checked})],2),t.$slots.default?e("span",{class:t.b("label",t.labelPosition),on:{click:function(s){t.toggle("label")}}},[t._t("default")],2):t._e()])},name:"checkbox",mixins:[o["a"]],props:{name:null,value:null,disabled:Boolean,checkedColor:String,labelPosition:String,labelDisabled:Boolean,shape:{type:String,default:"round"}},computed:{checked:{get:function(){return this.parent?-1!==this.parent.value.indexOf(this.name):this.value},set:function(t){this.parent?this.setParentValue(t):this.$emit("input",t)}},isDisabled:function(){return this.parent&&this.parent.disabled||this.disabled},iconStyle:function(){var t=this.checkedColor;if(t&&this.checked&&!this.isDisabled)return{borderColor:t,backgroundColor:t}}},watch:{value:function(t){this.$emit("change",t)}},created:function(){this.findParent("van-checkbox-group")},methods:{toggle:function(t){this.isDisabled||"label"===t&&this.labelDisabled||(this.checked=!this.checked)},setParentValue:function(t){var s=this.parent,e=s.value.slice();if(t){if(s.max&&e.length>=s.max)return;-1===e.indexOf(this.name)&&(e.push(this.name),s.$emit("input",e))}else{var i=e.indexOf(this.name);-1!==i&&(e.splice(i,1),s.$emit("input",e))}}}})},"42d1":function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.dscLoading?e("div",{staticClass:"cloading",style:{height:t.clientHeight+"px"},on:{touchmove:function(t){t.preventDefault()},mousewheel:function(t){t.preventDefault()}}},[e("div",{staticClass:"cloading-mask"}),t._t("text",[t._m(0)])],2):t._e()},o=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"cloading-main"},[i("img",{attrs:{src:e("f8b2")}})])}],n=e("ade3"),a=(e("7f7f"),e("ac1e"),e("543e")),r={props:["dscLoading"],data:function(){return{clientHeight:""}},components:Object(n["a"])({},a["a"].name,a["a"]),created:function(){},mounted:function(){this.clientHeight=document.documentElement.clientHeight},methods:{}},c=r,l=(e("a637"),e("2877")),d=Object(l["a"])(c,i,o,!1,null,"9a0469b6",null);d.options.__file="DscLoading.vue";s["a"]=d.exports},"504b":function(t,s,e){},5246:function(t,s,e){"use strict";e("68ef"),e("8a0b")},"565f":function(t,s,e){"use strict";var i=e("c31d"),o=e("fe7e"),n=e("a142");s["a"]=Object(o["a"])({render:function(){var t,s=this,e=s.$createElement,i=s._self._c||e;return i("cell",{class:s.b((t={error:s.error,disabled:s.$attrs.disabled,"min-height":"textarea"===s.type&&!s.autosize},t["label-"+s.labelAlign]=s.labelAlign,t)),attrs:{icon:s.leftIcon,title:s.label,center:s.center,border:s.border,"is-link":s.isLink,required:s.required}},[s._t("left-icon",null,{slot:"icon"}),s._t("label",null,{slot:"title"}),i("div",{class:s.b("body")},["textarea"===s.type?i("textarea",s._g(s._b({ref:"input",class:s.b("control",s.inputAlign),attrs:{readonly:s.readonly},domProps:{value:s.value}},"textarea",s.$attrs,!1),s.listeners)):i("input",s._g(s._b({ref:"input",class:s.b("control",s.inputAlign),attrs:{type:s.type,readonly:s.readonly},domProps:{value:s.value}},"input",s.$attrs,!1),s.listeners)),s.showClear?i("icon",{class:s.b("clear"),attrs:{name:"clear"},on:{touchstart:function(t){return t.preventDefault(),s.onClear(t)}}}):s._e(),s.$slots.icon||s.icon?i("div",{class:s.b("icon"),on:{click:s.onClickIcon}},[s._t("icon",[i("icon",{attrs:{name:s.icon}})])],2):s._e(),s.$slots.button?i("div",{class:s.b("button")},[s._t("button")],2):s._e()],1),s.errorMessage?i("div",{class:s.b("error-message"),domProps:{textContent:s._s(s.errorMessage)}}):s._e()],2)},name:"field",inheritAttrs:!1,props:{value:[String,Number],icon:String,label:String,error:Boolean,center:Boolean,isLink:Boolean,leftIcon:String,readonly:Boolean,required:Boolean,clearable:Boolean,labelAlign:String,inputAlign:String,onIconClick:Function,autosize:[Boolean,Object],errorMessage:String,type:{type:String,default:"text"},border:{type:Boolean,default:!0}},data:function(){return{focused:!1}},watch:{value:function(){this.$nextTick(this.adjustSize)}},mounted:function(){this.format(),this.$nextTick(this.adjustSize)},computed:{showClear:function(){return this.clearable&&this.focused&&""!==this.value&&this.isDef(this.value)&&!this.readonly},listeners:function(){return Object(i["a"])({},this.$listeners,{input:this.onInput,keypress:this.onKeypress,focus:this.onFocus,blur:this.onBlur})}},methods:{focus:function(){this.$refs.input&&this.$refs.input.focus()},blur:function(){this.$refs.input&&this.$refs.input.blur()},format:function(t){void 0===t&&(t=this.$refs.input);var s=t,e=s.value,i=this.$attrs.maxlength;return this.isDef(i)&&e.length>i&&(e=e.slice(0,i),t.value=e),e},onInput:function(t){this.$emit("input",this.format(t.target))},onFocus:function(t){this.focused=!0,this.$emit("focus",t),this.readonly&&this.blur()},onBlur:function(t){this.focused=!1,this.$emit("blur",t)},onClickIcon:function(){this.$emit("click-icon"),this.onIconClick&&this.onIconClick()},onClear:function(){this.$emit("input",""),this.$emit("clear")},onKeypress:function(t){if("number"===this.type){var s=t.keyCode,e=-1===String(this.value).indexOf("."),i=s>=48&&s<=57||46===s&&e||45===s;i||t.preventDefault()}"search"===this.type&&13===t.keyCode&&this.blur(),this.$emit("keypress",t)},adjustSize:function(){var t=this.$refs.input;if("textarea"===this.type&&this.autosize&&t){t.style.height="auto";var s=t.scrollHeight;if(Object(n["d"])(this.autosize)){var e=this.autosize,i=e.maxHeight,o=e.minHeight;i&&(s=Math.min(s,i)),o&&(s=Math.max(s,o))}s&&(t.style.height=s+"px")}}}})},"5d17":function(t,s,e){"use strict";e("68ef")},"60c6":function(t,s,e){t.exports=e.p+"img/icon-vip.png"},"66fd":function(t,s,e){"use strict";var i=e("a3e2"),o=e("fe7e");s["a"]=Object(o["a"])({render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{class:t.b({center:t.centered})},[e("a",{class:t.b("thumb"),attrs:{href:t.thumbLink}},[t._t("thumb",[e("img",{class:t.b("img"),attrs:{src:t.thumb}})]),t.tag?e("van-tag",{class:t.b("tag"),attrs:{mark:"",type:"danger"}},[t._v("\n      "+t._s(t.tag)+"\n    ")]):t._e()],2),e("div",{class:t.b("content")},[e("div",{class:t.b("left")},[t._t("title",[t.title?e("div",{class:t.b("title")},[t._v("\n          "+t._s(t.title)+"\n        ")]):t._e()]),t._t("desc",[t.desc?e("div",{class:[t.b("desc"),"van-ellipsis"]},[t._v("\n          "+t._s(t.desc)+"\n        ")]):t._e()]),t._t("tags")],2),e("div",{class:t.b("right")},[t.isDef(t.price)?e("div",[t._v(t._s(t.currency)+" "+t._s(t.price))]):t._e(),t.isDef(t.originPrice)?e("div",{class:t.b("origin-price")},[t._v("\n        "+t._s(t.currency)+" "+t._s(t.originPrice)+"\n      ")]):t._e(),t.isDef(t.num)?e("div",{class:t.b("num")},[t._v("\n        x "+t._s(t.num)+"\n      ")]):t._e()])]),t.$slots.footer?e("div",{class:t.b("footer")},[t._t("footer")],2):t._e()])},name:"card",components:{VanTag:i["a"]},props:{tag:String,desc:String,thumb:String,title:String,centered:Boolean,num:[Number,String],price:[Number,String],originPrice:[Number,String],currency:{type:String,default:"¥"},thumbLink:{type:String,default:"javascript:;"}}})},"6b41":function(t,s,e){"use strict";var i=e("fe7e");s["a"]=Object(i["a"])({render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"van-hairline--bottom",class:t.b({fixed:t.fixed}),style:t.style},[e("div",{class:t.b("left"),on:{click:function(s){t.$emit("click-left")}}},[t._t("left",[t.leftArrow?e("icon",{class:t.b("arrow"),attrs:{name:"arrow"}}):t._e(),t.leftText?e("span",{class:t.b("text"),domProps:{textContent:t._s(t.leftText)}}):t._e()])],2),e("div",{staticClass:"van-ellipsis",class:t.b("title")},[t._t("title",[t._v(t._s(t.title))])],2),e("div",{class:t.b("right"),on:{click:function(s){t.$emit("click-right")}}},[t._t("right",[t.rightText?e("span",{class:t.b("text"),domProps:{textContent:t._s(t.rightText)}}):t._e()])],2)])},name:"nav-bar",props:{title:String,leftText:String,rightText:String,leftArrow:Boolean,fixed:Boolean,zIndex:{type:Number,default:1}},computed:{style:function(){return{zIndex:this.zIndex}}}})},"788e":function(t,s,e){t.exports=e.p+"img/fengxiang.png"},"8a0b":function(t,s,e){},"8f80":function(t,s,e){"use strict";var i=e("fe7e");s["a"]=Object(i["a"])({render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{class:t.b()},[t._t("default"),e("input",t._b({ref:"input",class:t.b("input"),attrs:{type:"file",accept:t.accept,disabled:t.disabled},on:{change:t.onChange}},"input",t.$attrs,!1))],2)},name:"uploader",inheritAttrs:!1,props:{disabled:Boolean,beforeRead:Function,afterRead:Function,accept:{type:String,default:"image/*"},resultType:{type:String,default:"dataUrl"},maxSize:{type:Number,default:Number.MAX_VALUE}},methods:{onChange:function(t){var s=this,e=t.target.files;!this.disabled&&e.length&&(e=1===e.length?e[0]:[].slice.call(e,0),!e||this.beforeRead&&!this.beforeRead(e)||(Array.isArray(e)?Promise.all(e.map(this.readFile)).then(function(t){var i=!1,o=e.map(function(o,n){return o.size>s.maxSize&&(i=!0),{file:e[n],content:t[n]}});s.onAfterRead(o,i)}):this.readFile(e).then(function(t){s.onAfterRead({file:e,content:t},e.size>s.maxSize)})))},readFile:function(t){var s=this;return new Promise(function(e){var i=new FileReader;i.onload=function(t){e(t.target.result)},"dataUrl"===s.resultType?i.readAsDataURL(t):"text"===s.resultType&&i.readAsText(t)})},onAfterRead:function(t,s){s?this.$emit("oversize",t):(this.afterRead&&this.afterRead(t),this.$refs.input&&(this.$refs.input.value=""))}}})},"9cb7b":function(t,s,e){"use strict";e("68ef"),e("9b7e"),e("ea82")},a637:function(t,s,e){"use strict";var i=e("2662"),o=e.n(i);o.a},a909:function(t,s,e){"use strict";e("68ef")},ac1e:function(t,s,e){"use strict";e("68ef")},b2e2:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAAAgCAYAAACvgw7DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjU3MUFBRTY4REI2MDExRThCQTQxODYzRjM3QzNERjI3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjU3MUFBRTY5REI2MDExRThCQTQxODYzRjM3QzNERjI3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NTcxQUFFNjZEQjYwMTFFOEJBNDE4NjNGMzdDM0RGMjciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NTcxQUFFNjdEQjYwMTFFOEJBNDE4NjNGMzdDM0RGMjciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6vDOasAAAFJklEQVR42uxZfWwURRT/zd5JUjEKSNuUKLEJgbPliB+lppo2QIIGxIgtSROqtaDGhiBR/IgmcpIqtUT8R1GpiaSxgn9IQeUo0p4BvXpgETG2d/YDYgJqaSvWRMCI7Y5vduztLbt3uevenafykne7OzM7t+8372vesD9cLg5BDGZi+pXJH0ObYRwz3jMmbrix/5Jxcox1XyQbxhn6ucV/mua7SNcRup4gDtC9l65+Gsu1/g+7YEUK/i3EJvzmJOJc4juInyb+jLiPeHUs+ZVUfDyzIUWaQJ5Fv+8QH8Fyd749YFhGrH6MKdlE5p5P3In73GWZb0rjgk3LBVuwLPqwMurLL0wGyNOJ2wmcuwzzx+18L3GAzFUIpbIytoADA+A//gBWNN96Nc9Qf/M2S+fMqmqhPPoY1PW1wDcdGlAYGQzPo/i6wfe2gG/1yCbGrB14lEARDiZ6/zm6FmF3V694cCakppE0dRpY4Vx5n50NlpUFfuoUAeYCP30aOH8efPJksLw8KOUrLOflvT0SGKv/vI185dmz4Mf9mtBK/RvgFy6AP1mdKl29irgZ5e4SAmfMOdFZ+BE/Riv9GtqODXUAgTS6shxXfB2C+uZW8HavDNfUr77sMWmFo2l39MlnFYDddAvUHU36osx2AR+3pNqQhWrXCMesTMhRpjjoKA+vA34n7Wh5V/7d3SvlYnzelg5H/ywq3MxpRwDH5lfBbsgPm5Jzp9QCZc1a4MFV4J+2Q216KzE5Fi4Du70U/KNdwC+DwnkAJaVy3i2NxrH3VGhs0OSlc+2uiwjlZU47SGugiI8JBYGCQvBgt/QxnV9CWbAQnPxLwgv8yFo55/GjenS6+VbwAJmtb58eDDY0gB8Wbd74NSN+7VnqtAuvAEM92glHdg7GNnmgVKyAWv+C7pgT+CDFswXsuuuNslSvAbKuBN/+OvB9SI9aBAx+HgLv8Jq3LPZNvcSZam/GikuhrHvC3D5zphbFws/3VoEtXqI5XKWqRteWO5eA+z6RoKSPZicFGOYq0DTHkq6ZAjbHBbWD1H54UNe0ULeWx4Qpb4ZmLrzxFWAcGPIxvHk7+IE96U4zpyYHGPc8svcv5APlGo4dLVIjQjpYfL+XVn6vcdccofPc1wp+MmgyA/7+tmSZR0JkH5icHCg3uvDnc09pj6MvboRSVAxGkSqhcHoiaCm80rhL5jBWr1pEJfT3gj9eYVeqEfvADA1htG4jmckZTTDe5oXats/ofG3sm/ghH9ATNLVrgPRT5twTRGR2zwcHkqEwfbaBYRSWHQKEmtVm5xrqjv3uA7VS+CjbAktTYjowAhRtr8TC1bTEzc567GFnoitoouFhs+MV3xiHKbFFi6XwMYD5h0oZrUnJY8Ze8phKjKwgTlMiZ51hJEqgfvumRGbkeL7OUmN4rBevzZXmdqA1NRGHJdivPzegpUt12lZDsU+ycrS0d9I0qp1CdP1mONY/A169Sv+O6dkyoz3oS3u1LwYdI25KSrjmhw5ampLjPb1EMNawiZK8OeZ3+/vAv/KnPUeJUpM+R3y/qMXoFbxMODqxGmv/6MT8rZHVPr1NHLEsJ1D2h/OnjKv1pp+EphhASS4wqTw6Sd0JxTGtarfHCEr8wPz3jk5OEj9EXEyg9KRmr5T55nRR7H3+BiNATGESHcRqzE3kt7/9Snk5XoM8ytRo3tVTMvwoMfV+SWiMKKSKk+0PiGeIxkmh7/B/p3EfE4A8OgjgMpmc70/Ei4jfvgwL8JcAAwDlAX1mgct9FwAAAABJRU5ErkJggg=="},b6b9:function(t,s,e){"use strict";var i=e("3d6a"),o=e.n(i);o.a},bcd3:function(t,s,e){},bd46:function(t,s,e){"use strict";var i=e("e5ee"),o=e.n(i);o.a},bd6c:function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.scrollState,expression:"scrollState"}],staticClass:"commom-nav",class:{"commom-nav-outer":t.outerClass},attrs:{id:"commom-nav"},on:{click:t.backTop}},[e("i",{staticClass:"iconfont icon-dingbu"})])},o=[],n={name:"filter-top",props:{scrollState:{type:Boolean,default:!1},outerClass:{type:String,default:""}},methods:{backTop:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0}}},a=n,r=(e("bd46"),e("2877")),c=Object(r["a"])(a,i,o,!1,null,"37d5d607",null);c.options.__file="FilterTop.vue";s["a"]=c.exports},bff0:function(t,s,e){},d10a:function(t,s,e){},d222:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{ref:"box",staticClass:"con con_main"},[t.dscLoading?t._e():[i("header",{staticClass:"header-nav-content",class:{"header-nav-fixed":!t.scrollState}},[i("van-nav-bar",{attrs:{"left-arrow":""},on:{"click-left":t.onClickLeft}},[i("ul",{staticClass:"nav-con-warp",attrs:{slot:"title"},slot:"title"},t._l(t.navTabs,function(s,e){return i("li",{key:e,class:{active:t.navActive==e}},[2==e?[i("span",{on:{click:t.commentHandle}},[t._v(t._s(s))])]:[i("span",{on:{click:function(s){t.jump(e)}}},[t._v(t._s(s))])]],2)})),i("i",{staticClass:"iconfont icon-share-alt",attrs:{slot:"right"},on:{click:t.onGoodsShare},slot:"right"})])],1),i("section",{ref:"goodsinfo",staticClass:"goods_info"},[i("div",{staticClass:"goods_photo d_jump"},[i("div",{staticClass:"goods_photo_warp"},[i("van-swipe",{attrs:{autoplay:3e3,height:t.swipe_height}},[t.gallery_list&&t.gallery_list.length>0?t._l(t.gallery_list,function(t,s){return i("van-swipe-item",{key:s,staticStyle:{position:"relative"}},[t.img_url?i("img",{staticClass:"imgalt",attrs:{src:t.img_url}}):i("img",{staticClass:"imgalt",attrs:{src:e("d9e6")}})])}):[i("van-swipe-item",{staticStyle:{position:"relative"}},[t.goodsInfo.goods_img?i("img",{staticClass:"imgalt",attrs:{src:t.goodsInfo.goods_img}}):i("img",{staticClass:"imgalt",attrs:{src:e("d9e6")}})])]],2),t.goodsInfo.goods_video&&0===t.index?i("div",{staticClass:"videoBox"},[i("a",{attrs:{href:"javascript:void(0);"},on:{click:t.handleVideo}},[i("van-icon",{attrs:{name:"play",size:"1rem"}}),t._v("\n                            "+t._s(t.$t("lang.video"))+"\n                        ")],1)]):t._e()],1)]),t.goodsInfo.promote_end_date>0&&t.goodsInfo.promote_start_date>0?[i("div",{staticClass:"seckill-header-title cont-box dis-box"},[i("div",{staticClass:"left box-flex"},[i("currency-price",{attrs:{price:t.regionGoodsPirce?t.regionGoodsPirce:t.goodsPriceManage,delPrice:1==t.goodsInfo.show_marketprice?t.goodsMarketPriceManage:0,size:26,delSize:14,color:"#fff",delColor:"#fff"}})],1),i("div",{staticClass:"right"},[i("p",{staticClass:"f-02 text-c"},[t._v(t._s(t.$t("lang.promote_surplus_end")))]),void 0!=t.goodsInfo.promote_start_date&&void 0!=t.goodsInfo.promote_end_date?[i("count-down",{staticClass:"seckill-time",attrs:{endTime:t.goodsInfo.promote_end_date,endText:t.$t("lang.activity_end")}})]:t._e()],2)])]:t._e(),0==t.goodsInfo.promote_end_date&&0==t.goodsInfo.promote_start_date?i("div",{staticClass:"goods-price"},[i("currency-price",{attrs:{price:t.regionGoodsPirce?t.regionGoodsPirce:t.goodsPriceManage,delPrice:1==t.goodsInfo.show_marketprice?t.goodsMarketPriceManage:0,size:24,delSize:14}}),t.goodsInfo.is_show_drp>0&&0!=t.goodsInfo.commission_money&&1==t.goodsInfo.is_distribution?i("div",{staticClass:"drp-share",on:{click:t.onGoodsShare}},[i("i",{staticClass:"iconfont icon-share"}),i("span",[i("span",[t._v(t._s(t.$t("lang.share_zhuan_alt")))]),i("span",{domProps:{innerHTML:t._s(t.goodsInfo.commission_money)}})])]):t._e()],1):t._e(),t.goodsInfo.is_drp&&0==t.goodsInfo.drp_shop?i("div",{staticClass:"hig-vip",class:{pt10:t.goodsInfo.promote_end_date>0&&t.goodsInfo.promote_start_date>0}},[i("div",{staticClass:"hig-vip-warp"},[i("div",{staticClass:"text"},[t._m(0),t.goodsInfo.membership_card_discount_price>0?[i("span",[t._v(t._s(t.$t("lang.high_grade_vip_tips_1")))]),i("currency-price",{attrs:{price:t.goodsInfo.membership_card_discount_price,color:"#333"}})]:[t._v(t._s(t.$t("lang.high_grade_vip_tips_1")))]],2),i("div",{staticClass:"vip-register"},[t.goodsInfo.drp_shop_membership_card_id&&t.goodsInfo.drp_shop_membership_card_id>0?[t.isLogin?i("a",{attrs:{href:"javascript:;"},on:{click:function(s){t.onVipRepurchase(t.goodsInfo.drp_shop_membership_card_id)}}},[i("span",[t._v(t._s(t.$t("lang.re_purchase")))]),i("i",{staticClass:"iconfont icon-more"})]):t._e()]:[t.isLogin?i("a",{attrs:{href:"javascript:;"},on:{click:t.onVipRegister}},[i("span",[t._v(t._s(t.$t("lang.immediately_opened")))]),i("i",{staticClass:"iconfont icon-more"})]):i("router-link",{attrs:{to:{name:"login"}}},[i("span",[t._v(t._s(t.$t("lang.immediately_opened")))]),i("i",{staticClass:"iconfont icon-more"})])]],2)])]):t._e(),i("div",{staticClass:"goods_title",class:{goods_title_active:t.goodsInfo.promote_end_date>0&&t.goodsInfo.promote_start_date>0}},[t.goodsInfo.goods_label?i("div",{staticClass:"label-list"},t._l(t.goodsInfo.goods_label,function(t,s){return i("div",{key:s,staticClass:"label-img"},[i("a",{attrs:{href:t.label_url?t.label_url:"javascript:;"}},[i("img",{attrs:{src:t.formated_label_image}})])])})):t._e(),i("h3",{staticClass:"twolist-hidden"},[0==t.goodsInfo.user_id?i("em",{staticClass:"em-promotion"},[t._v(t._s(t.$t("lang.self_support")))]):t._e(),t._v(t._s(t.goodsInfo.goods_name)+"\n                ")]),t.goodsInfo.goods_brief?i("p",{staticClass:"f-05 color-red m-top02"},[t._v(t._s(t.goodsInfo.goods_brief))]):t._e()]),i("div",{staticClass:"goods_outer"},[i("p",{staticClass:"g-p-tthree dis-box"},[i("span",{staticClass:"box-flex text-left"},[t._v(t._s(t.$t("lang.people_have_buy"))+" "+t._s(t.goodsInfo.sales_volume))]),1==t.goodsInfo.show_goodsnumber?i("span",{staticClass:"box-flex text-center"},[i("span",[t._v(t._s(t.$t("lang.stock")))]),i("em",[t._v(t._s(t.regionGoodsNumberFormated?t.regionGoodsNumberFormated:t.goodsNumberManage))])]):t._e(),t.goodsInfo.basic_info?i("span",{staticClass:"box-flex text-right"},[t.goodsInfo.basic_info&&t.goodsInfo.basic_info.province_name?[t._v("\n                            "+t._s(t.provinceName)+"\n                        ")]:t._e()],2):t._e()])]),i("van-cell-group",{staticClass:"van-cell-noleft van-coupon m-top08"},[t.goodsInfo.volume_price_list&&t.goodsInfo.volume_price_list.length>0?i("van-cell",{staticClass:"my-bottom",attrs:{title:t.$t("lang.tiered_price"),value:"","is-link":""},on:{click:t.handleVolumePrice}}):t._e(),t.goodsInfo.rank_prices&&t.goodsInfo.rank_prices.length>0&&1==t.goodsInfo.show_rank_price?i("van-cell",{staticClass:"my-bottom",attrs:{title:t.$t("lang.rank_price"),value:"","is-link":""},on:{click:t.handleRankPrice}}):t._e(),t.goodsInfo.coupon_count>0?i("van-cell",{staticClass:"my-bottom",attrs:{title:t.$t("lang.get_coupon"),value:"","is-link":""},on:{click:t.handleCoupon}},[i("i",{staticClass:"iconfont icon-coupon"}),t._v(" "+t._s(t.$t("lang.receive_coupon"))+"("+t._s(t.goodsInfo.coupon_count)+")\n                ")]):t._e(),t.goods_promotion&&t.goods_promotion.length>0||t.goodsInfo.fittings?i("van-cell",{staticClass:"my-bottom",attrs:{title:t.$t("lang.label_promotion"),value:"","is-link":""}},[i("div",{staticClass:"promotion-popup-list"},[t.goods_promotion&&t.goods_promotion.length>0?[t._l(t.goods_promotion,function(s,e){return e<2?i("div",{key:e,staticClass:"promotion-popup-item",on:{click:t.handlePromotion}},[0==s.act_type?i("em",{staticClass:"em-sales"},[t._v(t._s(t.$t("lang.with_a_gift")))]):1==s.act_type?i("em",{staticClass:"em-sales"},[t._v(t._s(t.$t("lang.lijian")))]):2==s.act_type?i("em",{staticClass:"em-sales"},[t._v(t._s(t.$t("lang.discount")))]):3==s.act_type?i("em",{staticClass:"em-sales"},[t._v(t._s(t.$t("lang.group_buy")))]):4==s.act_type?i("em",{staticClass:"em-sales"},[t._v(t._s(t.$t("lang.auction")))]):5==s.act_type?i("em",{staticClass:"em-sales"},[t._v(t._s(t.$t("lang.full_reduction")))]):t._e(),i("span",[t._v(t._s(s.act_name))])]):t._e()}),t.goods_promotion&&t.goods_promotion.length>2?i("div",{staticClass:"promotion-popup-item"},t._l(t.goods_promotion,function(s,e){return e>1?i("em",{key:e,staticClass:"em-sales"},[0==s.act_type?[t._v(t._s(t.$t("lang.with_a_gift")))]:1==s.act_type?[t._v(t._s(t.$t("lang.lijian")))]:2==s.act_type?[t._v(t._s(t.$t("lang.discount")))]:3==s.act_type?[t._v(t._s(t.$t("lang.group_buy")))]:4==s.act_type?[t._v(t._s(t.$t("lang.auction")))]:5==s.act_type?[t._v(t._s(t.$t("lang.full_reduction")))]:t._e()],2):t._e()})):t._e()]:t._e(),t.goodsInfo.fittings?i("div",{staticClass:"promotion-popup-item",on:{click:t.handlePromotion}},[i("em",{staticClass:"em-sales"},[t._v(t._s(t.$t("lang.combined_package")))]),i("span",[t._v(t._s(t.$t("lang.hig_discount"))),i("div",{staticClass:"color-red",domProps:{innerHTML:t._s(t.spare_price)}}),t._v(t._s(t.$t("lang.price_unit")))])]):t._e()],2)]):t._e(),t.goodsInfo.is_minimum>0?i("van-cell",{staticClass:"my-bottom",attrs:{title:t.$t("lang.label_minimum"),value:""}},[t._v("\n                    "+t._s(t.goodsInfo.minimum)+" "+t._s(t.goodsInfo.goods_unit)+"\n                ")]):t._e(),t.goodsInfo.integral>0?i("van-cell",{staticClass:"my-bottom",attrs:{title:t.$t("lang.label_available_integral"),value:""}},[t._v("\n                    "+t._s(t.goodsInfo.integral)+" "+t._s(t.$t("lang.integral"))+"\n                ")]):t._e(),t.goodsInfo.give_integral>0&&1==t.goodsInfo.show_give_integral?i("van-cell",{staticClass:"my-bottom",attrs:{title:t.$t("lang.label_give_integral"),value:""}},[t._v("\n                    "+t._s(t.goodsInfo.give_integral)+" "+t._s(t.$t("lang.integral"))+"\n                ")]):t._e(),t.goodsInfo.goods_extend&&(t.goodsInfo.goods_extend.is_reality||t.goodsInfo.goods_extend.is_return||t.goodsInfo.goods_extend.is_fast)?i("van-cell",{attrs:{title:t.$t("lang.label_service")}},[t.goodsInfo.goods_extend&&t.goodsInfo.goods_extend.is_reality?[t._v("\n                        "+t._s(t.$t("lang.is_reality"))+"\n                    ")]:t._e(),t.goodsInfo.goods_extend&&t.goodsInfo.goods_extend.is_return?[t._v("\n                        "+t._s(t.$t("lang.is_return"))+"\n                    ")]:t._e(),t.goodsInfo.goods_extend&&t.goodsInfo.goods_extend.is_fast?[t._v("\n                        "+t._s(t.$t("lang.is_fast"))+"\n                    ")]:t._e()],2):t._e()],1),i("van-cell-group",{staticClass:"van-cell-noleft m-top08"},[i("van-cell",{staticClass:"my-cell-nobottom",class:{gay:!t.regionOptionDate.regionSplic},attrs:{title:t.$t("lang.label_send_to"),"is-link":""},on:{click:t.handelRegionShow},model:{value:t.regionSplic,callback:function(s){t.regionSplic=s},expression:"regionSplic"}}),i("van-cell",{class:{"my-cell-nobottom":t.goodsInfo.cross_border},attrs:{title:t.$t("lang.label_freight")}},[i("span",{domProps:{innerHTML:t._s(t.freight)}}),t.shipping_fee.shipping_title&&0!=t.shipping_fee.shipping_title?i("span",{staticClass:"color-red"},[t._v("("+t._s(t.shipping_fee.shipping_title)+")")]):t._e()]),t.goodsInfo.cross_border?i("van-cell",{attrs:{title:t.$t("lang.label_import_tax")},model:{value:t.importTax,callback:function(s){t.importTax=s},expression:"importTax"}}):t._e()],1),i("van-cell-group",{staticClass:"van-cell-noleft m-top08"},[i("van-cell",{attrs:{title:t.$t("lang.label_selected"),"is-link":""},on:{click:t.skuLink},model:{value:t.attr_name,callback:function(s){t.attr_name=s},expression:"attr_name"}})],1),t.shipping_fee.store_count>0?i("van-cell-group",{staticClass:"van-cell-noleft m-top08"},[i("van-cell",{attrs:{title:t.$t("lang.private_store"),value:"","is-link":""},on:{click:t.handleStore}})],1):t._e(),i("van-cell-group",{staticClass:"van-cell-noleft m-top08"},[i("van-cell",{attrs:{title:t.$t("lang.discuss_circle"),value:"","is-link":""},on:{click:t.onDiscover}})],1),t.goodsInfo.goods_article_list&&t.goodsInfo.goods_article_list.length>0?i("van-cell-group",{staticClass:"van-cell-noleft m-top08"},[i("van-cell",{attrs:{title:t.$t("lang.goods_article_list"),value:""}}),t._l(t.goodsInfo.goods_article_list,function(s,e){return i("div",{staticClass:"new"},[i("div",{staticClass:"new-title"},[i("router-link",{attrs:{to:{name:"articleDetail",params:{id:s.article_id}}}},[t._v(t._s(s.title))])],1),i("div",{staticClass:"new-time"},[t._v(t._s(s.add_time))])])})],2):t._e(),t.goodsInfo.user_id?i("div",{staticClass:"goods-shop m-top08"},[i("ShopHeader",{attrs:{shopInfo:t.shopInfo,index:t.index,shopScore:t.shopScore},on:{update:t.updateInfo}})],1):t._e(),i("van-tabs",{staticClass:"goods_detail m-top08 d_jump",model:{value:t.active,callback:function(s){t.active=s},expression:"active"}},t._l(t.tabs,function(s,e){return i("van-tab",{key:e,attrs:{title:s}},[0==e?[t.goodsInfo.goods_desc?[i("div",{staticClass:"goods_desc",domProps:{innerHTML:t._s(t.goodsInfo.goods_desc)}})]:[i("NotCont")]]:[t.goodsInfo.attr_parameter?[i("div",{staticClass:"goods_attr_parameter"},[i("table",{staticClass:"Ptable param_table",attrs:{cellpadding:"0",cellspacing:"1",width:"100%",border:"0"}},[1==t.goodsInfo.show_goodssn?i("tbody",[i("tr",[i("td",[t._v(t._s(t.$t("lang.goods_sn")))]),i("td",[t._v(t._s(t.goodsInfo.goods_sn))])])]):t._e(),i("tbody",[i("tr",[i("th",{staticClass:"tdTitle",attrs:{colspan:"2"}},[t._v(t._s(t.$t("lang.subject")))])]),1==t.goodsInfo.show_brand?i("tr",[i("td",[t._v(t._s(t.$t("lang.brand")))]),i("td",[t._v(t._s(t.goodsInfo.brand_name))])]):t._e(),1==t.goodsInfo.show_goodsweight?i("tr",[i("td",[t._v(t._s(t.$t("lang.goods_weight")))]),i("td",[t._v(t._s(t.goodsInfo.goods_weight)+"kg")])]):t._e(),1==t.goodsInfo.show_addtime?i("tr",[i("td",[t._v(t._s(t.$t("lang.add_time")))]),i("td",[t._v(t._s(t.goodsInfo.add_time_format))])]):t._e(),i("tr",[i("th",{staticClass:"tdTitle",attrs:{colspan:"2"}},[t._v(t._s(t.$t("lang.attr_parameter")))])]),t._l(t.goodsInfo.attr_parameter,function(s){return i("tr",[i("td",[t._v(t._s(s.attr_name))]),i("td",[t._v(t._s(s.attr_value))])])})],2)])])]:[i("NotCont")]]],2)})),t.goodsGuessList?i("section",{staticClass:"goods-detail-guess text-center"},[i("h5",{staticClass:"title-hrbg"},[i("span",[t._v(t._s(t.$t("lang.guess_love")))]),i("hr")]),i("section",{staticClass:"product-list product-list-medium"},[i("ProductList",{attrs:{data:t.goodsGuessList,routerName:t.routerName,productOuter:t.productOuter}}),t.footerCont?i("div",{staticClass:"footer-cont"},[t._v(t._s(t.$t("lang.no_more")))]):t._e(),t.guess_loading?[i("van-loading",{attrs:{type:"spinner",color:"black"}})]:t._e()],2)]):t._e()],2),i("van-goods-action",[i("van-goods-action-mini-btn",{attrs:{icon:"chat",text:t.$t("lang.customer_service")},on:{click:function(s){t.onChat(t.goods_id,t.goodsInfo.user_id)}}}),i("van-goods-action-mini-btn",{class:{curr:1==t.is_collect},attrs:{icon:t.collect_icon,text:t.$t("lang.collect")},on:{click:t.collection}}),i("van-goods-action-mini-btn",{attrs:{icon:"cart",info:t.cart_number,to:{name:"cart"}}},[t._v("\n                "+t._s(t.$t("lang.cart"))+"\n                "),i("span",{staticClass:"add_num",class:{show:1==t.addCartClass},attrs:{id:"popone"}},[t._v("+"+t._s(t.num))])]),t.is_on_sale?[i("van-goods-action-big-btn",{staticClass:"van-button--disabled",attrs:{text:t.$t("lang.goods_sold_out"),disabled:""}})]:[(t.regionGoodsNumberFormated?t.regionGoodsNumberFormated:t.goodsNumberManage>0)?[t.goodsInfo.is_show_drp>0&&t.goodsInfo.drp_shop>0&&1==t.goodsInfo.is_distribution?[i("van-goods-action-big-btn",{attrs:{text:t.$t("lang.want_represent")},on:{click:t.shareHandle}})]:t._e(),t.goodsInfo.membership_card_id&&t.goodsInfo.membership_card_id>0?void 0:[i("van-goods-action-big-btn",{attrs:{text:t.$t("lang.add_cart"),primary:""},on:{click:t.onSku}})],t.goodsInfo.is_show_drp>0&&t.goodsInfo.drp_shop>0&&1==t.goodsInfo.is_distribution&&0==t.goodsInfo.membership_card_id?void 0:[i("van-goods-action-big-btn",{attrs:{text:t.$t("lang.button_buy"),loading:t.loading,disabled:t.disabled,"data-type":"1"},on:{click:t.onSku}})]]:[i("van-goods-action-big-btn",{staticClass:"van-button--disabled",attrs:{text:t.$t("lang.understock"),disabled:""}})]]],2)],i("CommonNav"),i("van-popup",{staticClass:"attr-goods-box",attrs:{position:"bottom"},model:{value:t.showBase,callback:function(s){t.showBase=s},expression:"showBase"}},[i("div",{staticClass:"attr-goods-header"},[""!=t.attr?[i("div",{staticClass:"attr-img"},[t.goodsAttrOper.attr_img?i("img",{staticClass:"img",attrs:{src:t.goodsAttrOper.attr_img}}):i("img",{staticClass:"img",attrs:{src:t.goodsInfo.goods_thumb}})]),i("div",{staticClass:"attr-info"},[i("div",{staticClass:"attr-price",domProps:{innerHTML:t._s(t.goodsAttrOper.goods_price_formated)}}),i("div",{staticClass:"attr-stock"},[t._v(t._s(t.$t("lang.label_stock"))+t._s(t.goodsAttrOper.stock))]),i("div",{staticClass:"attr-other"},[t._v(t._s(t.$t("lang.label_selected"))+t._s(t.goodsAttrOper.attr_name)+" "+t._s(t.num)+t._s(t.goodsInfo.goods_unit))])])]:[i("div",{staticClass:"attr-img"},[i("img",{staticClass:"img",attrs:{src:t.goodsInfo.goods_img}})]),i("div",{staticClass:"attr-info"},[i("div",{staticClass:"attr-name twolist-hidden"},[t._v(t._s(t.goodsInfo.goods_name))]),i("div",{staticClass:"attr-price",domProps:{innerHTML:t._s(t.goodsPriceManage)}},[t._v(t._s(t.goodsPriceManage))]),i("div",{staticClass:"attr-stock"},[t._v(t._s(t.$t("lang.label_stock"))+t._s(t.goodsInfo.goods_number))])])],i("i",{staticClass:"iconfont icon-close",on:{click:t.closeSku}})],2),""!=t.attr?i("div",{staticClass:"attr-goods-content"},[t._l(t.attr,function(s,e){return 1==s.attr_type?i("van-radio-group",{key:e,staticClass:"sku-item",model:{value:t.goodsAttrInit[e],callback:function(s){t.$set(t.goodsAttrInit,e,s)},expression:"goodsAttrInit[index]"}},[i("div",{staticClass:"sku-tit"},[t._v(t._s(s.name))]),i("div",{staticClass:"sku-list"},[t._l(s.attr_key,function(s,o){return[i("van-radio",{staticClass:"option",class:{active:t.goodsAttrInit[e]==s.goods_attr_id},attrs:{name:s.goods_attr_id}},[t._v(t._s(s.attr_value)+"\n                            ")])]})],2)]):t._e()}),t._l(t.attr,function(s,e){return 2==s.attr_type?i("van-checkbox-group",{key:e,staticClass:"sku-item",model:{value:t.goodsAttrInit,callback:function(s){t.goodsAttrInit=s},expression:"goodsAttrInit"}},[i("div",{staticClass:"sku-tit"},[t._v(t._s(s.name))]),i("div",{staticClass:"sku-list"},[t._l(s.attr_key,function(s,e){return[i("van-checkbox",{staticClass:"option",class:{active:-1!=t.goodsAttrInit.indexOf(s.goods_attr_id)},attrs:{name:s.goods_attr_id}},[t._v(t._s(s.attr_value)+"\n                            ")])]})],2)]):t._e()})],2):t._e(),i("div",{staticClass:"attr-goods-number dis-box"},[i("span",{staticClass:"tit box-flex"},[t._v(t._s(t.$t("lang.number")))]),i("div",{staticClass:"stepper"},[i("van-stepper",{attrs:{integer:"",min:t.goodsInfo.is_minimum>0?t.goodsInfo.minimum:1,max:t.stock},model:{value:t.number,callback:function(s){t.number=s},expression:"number"}})],1)]),i("div",{staticClass:"van-sku-actions"},[t.storeBtn?[i("van-button",{staticClass:"van-button--bottom-action",attrs:{type:"primary"},on:{click:t.onStoreClicked}},[t._v(t._s(t.$t("lang.private_store"))+"\n                    ")])]:[t.zFittingAttr?[i("van-button",{staticClass:"van-button--bottom-action",attrs:{type:"primary"},on:{click:t.onFittingAttr}},[t._v(t._s(t.$t("lang.confirm")))])]:[t.is_on_sale?[i("van-button",{staticClass:"van-button--bottom-action",attrs:{type:"disabled"}},[t._v(t._s(t.$t("lang.button_buy")))]),i("van-button",{staticClass:"van-button--bottom-action",attrs:{type:"disabled"}},[t._v(t._s(t.$t("lang.goods_sold_out")))])]:[t.stock?[i("van-button",{staticClass:"van-button--bottom-action",attrs:{type:"default",loading:t.loading,disabled:t.disabled},on:{click:t.onBuyClicked}},[t._v(t._s(t.$t("lang.button_buy"))+"\n                                ")]),t.goodsInfo.membership_card_id&&t.goodsInfo.membership_card_id>0?void 0:[i("van-button",{staticClass:"van-button--bottom-action",attrs:{type:"primary"},on:{click:function(s){t.onAddCartClicked(0)}}},[t._v(t._s(t.$t("lang.add_cart"))+"\n                                ")])]]:[i("van-goods-action-big-btn",{staticClass:"van-button--disabled",attrs:{text:t.$t("lang.understock"),disabled:""}})]]]]],2)]),i("van-popup",{staticClass:"show-popup-bottom show-goods-coupon",attrs:{position:"bottom"},model:{value:t.couponShow,callback:function(s){t.couponShow=s},expression:"couponShow"}},[i("section",{staticClass:"goods-show-title padding-all"},[i("h3",{staticClass:"fl"},[t._v(t._s(t.$t("lang.receive_coupon"))+" ("+t._s(t.goodsInfo.coupon_count)+")")]),i("i",{staticClass:"iconfont icon-close fr",on:{click:function(s){t.handelClose("coupon")}}})]),i("swiper",{staticClass:"goods-show-con",attrs:{options:t.swiperOption}},[i("swiper-slide",[i("div",{staticClass:"padding-all"},[t.conpouLoading?i("van-loading",{attrs:{type:"spinner",color:"white"}}):[t.goodsCouponList&&t.goodsCouponList.length>0?i("ul",t._l(t.goodsCouponList,function(s,e){return i("li",{staticClass:"new-coupons-box dis-box"},[i("div",{staticClass:"remark-all box-flex"},[i("div",{staticClass:"q-type"},[i("div",{staticClass:"b-r-a-price"},[i("em",[t._v("￥")]),i("strong",{staticClass:"coupons-money"},[t._v(t._s(s.cou_money))]),i("div",{staticClass:"couons-text"},[i("span",[t._v(t._s(t.$t("lang.man"))+t._s(s.cou_man)+t._s(t.$t("lang.available_full")))])])]),i("div",{staticClass:"b-r-a-con"},[i("div",{staticClass:"range-item"},[t._v(t._s(s.cou_name))]),i("div",{staticClass:"range-item"},[t._v(t._s(s.cou_start_time)+" "+t._s(t.$t("lang.zhi"))+" "+t._s(s.cou_end_time)),i("em",{staticClass:"color-red"},[t._v("("+t._s(t.$t("lang.cou_user_receive_hove"))+t._s(s.cou_user_num)+t._s(t.$t("lang.zhang"))+")")])])])]),i("b",{staticClass:"semi-circle"}),1==s.cou_is_receive?i("div",{staticClass:"print-img"}):t._e()]),s.enable_ling>0?i("a",{staticClass:"b-r-a-btn tb-lr-center",attrs:{href:"javascript:void(0);"}},[t._v(t._s(t.$t("lang.brought_up")))]):i("a",{staticClass:"b-r-a-btn tb-lr-center",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.handelReceive(s.cou_id)}}},[1==s.cou_is_receive&&1==t.isLogin?[t._v(t._s(t.$t("lang.receive_hove")))]:[t._v(t._s(t.$t("lang.receive")))]],2)])})):i("div",{staticClass:"notic-coupons"},[t._v(t._s(t.$t("lang.no_coupon_yet")))])]],2)])],1)],1),i("van-popup",{staticClass:"show-popup-bottom show-goods-promotion",attrs:{position:"bottom"},model:{value:t.promotionShow,callback:function(s){t.promotionShow=s},expression:"promotionShow"}},[i("section",{staticClass:"goods-show-title padding-all"},[i("h3",{staticClass:"fl"},[t._v(t._s(t.$t("lang.promotion")))]),i("i",{staticClass:"iconfont icon-close fr",on:{click:function(s){t.handelClose("promotion")}}})]),i("swiper",{staticClass:"goods-show-con",attrs:{options:t.swiperOption}},[i("swiper-slide",[i("div",{staticClass:"padding-all"},[t.goods_promotion&&t.goods_promotion.length>0?i("ul",{staticClass:"promotion-popup-list m-b10"},t._l(t.goods_promotion,function(s,e){return i("li",{key:e,staticClass:"promotion-popup-item"},[0==s.act_type?[i("router-link",{attrs:{to:{name:"activity-detail",params:{act_id:s.act_id}}}},[i("em",{staticClass:"em-sales"},[t._v(t._s(t.$t("lang.with_a_gift")))]),i("span",[t._v(t._s(s.act_name))])])]:t._e(),1==s.act_type?[i("router-link",{attrs:{to:{name:"activity-detail",params:{act_id:s.act_id}}}},[i("em",{staticClass:"em-sales"},[t._v(t._s(t.$t("lang.lijian")))]),i("span",[t._v(t._s(s.act_name))])])]:t._e(),2==s.act_type?[i("router-link",{attrs:{to:{name:"activity-detail",params:{act_id:s.act_id}}}},[i("em",{staticClass:"em-sales"},[t._v(t._s(t.$t("lang.discount")))]),i("span",[t._v(t._s(s.act_name))])])]:t._e(),3==s.act_type?[i("router-link",{attrs:{to:{name:"groupbuy-detail",params:{group_buy_id:s.act_id}}}},[i("em",{staticClass:"em-sales"},[t._v(t._s(t.$t("lang.group_buy")))]),i("span",[t._v(t._s(s.act_name))])])]:t._e(),4==s.act_type?[i("router-link",{attrs:{to:{name:"auction-detail",params:{act_id:s.act_id}}}},[i("em",{staticClass:"em-sales"},[t._v(t._s(t.$t("lang.auction")))]),i("span",[t._v(t._s(s.act_name))])])]:t._e(),5==s.act_type?[i("a",{staticClass:"color-red",attrs:{href:"javascript:;"}},[i("em",{staticClass:"em-sales"},[t._v(t._s(t.$t("lang.full_reduction")))]),i("span",[t._v(t._s(s.act_name))])])]:t._e()],2)})):t._e(),t.goodsInfo.fittings?i("van-cell",{staticClass:"not_padding_lr",class:{"my-top":t.goodsInfo.goods_promotion&&t.goodsInfo.goods_promotion.length>0},attrs:{"is-link":""},on:{click:t.handleFitting}},[i("div",{staticClass:"promotion-popup-list"},[i("div",{staticClass:"promotion-popup-item"},[i("em",{staticClass:"em-sales"},[t._v(t._s(t.$t("lang.combined_package")))]),i("div",{staticClass:"prom_flex_box"},[i("span",[t._v(t._s(t.$t("lang.hig_discount"))),i("div",{staticClass:"color-red",domProps:{innerHTML:t._s(t.spare_price)}}),t._v(t._s(t.$t("lang.yuan")))]),i("div",{staticClass:"scroll_box"},[i("div",{staticClass:"scroll_box_item"},[i("span",{staticClass:"scroll_box_item_good"},[i("img",{attrs:{src:t.goodsInfo.goods_thumb}})]),i("span",{staticClass:"scroll_box_item_plus"}),t._l(t.goodsInfo.fittings,function(s,e){return[e<2?[i("span",{staticClass:"scroll_box_item_good"},[i("img",{attrs:{src:s.goods_thumb}})]),e!=t.goodsInfo.fittings.length-1?i("span",{staticClass:"scroll_box_item_plus"}):t._e()]:t._e()]}),i("span",{staticClass:"scroll_box_item_last"},[t._v("...")])],2)])])])])]):t._e()],1)])],1)],1),i("van-popup",{staticStyle:{width:"100%"},model:{value:t.videoShow,callback:function(s){t.videoShow=s},expression:"videoShow"}},[i("video-player",{ref:"videoPlayer",staticClass:"video-player-box",attrs:{options:t.playerOptions,playsinline:!0}})],1),i("van-popup",{staticClass:"fitting-show",staticStyle:{height:"100%",width:"100%"},model:{value:t.fittingShow,callback:function(s){t.fittingShow=s},expression:"fittingShow"}},[i("van-nav-bar",{staticClass:"btyes",attrs:{title:t.$t("lang.combined_package"),"left-arrow":""},on:{"click-left":t.onFittingLeft}}),i("van-collapse",{staticClass:"fitting-coll",attrs:{accordion:""},model:{value:t.fittingNames,callback:function(s){t.fittingNames=s},expression:"fittingNames"}},t._l(t.fittingInfo.comboTab,function(s,o){return i("van-collapse-item",{attrs:{title:s.text,name:s.group_id}},[i("div",{staticClass:"card-act-goods"},[i("div",{staticClass:"card-goods__item"},[i("van-checkbox",{attrs:{disabled:t.checkDisabled},model:{value:t.checked,callback:function(s){t.checked=s},expression:"checked"}}),i("div",{staticClass:"van-checkbox__con"},[i("van-card",{staticClass:"cart-goods-info"},[i("template",{slot:"thumb"},[t.fittingInfo.goods.goods_thumb?i("img",{attrs:{src:t.fittingInfo.goods.goods_thumb}}):i("img",{staticClass:"img",attrs:{src:e("d9e6")}})]),i("div",{staticClass:"goods-title twolist-hidden",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.fittingInfo.goods.goods_name))]),i("div",{staticClass:"goods-price",attrs:{slot:"tags"},domProps:{innerHTML:t._s(t.goodsPriceManage)},slot:"tags"}),t.fittingInfo.goods.attr.length>0?i("div",{staticClass:"goods-attr",attrs:{slot:"tags"},slot:"tags"},[i("div",{staticClass:"property-box",on:{click:function(s){t.fittingAttrHandle()}}},[i("span",[t._v(t._s(t.$t("lang.label_attr")))]),i("span",[t._v(t._s(t.attr_name))]),i("i",{staticClass:"iconfont icon-moreunfold fr"})])]):t._e()],2)],1)],1),i("van-checkbox-group",{model:{value:t.fittingsCheckModel,callback:function(s){t.fittingsCheckModel=s},expression:"fittingsCheckModel"}},t._l(t.fittingInfo.fittings,function(o,n){return i("div",{staticClass:"card-goods__item",attrs:{index:n}},[s.group_id==o.group_id?[i("div",{on:{click:function(s){t.fittingsCheckChange(o.goods_id)}}},[i("van-checkbox",{ref:"checkboxes",refInFor:!0,attrs:{name:o.goods_id}})],1),i("div",{staticClass:"van-checkbox__con"},[i("van-card",{staticClass:"cart-goods-info"},[i("template",{slot:"thumb"},[o.goods_thumb?i("img",{attrs:{src:o.goods_thumb}}):i("img",{staticClass:"img",attrs:{src:e("d9e6")}}),i("em",{staticClass:"activity-tag"},[i("img",{attrs:{src:e("b2e2")}})])]),i("div",{staticClass:"goods-title twolist-hidden",attrs:{slot:"title"},slot:"title"},[t._v(t._s(o.goods_name))]),i("div",{staticClass:"goods-price",attrs:{slot:"tags"},domProps:{innerHTML:t._s(o.fittings_price)},slot:"tags"}),o.attr&&o.attr.length>0?i("div",{staticClass:"goods-attr",attrs:{slot:"tags"},slot:"tags"},[i("div",{staticClass:"property-box",on:{click:function(s){t.fittingAttrHandle(o.goods_id,n)}}},[i("span",[t._v(t._s(t.$t("lang.label_attr")))]),i("span",[t._v(t._s(o.attr_name))]),i("i",{staticClass:"iconfont icon-moreunfold fr"})])]):t._e()],2)],1)]:t._e()],2)}))],1)])})),i("div",{staticClass:"goods-suit-btn"},[i("div",{staticClass:"gns_item"},[i("em",{staticClass:"color-red"},[t._v("("+t._s(t.$t("lang.gb_limited"))+" "+t._s(t.fittingInfo.goods.group_number)+" "+t._s(t.$t("lang.cover"))+")")]),i("span",[t._v(t._s(t.$t("lang.label_buy")))]),i("div",{staticClass:"stepper"},[i("van-stepper",{attrs:{integer:"",min:t.fittingPriceData.limit_number,max:t.fittingInfo.goods.group_number},model:{value:t.fittingNum,callback:function(s){t.fittingNum=s},expression:"fittingNum"}})],1),i("span",[t._v(t._s(t.$t("lang.cover")))])])]),i("div",{staticClass:"cart-submit van-submit-bar cart-submit-not-bot"},[i("div",{staticClass:"van-submit-bar__bar"},[i("div",{staticClass:"van-submit-bar__text"},[i("p",[i("span",[t._v(t._s(t.$t("lang.label_package_price")))]),i("span",{staticClass:"van-submit-bar__price",domProps:{innerHTML:t._s(t.fittings_minMax)}})]),i("p",{staticClass:"van-submit-bar__sub"},[t._v(t._s(t.$t("lang.sheng"))+"："),i("span",{domProps:{innerHTML:t._s(t.save_minMaxPrice)}})])]),i("van-button",{attrs:{type:"danger"},on:{click:t.fittingsAddCart}},[t._v(t._s(t.$t("lang.add_cart")))])],1)])],1),i("van-popup",{staticClass:"attr-goods-box",attrs:{position:"bottom"},model:{value:t.fittingShowBase,callback:function(s){t.fittingShowBase=s},expression:"fittingShowBase"}},[i("div",{staticClass:"attr-goods-header"},[i("div",{staticClass:"attr-img"},[t.fittingImg?i("img",{staticClass:"img",attrs:{src:t.fittingImg}}):i("img",{staticClass:"img",attrs:{src:e("d9e6")}})]),i("div",{staticClass:"attr-info"},[i("div",{staticClass:"attr-price",domProps:{innerHTML:t._s(t.fittingPrice)}}),i("div",{staticClass:"attr-stock"},[t._v(t._s(t.$t("lang.label_stock"))+t._s(t.fittingAttrNumber))]),i("div",{staticClass:"attr-other"},[t._v(t._s(t.$t("lang.label_selected"))+t._s(t.fittingAttrName))])]),i("i",{staticClass:"iconfont icon-close",on:{click:t.closeFitting}})]),""!=t.fittingAttr?i("div",{staticClass:"attr-goods-content"},t._l(t.fittingAttr,function(s,e){return i("van-radio-group",{key:e,staticClass:"sku-item",on:{change:function(s){t.fittingLoad(0)}},model:{value:t.fittingAttrInit[e],callback:function(s){t.$set(t.fittingAttrInit,e,s)},expression:"fittingAttrInit[index]"}},[i("div",{staticClass:"sku-tit"},[t._v(t._s(s.attr_name))]),i("div",{staticClass:"sku-list"},[t._l(s.attr_key,function(s,o){return[i("van-radio",{staticClass:"option",class:{active:t.fittingAttrInit[e]==s.goods_attr_id},attrs:{name:s.goods_attr_id}},[t._v(t._s(s.attr_value)+"\n                            ")])]})],2)])})):t._e(),i("div",{staticClass:"attr-goods-number dis-box"}),i("div",{staticClass:"van-sku-actions"},[i("van-button",{staticClass:"van-button--bottom-action",attrs:{type:"primary"},on:{click:t.closeFitting}},[t._v(t._s(t.$t("lang.confirm")))])],1)]),i("van-popup",{staticClass:"volume-price-show",attrs:{position:"bottom"},model:{value:t.volumePriceShow,callback:function(s){t.volumePriceShow=s},expression:"volumePriceShow"}},[i("table",{staticClass:"Ptable param_table",attrs:{cellpadding:"0",cellspacing:"1",width:"100%",border:"0"}},[i("tbody",[i("tr",[i("th",[t._v(t._s(t.$t("lang.number")))]),i("th",[t._v(t._s(t.$t("lang.price")))])])]),i("tbody",t._l(t.goodsInfo.volume_price_list,function(s,e){return i("tr",{key:e},[i("td",[t._v(t._s(s.number))]),i("td",{domProps:{innerHTML:t._s(s.format_price)}})])}))])]),i("van-popup",{staticClass:"volume-price-show",attrs:{position:"bottom"},model:{value:t.rankPriceShow,callback:function(s){t.rankPriceShow=s},expression:"rankPriceShow"}},[i("table",{staticClass:"Ptable param_table",attrs:{cellpadding:"0",cellspacing:"1",width:"100%",border:"0"}},[i("tbody",[i("tr",[i("th",[t._v(t._s(t.$t("lang.rank")))]),i("th",[t._v(t._s(t.$t("lang.price")))])])]),i("tbody",t._l(t.goodsInfo.rank_prices,function(s,e){return i("tr",{key:e},[i("td",[t._v(t._s(s.rank_name))]),i("td",{domProps:{innerHTML:t._s(s.price)}})])}))])]),i("div",{staticClass:"shopping-prompt ts-2",class:{active:t.drpShareActive},on:{click:t.shoppingPromptHandle}},[i("img",{attrs:{src:e("788e")}})]),i("van-popup",{staticClass:"shareImg",attrs:{"overlay-class":"shareImg-overlay"},model:{value:t.shareImgShow,callback:function(s){t.shareImgShow=s},expression:"shareImgShow"}},[t.shareImg?i("img",{staticClass:"img",attrs:{src:t.shareImg}}):i("span",[t._v(t._s(t.$t("lang.error_generating_image")))])]),t.regionLoading?i("Region",{attrs:{isPrice:t.isPrice,display:t.regionShow,regionOptionDate:t.regionOptionDate},on:{"update:isPrice":function(s){t.isPrice=s},updateDisplay:t.getRegionShow,updateRegionDate:t.getRegionOptionDate}}):t._e(),i("ec-filter-top",{attrs:{scrollState:t.scrollState,outerClass:"true"}}),i("DscLoading",{attrs:{dscLoading:t.dscLoading}})],2)},o=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("i",[i("img",{staticClass:"img",attrs:{src:e("60c6")}})])}],n=(e("8e6e"),e("456d"),e("a481"),e("c5f6"),e("ac6a"),e("ade3")),a=(e("a909"),e("3acc")),r=(e("3c32"),e("417e")),c=(e("9cb7b"),e("66fd")),l=(e("342a"),e("1437")),d=(e("5d17"),e("f9bd")),u=(e("c3a6"),e("ad06")),g=(e("e17f"),e("2241")),_=(e("e7e5"),e("d399")),h=(e("4ddd"),e("9f14")),p=(e("a44c"),e("e27c")),m=(e("ac1e"),e("543e")),f=(e("66b9"),e("b650")),v=(e("f06a"),e("20fb")),b=(e("8a58"),e("e41f")),k=(e("68ef"),e("4d75"),e("b258"),e("8270"),e("786d"),e("504b"),e("fb6c"),e("1146"),e("bcd3"),e("d10a"),e("c31d")),C=e("2b0e"),y=e("28a2"),S=e("fe7e"),I=Object(S["a"])({render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"van-hairline--bottom",class:t.b()},[e("div",{class:t.b("img-wrap"),on:{click:t.previewImage}},[e("img",{attrs:{src:t.goodsImg}})]),e("div",{class:t.b("goods-info")},[e("div",{staticClass:"van-sku__goods-name van-ellipsis"},[t._v(t._s(t.goods.title))]),t._t("default"),e("icon",{staticClass:"van-sku__close-icon",attrs:{name:"close"},on:{click:function(s){t.skuEventBus.$emit("sku:close")}}})],2)])},name:"sku-header",props:{sku:Object,goods:Object,skuEventBus:Object,selectedSku:Object},computed:{goodsImg:function(){var t=this.selectedSku.s1,s=this.getSkuImg(t);return s||this.goods.picture}},methods:{getSkuImg:function(t){if(t){var s=this.sku.tree.filter(function(t){return"s1"===t.k_s})[0]||{};if(s.v){var e=s.v.filter(function(s){return s.id===t})[0];return e&&e.imgUrl?e.imgUrl:void 0}}},previewImage:function(){this.skuEventBus.$emit("sku:previewImage",this.goodsImg)}}}),x=Object(S["a"])({render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{class:t.b()},[e("div",{class:t.b("title")},[t._v(t._s(t.skuRow.k)+"：")]),t._t("default")],2)},name:"sku-row",props:{skuRow:Object}}),w={QUOTA_LIMIT:0,STOCK_LIMIT:1},$="",O={LIMIT_TYPE:w,UNSELECTED_SKU_VALUE_ID:$},A=function(t){var s={};return t.forEach(function(t){s[t.k_s]=t.v}),s},F=function(t,s){var e=Object.keys(s).filter(function(t){return s[t]!==$});return t.length===e.length},j=function(t,s){var e=t.filter(function(t){return Object.keys(s).every(function(e){return String(t[e])===String(s[e])})});return e[0]},T=function(t,s){var e=A(t);return Object.keys(s).reduce(function(t,i){var o=e[i],n=s[i];if(n!==$){var a=o.filter(function(t){return t.id===n})[0];a&&t.push(a)}return t},[])},M=function(t,s,e){var i,o=e.key,n=e.valueId,a=Object(k["a"])({},s,(i={},i[o]=n,i)),r=Object.keys(a).filter(function(t){return a[t]!==$}),c=t.filter(function(t){return r.every(function(s){return String(a[s])===String(t[s])})}),l=c.reduce(function(t,s){return t+s.stock_num},0);return l>0},D={normalizeSkuTree:A,getSkuComb:j,getSelectedSkuValues:T,isAllSelected:F,isSkuChoosable:M},E=Object(S["a"])({render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("span",{staticClass:"van-sku-row__item",class:{"van-sku-row__item--active":t.isChoosed,"van-sku-row__item--disabled":!t.isChoosable},on:{click:t.onSelect}},[t._v("\n  "+t._s(t.skuValue.name)+"\n")])},name:"sku-row-item",props:{skuEventBus:Object,skuValue:Object,skuList:Array,selectedSku:Object,skuKeyStr:String},computed:{isChoosed:function(){return this.skuValue.id===this.selectedSku[this.skuKeyStr]},isChoosable:function(){return M(this.skuList,this.selectedSku,{key:this.skuKeyStr,valueId:this.skuValue.id})}},methods:{onSelect:function(){this.isChoosable&&this.skuEventBus.$emit("sku:select",Object(k["a"])({},this.skuValue,{skuKeyStr:this.skuKeyStr}))}}}),N=w.QUOTA_LIMIT,P=w.STOCK_LIMIT,L=Object(S["a"])({render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"van-sku-stepper-stock"},[e("div",{staticClass:"van-sku-stepper-container"},[e("div",{staticClass:"van-sku__stepper-title"},[t._v(t._s(t.stepperTitle||"购买数量")+"：")]),e("stepper",{staticClass:"van-sku__stepper",attrs:{min:1,max:t.stepperLimit,"disable-input":t.disableStepperInput},on:{overlimit:t.onOverLimit,change:t.onChange},model:{value:t.currentNum,callback:function(s){t.currentNum=s},expression:"currentNum"}})],1),t.hideStock?t._e():e("div",{staticClass:"van-sku__stock"},[t._v("\n    "+t._s(t.stockText)+"\n  ")]),t.quotaText?e("div",{staticClass:"van-sku__quota"},[t._v("\n    "+t._s(t.quotaText)+"\n  ")]):t._e()])},name:"sku-stepper",components:{Stepper:v["a"]},props:{skuEventBus:Object,skuStockNum:Number,selectedSku:Object,selectedSkuComb:Object,selectedNum:Number,stepperTitle:String,quota:Number,quotaUsed:Number,hideStock:Boolean,disableStepperInput:Boolean,customStepperConfig:Object},data:function(){return{currentNum:this.selectedNum,limitType:P}},watch:{currentNum:function(t){this.skuEventBus.$emit("sku:numChange",t)},stepperLimit:function(t){t<this.currentNum&&(this.currentNum=t)}},computed:{stock:function(){return this.selectedSkuComb?this.selectedSkuComb.stock_num:this.skuStockNum},stockText:function(){var t=this.customStepperConfig.stockFormatter;return t?t(this.stock):"剩余"+this.stock+"件"},quotaText:function(){var t=this.customStepperConfig.quotaText,s="";return t?s=t:this.quota>0&&(s="每人限购"+this.quota+"件"),s},stepperLimit:function(){var t,s=this.quota-this.quotaUsed;return this.quota>0&&s<=this.stock?(t=s<0?0:s,this.limitType=N):(t=this.stock,this.limitType=P),t}},methods:{setCurrentNum:function(t){this.currentNum=t},onOverLimit:function(t){this.skuEventBus.$emit("sku:overLimit",{action:t,limitType:this.limitType,quota:this.quota,quotaUsed:this.quotaUsed})},onChange:function(t){var s=this.customStepperConfig.handleStepperChange;s&&s(t),this.$emit("change",t)}}}),B=e("565f");function z(t){var s=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;return s.test(t)}function G(t){return/^\d+$/.test(t)}var R=e("8f80"),H=Object(S["a"])({render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{class:t.b()},[e("van-uploader",{attrs:{disabled:!!t.paddingImg,"after-read":t.afterReadFile,"max-size":1024*t.maxSize*1024},on:{oversize:t.onOversize}},[e("div",{class:t.b("header")},[t.paddingImg?e("div",[t._v("正在上传...")]):[e("icon",{attrs:{name:"photograph"}}),e("span",{staticClass:"label"},[t._v(t._s(t.value?"重拍":"拍照"))]),t._v(" 或\n        "),e("icon",{attrs:{name:"photo"}}),e("span",{staticClass:"label"},[t._v(t._s(t.value?"重新选择照片":"选择照片"))])]],2)]),t.paddingImg||t.imgList.length>0?e("div",{staticClass:"van-clearfix"},[t._l(t.imgList,function(s){return e("div",{class:t.b("img")},[e("img",{attrs:{src:s}}),e("icon",{class:t.b("delete"),attrs:{name:"clear"},on:{click:function(s){t.$emit("input","")}}})],1)}),t.paddingImg?e("div",{class:t.b("img")},[e("img",{attrs:{src:t.paddingImg}}),e("loading",{class:t.b("uploading"),attrs:{type:"spinner"}})],1):t._e()],2):t._e()],1)},name:"sku-img-uploader",components:{VanUploader:R["a"]},props:{value:String,uploadImg:{type:Function,required:!0},maxSize:{type:Number,default:6}},data:function(){return{paddingImg:""}},computed:{imgList:function(){return this.value&&!this.paddingImg?[this.value]:[]}},methods:{afterReadFile:function(t){var s=this;this.paddingImg=t.content,this.uploadImg(t.file,t.content).then(function(t){s.$emit("input",t),s.$nextTick(function(){s.paddingImg=""})}).catch(function(){s.paddingImg=""})},onOversize:function(){this.$toast("最大可上传图片为"+this.maxSize+"MB，请尝试压缩图片尺寸")}}}),V={id_no:"输入身份证号码",text:"输入文本",tel:"输入数字",email:"输入邮箱",date:"点击选择日期",time:"点击选择时间",textarea:"点击填写段落文本",mobile:"输入手机号码"},q=Object(S["a"])({render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("cell-group",{class:t.b()},[t._l(t.messages,function(s,i){return["image"===s.type?e("cell",{key:t.goodsId+"-"+i,class:t.b("image-cell"),attrs:{label:"仅限一张",required:"1"==s.required,title:s.name}},[e("sku-img-uploader",{attrs:{"upload-img":t.messageConfig.uploadImg,"max-size":t.messageConfig.uploadMaxSize},model:{value:t.messageValues[i].value,callback:function(s){t.$set(t.messageValues[i],"value",s)},expression:"messageValues[index].value"}})],1):e("field",{key:t.goodsId+"-"+i,attrs:{maxlength:"200",required:"1"==s.required,label:s.name,placeholder:t.getPlaceholder(s),type:t.getType(s)},model:{value:t.messageValues[i].value,callback:function(s){t.$set(t.messageValues[i],"value",s)},expression:"messageValues[index].value"}})]})],2)},name:"sku-messages",components:{SkuImgUploader:H,Field:B["a"]},props:{messages:Array,messageConfig:Object,goodsId:[Number,String]},data:function(){return{messageValues:this.resetMessageValues(this.messages)}},watch:{messages:function(t){this.messageValues=this.resetMessageValues(t)}},computed:{messagePlaceholderMap:function(){return this.messageConfig.placeholderMap||{}}},methods:{resetMessageValues:function(t){return(t||[]).map(function(){return{value:""}})},getType:function(t){return 1===+t.multiple?"textarea":"id_no"===t.type?"text":t.datetime>0?"datetime-local":t.type},getMessages:function(){var t=this,s={};return this.messageValues.forEach(function(e,i){var o=e.value;t.messages[i].datetime>0&&(o=o.replace(/T/g," ")),s["message_"+i]=o}),s},getCartMessages:function(){var t=this,s={};return this.messageValues.forEach(function(e,i){var o=e.value,n=t.messages[i];n.datetime>0&&(o=o.replace(/T/g," ")),s[n.name]=o}),s},getPlaceholder:function(t){var s=1===+t.multiple?"textarea":t.type;return this.messagePlaceholderMap[s]||V[s]},validateMessages:function(){for(var t=this.messageValues,s=0;s<t.length;s++){var e=t[s].value,i=this.messages[s];if(""===e){if("1"==i.required){var o="image"===i.type?"请上传":"请填写";return o+i.name}}else{if("tel"===i.type&&!G(e))return"请填写正确的数字格式留言";if("mobile"===i.type&&!/^\d{6,20}$/.test(e))return"手机号长度为6-20位数字";if("email"===i.type&&!z(e))return"请填写正确的邮箱";if("id_no"===i.type&&(e.length<15||e.length>18))return"请填写正确的身份证号码"}}}}}),U=Object(S["a"])({render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{class:t.b()},[t.showAddCartBtn?e("van-button",{attrs:{"bottom-action":"",text:"加入购物车"},on:{click:function(s){t.skuEventBus.$emit("sku:addCart")}}}):t._e(),e("van-button",{attrs:{type:"primary","bottom-action":"",text:t.buyText||"立即购买"},on:{click:function(s){t.skuEventBus.$emit("sku:buy")}}})],1)},name:"sku-actions",components:{VanButton:f["a"]},props:{buyText:String,skuEventBus:Object,showAddCartBtn:Boolean}}),Y=w.QUOTA_LIMIT,Z=Object(S["a"])({render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.isSkuEmpty?t._e():e("popup",{staticClass:"van-sku-container",attrs:{position:"bottom","close-on-click-overlay":t.closeOnClickOverlay,"get-container":t.getContainer},model:{value:t.show,callback:function(s){t.show=s},expression:"show"}},[t._t("sku-header",[e("sku-header",{attrs:{"sku-event-bus":t.skuEventBus,"selected-sku":t.selectedSku,goods:t.goods,sku:t.sku}},[t._t("sku-header-price",[e("div",{staticClass:"van-sku__goods-price"},[e("span",{staticClass:"van-sku__price-symbol"},[t._v("￥")]),e("span",{staticClass:"van-sku__price-num"},[t._v(t._s(t.price))])])],{price:t.price,selectedSkuComb:t.selectedSkuComb})],2)],{skuEventBus:t.skuEventBus,selectedSku:t.selectedSku,selectedSkuComb:t.selectedSkuComb}),e("div",{staticClass:"van-sku-body",style:t.bodyStyle},[t._t("sku-body-top",null,{selectedSku:t.selectedSku,skuEventBus:t.skuEventBus}),t._t("sku-group",[t.hasSku?e("div",{staticClass:"van-sku-group-container van-hairline--bottom"},t._l(t.skuTree,function(s,i){return e("sku-row",{key:i,attrs:{"sku-row":s}},t._l(s.v,function(i,o){return e("sku-row-item",{key:o,attrs:{"sku-key-str":s.k_s,"sku-value":i,"sku-event-bus":t.skuEventBus,"selected-sku":t.selectedSku,"sku-list":t.sku.list}})}))})):t._e()],{selectedSku:t.selectedSku,skuEventBus:t.skuEventBus}),t._t("extra-sku-group",null,{skuEventBus:t.skuEventBus}),t._t("sku-stepper",[e("sku-stepper",{ref:"skuStepper",attrs:{"sku-event-bus":t.skuEventBus,"selected-sku":t.selectedSku,"selected-sku-comb":t.selectedSkuComb,"selected-num":t.selectedNum,"stepper-title":t.stepperTitle,"sku-stock-num":t.sku.stock_num,quota:t.quota,"quota-used":t.quotaUsed,"disable-stepper-input":t.disableStepperInput,"hide-stock":t.hideStock,"custom-stepper-config":t.customStepperConfig},on:{change:function(s){t.$emit("stepper-change",s)}}})],{skuEventBus:t.skuEventBus,selectedSku:t.selectedSku,selectedSkuComb:t.selectedSkuComb,selectedNum:t.selectedNum}),t._t("sku-messages",[e("sku-messages",{ref:"skuMessages",attrs:{"goods-id":t.goodsId,"message-config":t.messageConfig,messages:t.sku.messages}})])],2),t._t("sku-actions",[e("sku-actions",{attrs:{"sku-event-bus":t.skuEventBus,"buy-text":t.buyText,"show-add-cart-btn":t.showAddCartBtn}})],{skuEventBus:t.skuEventBus})],2)},name:"sku",components:{Popup:b["a"],SkuHeader:I,SkuRow:x,SkuRowItem:E,SkuStepper:L,SkuMessages:q,SkuActions:U},props:{sku:Object,goods:Object,value:Boolean,buyText:String,goodsId:[Number,String],stepperTitle:String,hideStock:Boolean,getContainer:Function,resetStepperOnHide:Boolean,resetSelectedSkuOnHide:Boolean,disableStepperInput:Boolean,closeOnClickOverlay:Boolean,initialSku:{type:Object,default:function(){return{}}},quota:{type:Number,default:0},quotaUsed:{type:Number,default:0},showAddCartBtn:{type:Boolean,default:!0},bodyOffsetTop:{type:Number,default:200},messageConfig:{type:Object,default:function(){return{placeholderMap:{},uploadImg:function(){return Promise.resolve()},uploadMaxSize:5}}},customStepperConfig:{type:Object,default:function(){return{}}},customSkuValidator:Function},data:function(){return{selectedSku:{},selectedNum:1,show:this.value}},watch:{show:function(t){if(this.$emit("input",t),!t){var s=T(this.sku.tree,this.selectedSku);this.$emit("sku-close",{selectedSkuValues:s,selectedNum:this.selectedNum,selectedSkuComb:this.selectedSkuComb}),this.resetStepperOnHide&&this.$refs.skuStepper&&this.$refs.skuStepper.setCurrentNum(1),this.resetSelectedSkuOnHide&&this.resetSelectedSku(this.skuTree)}},value:function(t){this.show=t},skuTree:function(t){this.resetSelectedSku(t)}},computed:{bodyStyle:function(){if(!this.$isServer){var t=window.innerHeight-this.bodyOffsetTop;return{maxHeight:t+"px"}}},isSkuCombSelected:function(){return F(this.sku.tree,this.selectedSku)},isSkuEmpty:function(){return 0===Object.keys(this.sku).length},hasSku:function(){return!this.sku.none_sku},selectedSkuComb:function(){return this.hasSku?this.isSkuCombSelected?j(this.sku.list,this.selectedSku):null:{id:this.sku.collection_id,price:Math.round(100*this.sku.price),stock_num:this.sku.stock_num}},price:function(){return this.selectedSkuComb?(this.selectedSkuComb.price/100).toFixed(2):this.sku.price},skuTree:function(){return this.sku.tree||[]},imageList:function(){var t=[this.goods.picture];if(this.skuTree.length>0){var s=this.skuTree.filter(function(t){return"s1"===t.k_s})[0]||{};if(!s.v)return;s.v.forEach(function(s){s.imgUrl&&t.push(s.imgUrl)})}return t}},created:function(){var t=new C["default"];this.skuEventBus=t,t.$on("sku:close",this.onClose),t.$on("sku:select",this.onSelect),t.$on("sku:numChange",this.onNumChange),t.$on("sku:previewImage",this.onPreviewImage),t.$on("sku:overLimit",this.onOverLimit),t.$on("sku:addCart",this.onAddCart),t.$on("sku:buy",this.onBuy),this.resetSelectedSku(this.skuTree),this.$emit("after-sku-create",t)},methods:{resetSelectedSku:function(t){var s=this;this.selectedSku={},t.forEach(function(t){s.selectedSku[t.k_s]=s.initialSku[t.k_s]||$}),t.forEach(function(t){var e=t.k_s,i=t.v[0].id;1===t.v.length&&M(s.sku.list,s.selectedSku,{key:e,valueId:i})&&(s.selectedSku[e]=i)})},getSkuMessages:function(){return this.$refs.skuMessages?this.$refs.skuMessages.getMessages():{}},getSkuCartMessages:function(){return this.$refs.skuMessages?this.$refs.skuMessages.getCartMessages():{}},validateSkuMessages:function(){return this.$refs.skuMessages?this.$refs.skuMessages.validateMessages():""},validateSku:function(){if(0===this.selectedNum)return"商品已经无法购买啦";if(this.isSkuCombSelected)return this.validateSkuMessages();if(this.customSkuValidator){var t=this.customSkuValidator(this);if(t)return t}return"请先选择商品规格"},onClose:function(){this.show=!1},onSelect:function(t){var s,e;this.selectedSku=this.selectedSku[t.skuKeyStr]===t.id?Object(k["a"])({},this.selectedSku,(s={},s[t.skuKeyStr]=$,s)):Object(k["a"])({},this.selectedSku,(e={},e[t.skuKeyStr]=t.id,e)),this.$emit("sku-selected",{skuValue:t,selectedSku:this.selectedSku,selectedSkuComb:this.selectedSkuComb})},onNumChange:function(t){this.selectedNum=t},onPreviewImage:function(t){var s=this,e=this.imageList.findIndex(function(s){return s===t}),i={index:e,imageList:this.imageList,indexImage:t};this.$emit("preview-on",i),Object(y["a"])({images:this.imageList,startPosition:e,onClose:function(){s.$emit("preview-close",i)}})},onOverLimit:function(t){var s=t.action,e=t.limitType,i=t.quota,o=t.quotaUsed,n=this.customStepperConfig.handleOverLimit;if(n)n(t);else if("minus"===s)Object(_["a"])("至少选择一件");else if("plus"===s)if(e===Y){var a="限购"+i+"件";o>0&&(a+="，你已购买"+o+"件"),Object(_["a"])(a)}else Object(_["a"])("库存不足")},onAddCart:function(){this.onBuyOrAddCart("add-cart")},onBuy:function(){this.onBuyOrAddCart("buy-clicked")},onBuyOrAddCart:function(t){var s=this.validateSku();s?Object(_["a"])(s):this.$emit(t,this.getSkuData())},getSkuData:function(){return{goodsId:this.goodsId,selectedNum:this.selectedNum,selectedSkuComb:this.selectedSkuComb,messages:this.getSkuMessages(),cartMessages:this.getSkuCartMessages()}}}});Z.SkuActions=U,Z.SkuHeader=I,Z.SkuMessages=q,Z.SkuStepper=L,Z.SkuRow=x,Z.SkuRowItem=E,Z.skuHelper=D,Z.skuConstants=O;var J,X=Z,W=(e("f908"),e("b528")),K=(e("19de"),e("234f")),Q=(e("93ac"),e("bb33")),tt=(e("bda7"),e("5e46")),st=(e("da3c"),e("0b33")),et=(e("0653"),e("34e9")),it=(e("c194"),e("7744")),ot=(e("4b0a"),e("2bb1")),nt=(e("7844"),e("5596")),at=(e("7f7f"),e("5246"),e("6b41")),rt=e("2f62"),ct=e("7212"),lt=e("3e7c"),dt=e("6f38"),ut=e("d567"),gt=e("5608"),_t=e("1c14"),ht=e("42d1"),pt=e("f27a"),mt=(e("09d6"),e("a454")),ft=e("bd6c"),vt=(e("fda2"),e("d6d3"));function bt(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);s&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),e.push.apply(e,i)}return e}function kt(t){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?bt(Object(e),!0).forEach(function(s){Object(n["a"])(t,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):bt(Object(e)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))})}return t}var Ct={mixins:[pt["a"]],data:function(){return{navActive:0,active:0,tabs:[this.$t("lang.goods_detail_info"),this.$t("lang.specification_parameter")],showBase:!1,num:1,swiperOption:{direction:"vertical",slidesPerView:"auto",freeMode:!0},couponShow:!1,promotionShow:!1,scrollState:!1,conpouLoading:!0,goods_id:this.$route.params.id,shopScore:!0,index:0,addCartClass:!1,storeBtn:!1,videoShow:!1,drpShareActive:!1,playerOptions:{autoplay:!1,muted:!0,loop:!0,language:"zh-CN",fluid:!0,playbackRates:[.7,1,1.5,2],sources:[{type:"video/mp4",src:null}]},shareImg:"",shareImgShow:!1,routerName:"goods",productOuter:!0,fittingShow:!1,fittingNames:"",checked:!0,checkDisabled:!0,fittingsCheckModel:[],fittingNum:1,fittings_minMax:0,save_minMaxPrice:0,zFittingAttr:!1,fittingShowBase:!1,fitting_index:"",fittingAttr:[],fittingAttrInit:[],fittingAttrId:"",fittingAttrNumber:"",fittingGoodsAttrId:"",fittingAttrName:"",fittingPrice:0,fittingImg:"",volumePriceShow:!1,rankPriceShow:!1,dscLoading:!0,isPrice:0,regionGoodsPirceFormated:"",regionGoodsNumberFormated:"",activityRouterPath:"",platform:this.$route.query.platform?this.$route.query.platform:"",disabled:!1,loading:!1,page:1,size:10,guess_loading:!1,footerCont:!1,shipping_region:""}},components:(J={},Object(n["a"])(J,at["a"].name,at["a"]),Object(n["a"])(J,nt["a"].name,nt["a"]),Object(n["a"])(J,ot["a"].name,ot["a"]),Object(n["a"])(J,it["a"].name,it["a"]),Object(n["a"])(J,et["a"].name,et["a"]),Object(n["a"])(J,st["a"].name,st["a"]),Object(n["a"])(J,tt["a"].name,tt["a"]),Object(n["a"])(J,Q["a"].name,Q["a"]),Object(n["a"])(J,K["a"].name,K["a"]),Object(n["a"])(J,W["a"].name,W["a"]),Object(n["a"])(J,X.name,X),Object(n["a"])(J,b["a"].name,b["a"]),Object(n["a"])(J,v["a"].name,v["a"]),Object(n["a"])(J,f["a"].name,f["a"]),Object(n["a"])(J,m["a"].name,m["a"]),Object(n["a"])(J,p["a"].name,p["a"]),Object(n["a"])(J,h["a"].name,h["a"]),Object(n["a"])(J,_["a"].name,_["a"]),Object(n["a"])(J,g["a"].name,g["a"]),Object(n["a"])(J,u["a"].name,u["a"]),Object(n["a"])(J,d["a"].name,d["a"]),Object(n["a"])(J,l["a"].name,l["a"]),Object(n["a"])(J,c["a"].name,c["a"]),Object(n["a"])(J,r["a"].name,r["a"]),Object(n["a"])(J,a["a"].name,a["a"]),Object(n["a"])(J,"ShopHeader",lt["a"]),Object(n["a"])(J,"swiper",ct["swiper"]),Object(n["a"])(J,"swiperSlide",ct["swiperSlide"]),Object(n["a"])(J,"CountDown",gt["a"]),Object(n["a"])(J,"CommonNav",ut["a"]),Object(n["a"])(J,"videoPlayer",vt["videoPlayer"]),Object(n["a"])(J,"ProductList",_t["a"]),Object(n["a"])(J,"NotCont",dt["a"]),Object(n["a"])(J,"DscLoading",ht["a"]),Object(n["a"])(J,"EcFilterTop",ft["a"]),J),created:function(){var t=this;setTimeout(function(){uni.getEnv(function(s){(s.plus||s.miniprogram)&&uni.redirectTo({url:"../../pages/goodsDetail/goodsDetail?id="+t.goods_id})})},100),this.getRegionData&&(this.regionOptionDate=this.getRegionData),this.loadGoodsInfo(this.goods_id),this.goodsGuessHandle(1)},mounted:function(){var t=this;this.$nextTick(function(){window.addEventListener("scroll",t.onScroll)})},computed:kt(kt({},Object(rt["c"])({goodsInfo:function(t){return t.goods.goodsInfo},goodsCouponList:function(t){return t.goods.goodsCouponList},shopDetail:function(t){return t.shop.shopDetail},fittingInfo:function(t){return t.goods.fittingInfo},fittingPriceData:function(t){return t.goods.fittingPriceData},shipping_fee:function(t){return t.shopping.shipping_fee}})),{},{userRegion:function(){return this.$store.state.userRegion},goodsGuessList:{get:function(){return this.$store.state.shopping.goodsGuessList},set:function(t){this.$store.state.shopping.goodsGuessList=t}},gallery_list:function(){return this.$store.state.goods.goodsInfo.gallery_list},attr:function(){return this.$store.state.goods.goodsInfo.attr},goodsAttrInit:{get:function(){return this.$store.state.goods.goodsAttrInit?this.$store.state.goods.goodsAttrInit:""},set:function(t){this.$store.state.goods.goodsAttrInit=t}},goods_attr_id:{get:function(){return this.goodsInfo.goods_attr_id?this.goodsInfo.goods_attr_id:""},set:function(t){this.goodsInfo.goods_attr_id=t}},goodsAttrOper:function(){return this.$store.state.goods.goodsAttrOper},stock:function(){return""!=this.attr?this.goodsAttrOper.stock:this.goodsInfo.goods_number},isLogin:function(){return null!=localStorage.getItem("token")},ru_id:function(){return this.$store.state.goods.goodsInfo.user_id},number:{get:function(){return this.goodsInfo.is_minimum>0?this.goodsInfo.minimum:1},set:function(t){this.num=t}},is_collect_shop:{get:function(){return this.shopDetail.is_collect_shop},set:function(t){this.shopDetail.is_collect_shop=t}},count_gaze:{get:function(){return this.shopDetail.count_gaze},set:function(t){this.shopDetail.count_gaze=t}},shopInfo:function(){var t=[];return t[this.index]={shopName:this.shopDetail.shop_name,logo:this.shopDetail.logo_thumb,ru_id:this.shopDetail.ru_id,commentdelivery:this.shopDetail.commentdelivery,commentdelivery_font:this.shopDetail.commentdelivery_font,commentrank:this.shopDetail.commentrank,commentrank_font:this.shopDetail.commentrank_font,commentserver:this.shopDetail.commentserver,commentserver_font:this.shopDetail.commentserver_font,count_gaze:this.count_gaze,is_collect_shop:this.is_collect_shop},t},goodsCollectStatue:function(){return this.$store.state.user.goodsCollectStatue},freight:function(){return null!=this.shipping_fee&&this.shipping_fee.is_shipping>0?this.shipping_fee.shipping_fee_formated:"<span class='color-red'>"+this.$t("lang.is_shipping_area")+"</span>"},importTax:function(){return null!=this.goodsInfo.goods_rate&&this.goodsInfo.goods_rate>0?this.goodsInfo.formated_goods_rate:"0"},is_on_sale:function(){return 0==this.$store.state.goods.goodsInfo.is_on_sale},collect_icon:function(){return 1==this.is_collect?"like":"like-o"},is_collect:{get:function(){return this.$store.state.goods.goodsInfo.is_collect},set:function(t){this.$store.state.goods.goodsInfo.is_collect=t}},cart_number:{get:function(){return this.$store.state.goods.goodsInfo.cart_number},set:function(t){this.$store.state.goods.goodsInfo.cart_number=t}},attr_name:{get:function(){return""!=this.attr?"‘"+this.$store.state.goods.goodsInfo.attr_name+"’"+this.num+this.goodsInfo.goods_unit:this.num+""+this.goodsInfo.goods_unit},set:function(t){this.$store.state.goods.goodsInfo.attr_name=t}},player:function(){return this.$refs.videoPlayer.player},regionGoodsPirce:{get:function(){return this.shipping_fee.goods?this.shipping_fee.goods.goods_price:0},set:function(t){this.shipping_fee.goods&&(this.shipping_fee.goods.goods_price=t)}},regionGoodsNumber:{get:function(){return this.shipping_fee.goods?this.shipping_fee.goods.stock:0},set:function(t){this.shipping_fee.goods&&(this.regionGoodsNumberFormated=t)}},goodsPriceManage:function(){var t="";return t=this.goodsAttrOper.goods_price?this.goodsAttrOper.goods_price:this.goodsInfo.promote_start_date>0&&this.goodsInfo.promote_end_date>0?this.goodsInfo.promote_price:this.goodsInfo.shop_price_original,t},goodsMarketPriceManage:function(){var t="";return t=this.goodsAttrOper.market_price?this.goodsAttrOper.market_price:this.goodsInfo.market_price,t},goodsNumberManage:function(){var t=0;return t=this.goodsAttrOper.stock?this.goodsAttrOper.stock:this.goodsInfo.goods_number,t},goods_promotion:function(){var t=this,s=this.goodsInfo.goods_promotion,e="",i="",o=[],n={};if(s&&s.length>0&&s.forEach(function(s){"favourable"==s.type?(i=s.act_type,e=s.act_name):"group_buy"==s.type?(i=3,e=t.$t("lang.group_buy")):"auction"==s.type&&(i=4,e=t.$t("lang.auction")),n={act_type:i,act_name:e,act_id:s.act_id},o.push(n)}),this.goodsInfo.consumption&&this.goodsInfo.consumption.length>0){var a="",r="";this.goodsInfo.consumption.forEach(function(s){r=t.$t("lang.man")+s.cfull+t.$t("lang.minus")+s.creduce,a+=r+","}),n={act_type:5,act_name:a},o.push(n)}return o},spare_price:function(){return this.goodsInfo.fittings[0].spare_price},navTabs:function(){var t=[];return t=this.goodsInfo.shop_can_comment>0?[this.$t("lang.goods"),this.$t("lang.detail"),this.$t("lang.comment_alt")]:[this.$t("lang.goods"),this.$t("lang.detail")],t},provinceName:function(){var t=this.goodsInfo.basic_info.city_name,s=this.goodsInfo.basic_info.province_name;return t==s?t:t+s}}),methods:{loadGoodsInfo:function(t){var s=this.$route.query.parent_id?this.$route.query.parent_id:null;this.$store.dispatch("setGoodsInfo",{goods_id:t,warehouse_id:0,area_id:0,is_delete:0,is_on_sale:1,is_alone_sale:1,parent_id:s})},onAddCartClicked:function(t){var s=this,e=[];this.addCartClass=!1,10==t&&(this.loading=!0,this.disabled=!0),this.attr.length>0&&(e=this.goodsAttrInit),this.$store.dispatch("setAddCart",{goods_id:this.goods_id,num:this.num,spec:e,warehouse_id:"0",area_id:"0",parent_id:"0",rec_type:t}).then(function(e){if(1==e)if(10==t){if(s.isLogin)s.$router.push({name:"checkout",query:{rec_type:t}});else{var i=s.$t("lang.login_user_invalid");s.notLogin(i)}s.loading=!1,s.disabled=!1}else s.addCartClass=!0,_["a"].success({duration:1e3,message:s.$t("lang.added_to_cart")}),s.cart_number=parseInt(s.cart_number)+s.num,s.closeSku();else Object(_["a"])(e.msg),s.loading=!1,s.disabled=!1})},onBuyClicked:function(){this.onAddCartClicked(10)},skuLink:function(){this.showBase=!0,this.storeBtn=!1,this.changeAttr()},onSku:function(t){var s=t.target.dataset.type;this.attr.length>0?(this.showBase=!0,this.changeAttr()):s?this.onAddCartClicked(10):this.onAddCartClicked(0)},handelClose:function(t){"coupon"==t?this.couponShow=!1:"promotion"==t&&(this.promotionShow=!1)},onClickLeft:function(){this.$router.go(-1)},closeSku:function(){this.showBase=!1,this.storeBtn=!1},changeAttr:function(){this.$store.dispatch("setGoodsAttrOper",{goods_id:this.goods_id,num:this.num,attr_id:this.goodsAttrInit})},handleCoupon:function(){var t=this;this.couponShow=!0,this.$store.dispatch("setGoodsCouponList",{goods_id:this.goods_id,ru_id:this.goodsInfo.user_id}).then(function(){t.conpouLoading=!1})},handleVolumePrice:function(){this.volumePriceShow=!0},handleRankPrice:function(){this.rankPriceShow=!0},handlePromotion:function(){this.promotionShow=!0},handelReceive:function(t){var s=this;this.$store.dispatch("setGoodsCouponReceive",{cou_id:t}).then(function(t){var e=t.data;Object(_["a"])({message:e.msg,duration:1e3}),s.$store.dispatch("setGoodsCouponList",{goods_id:s.goods_id,ru_id:s.goodsInfo.user_id})})},shippingFee:function(t){this.$store.dispatch("setShippingFee",{goods_id:this.goods_id,position:t,goods_attr_id:this.goods_attr_id,is_price:this.isPrice})},historyAdd:function(){var t=(new Date).getTime(),s=this.goodsInfo.shop_price_formated;this.$store.dispatch("setHistoryAdd",{id:this.goods_id,name:this.goodsInfo.goods_name,img:this.goodsInfo.goods_thumb,price:s,addtime:t})},collection:function(){if(this.isLogin)this.$store.dispatch("setCollectGoods",{goods_id:this.goods_id,status:this.is_collect});else{var t=this.$t("lang.fill_in_user_collect_goods");this.notLogin(t)}},updateInfo:function(t){this.is_collect_shop=t.is_collect_shop,this.count_gaze=1==this.is_collect_shop?this.count_gaze+1:this.count_gaze-1},handleStore:function(){this.changeAttr(),this.showBase=!0,this.storeBtn=!0},onStoreClicked:function(){if(this.isLogin)this.showBase=!1,this.storeBtn=!1,this.$router.push({name:"storeGoods",query:{id:this.goods_id,attr_id:this.goodsAttrInit,num:this.num,isSingle:"goods"}});else{var t=this.$t("lang.login_user_not");this.notLogin(t)}},commentHandle:function(){this.$router.push({name:"goodsComment",id:this.goods_id})},notLogin:function(t){var s=this,e=window.location.href;g["a"].confirm({message:t,className:"text-center"}).then(function(){s.$router.push({name:"login",query:{redirect:{name:"goods",params:{id:s.goods_id},url:e}}})}).catch(function(){})},handleVideo:function(){this.playerOptions.sources[0].src=this.goodsInfo.goods_video,this.videoShow=!0},shareHandle:function(){this.drpShareActive=1!=this.drpShareActive},shoppingPromptHandle:function(){this.drpShareActive=!1},onGoodsShare:function(){var t=this;if(this.isLogin){_["a"].loading({duration:0,mask:!0,forbidClick:!0,message:this.$t("lang.loading")});var s=this.goodsInfo.goods_price||this.goodsInfo.shop_price;this.$store.dispatch("setGoodsShare",{goods_id:this.goods_id,price:s,share_type:this.goodsInfo.is_distribution,platform:"H5"}).then(function(s){"success"==s.status&&(t.shareImg=s.data,t.shareImgShow=!0,_["a"].clear())})}else{var e=this.$t("lang.login_user_not");this.notLogin(e)}},onVipRegister:function(){var t=this.$route.query.parent_id?this.$route.query.parent_id:null;this.$router.push({name:"drp-register",query:{parent_id:t}})},onVipRepurchase:function(t){var s=this.$route.query.parent_id?this.$route.query.parent_id:null;this.$router.push({name:"drp-register",query:{apply_status:"repeat",membership_card_id:t,parent_id:s}})},onDiscover:function(){this.$router.push({name:"discoverList",query:{id:this.goods_id}})},handleFitting:function(){this.fittingShow=!0,this.$store.dispatch("setFitting",{goods_id:this.goods_id})},fittingLoad:function(t){var s=this,e="m_goods_"+this.fittingNames,i=e+"_"+this.goods_id,o="",n="";this.fittingAttrInit.forEach(function(t){o+=t+","}),this.fittingInfo.fittings.forEach(function(t,e){e==s.fitting_index&&(n=t.goods_id)}),this.fittingGoodsAttrId=o.substring(0,o.length-1),this.$store.dispatch("setFittingPrice",{id:this.goods_id,goods_id:n,group:{attr:this.fittingGoodsAttrId,goods_attr:this.fittingAttrId,number:1,warehouse_id:0,area_id:0,area_city:0,group_name:e,group_id:i,fittings_goods:this.goods_id},type:1,load_type:t})},fittingsCheckChange:function(t){var s=this,e="m_goods_"+this.fittingNames,i=e+"_"+this.goods_id,o="",n=null;this.$refs.checkboxes.forEach(function(s,e){s.name===t&&(n=e)}),this.fittingInfo.fittings.forEach(function(s,e){s.id==t&&(o=s.goods_attr_id)}),0==this.$refs.checkboxes[n].checked?this.$store.dispatch("setAddToCartCombo",{goods_id:this.$refs.checkboxes[n].name,number:1,spec:o,parent_attr:this.goodsAttrInit,warehouse_id:0,area_id:0,area_city:0,parent:this.goods_id,group_id:i,add_group:""}).then(function(t){var e=t.data;0==e.error?(s.save_minMaxPrice=e.save_minMaxPrice,s.fittings_minMax=e.fittings_minMax):Object(_["a"])(e.msg)}):this.$store.dispatch("setDelInCartCombo",{goods_id:this.$refs.checkboxes[n].name,parent:this.goods_id,group_id:i,goods_attr:this.goodsAttrInit,warehouse_id:0,area_id:0,area_city:0}).then(function(t){var e=t.data;0==e.error?(s.save_minMaxPrice=e.save_minMaxPrice,s.fittings_minMax=e.fittings_minMax):Object(_["a"])(e.msg)})},fittingAttrHandle:function(t,s){var e=this,i=0,o="",n="";if(this.zFittingAttr=!0,t){if(this.fitting_index=s,this.fittingsCheckModel.forEach(function(s){s==t&&i++}),0==i)return Object(_["a"])(this.$t("lang.fill_in_parts")),!1;this.fittingShowBase=!0,this.fittingAttrInit=[],this.fittingInfo.fittings.forEach(function(s){s.goods_id==t&&(e.fittingAttr=s.attr,e.fittingPrice=s.fittings_price,e.fittingImg=s.goods_thumb,s.attr.forEach(function(t){t.attr_key.forEach(function(t){1==t.attr_checked&&(e.fittingAttrInit.push(t.goods_attr_id),o+=t.attr_id+",",n+=t.goods_attr_id+",",e.fittingAttrName+=t.attr_value+" ")})}))}),this.fittingAttrId=o.substring(0,o.length-1),this.fittingGoodsAttrId=n.substring(0,n.length-1),this.fittingLoad(1)}else this.skuLink(),this.fittingsCheckModel=[]},closeFitting:function(){this.fittingShowBase=!1},onFittingAttr:function(){this.showBase=!1},onFittingLeft:function(){this.promotionShow=!1,this.fittingShow=!1},fittingsAddCart:function(){var t=this,s="m_goods_"+this.fittingNames;this.goods_id;this.$store.dispatch("setAddToCartGroup",{group_name:s,goods_id:this.goods_id,warehouse_id:0,area_id:0,area_city:0,number:this.fittingNum}).then(function(s){var e=s.data;Object(_["a"])(e.msg),1==e.error&&setTimeout(function(){t.$router.push({name:"cart"})},2e3)})},goodsGuessHandle:function(t){t&&(this.page=t,this.size=10*Number(t)),this.$store.dispatch("setGoodsGuess",{page:this.page,size:this.size})},onScroll:function(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;this.scrollState=t>10,t+300>this.$refs.goodsinfo.getBoundingClientRect().height-document.documentElement.clientHeight&&this.page*this.size==this.goodsGuessList.length&&(this.page++,this.goodsGuessHandle())},jump:function(t){this.navActive=t;var s=document.querySelectorAll(".d_jump"),e=s[t].offsetTop,i=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,o=e/50;if(e>i)a();else{var n=i-e;o=n/50,r()}function a(){i<e?(i+=o,document.body.scrollTop=i,document.documentElement.scrollTop=i,setTimeout(a,10)):(document.body.scrollTop=e,document.documentElement.scrollTop=e)}function r(){i>e?(i-=o,document.body.scrollTop=i,document.documentElement.scrollTop=i,setTimeout(r,10)):(document.body.scrollTop=e,document.documentElement.scrollTop=e)}}},destroyed:function(){window.removeEventListener("scroll",this.onScroll)},watch:{$route:function(t,s){this.dscLoading=!0,this.goods_id=t.params.id,this.loadGoodsInfo(t.params.id)},ru_id:function(){this.goodsInfo.user_id>0&&this.$store.dispatch("setShopDetail",{ru_id:this.goodsInfo.user_id})},goodsInfo:function(){this.goodsInfo.seckill_id?this.$router.replace({name:"seckill-detail",query:{seckill_id:this.goodsInfo.seckill_id}}):this.dscLoading=!1,this.isLogin&&this.historyAdd(),document.title=this.goodsInfo.goods_name;var t=localStorage.getItem("parent_id")?localStorage.getItem("parent_id"):this.$route.query.parent_id?this.$route.query.parent_id:null,s=localStorage.getItem("user_id")?localStorage.getItem("user_id"):null;s&&(t=s),this.$wxShare.share({title:this.goodsInfo.goods_name,desc:this.goodsInfo.goods_brief,link:"".concat(window.ROOT_URL,"mobile/#/goods/")+this.goods_id+"?parent_id="+t,imgUrl:this.goodsInfo.goods_thumb}),this.goodsInfo.is_minimum>0&&(this.num=this.goodsInfo.minimum)},goodsAttrOper:function(){this.goodsAttrOper&&(this.attr_name=this.goodsAttrOper.attr_name,this.regionGoodsPirce=0)},goodsAttrInit:function(){var t="";this.goodsAttrInit.forEach(function(s){t+=s+","}),this.goods_attr_id=t.substring(t.length-1,0),this.changeAttr(),this.shippingFee(this.shipping_region)},goodsCollectStatue:function(){var t=this;this.goodsCollectStatue.forEach(function(s){s.id==t.goods_id&&(t.is_collect=s.status)})},regionSplic:function(){this.shipping_region={province_id:this.regionOptionDate.province.id,city_id:this.regionOptionDate.city.id,district_id:this.regionOptionDate.district.id,street_id:this.regionOptionDate.street.id},this.goodsInfo&&this.shippingFee(this.shipping_region)},shipping_fee:function(){this.shipping_fee.goods&&(this.regionGoodsPirce=this.shipping_fee.goods.shop_price,this.regionGoodsPirceFormated=this.shipping_fee.goods.shop_price_formated,this.regionGoodsNumber=this.shipping_fee.goods.stock)},fittingInfo:function(){this.fittingNames=this.fittingInfo.comboTab[0].group_id},fittingNames:function(){this.fittingLoad(1)},fittingPriceData:function(){var t=this;this.fittingAttrNumber=this.fittingPriceData.attr_number,this.fittingAttrName=this.fittingPriceData.attr_name,this.fittingInfo.fittings.forEach(function(s){s.goods_id==t.fittingPriceData.goods_id&&(s.attr_name=t.fittingPriceData.attr_name)}),this.fittingPriceData.fittings_interval&&this.fittingPriceData.fittings_interval.forEach(function(s){s.groupId==t.fittingNames&&(t.fittings_minMax=s.combo_amount,t.save_minMaxPrice=s.save_minMaxPrice)})},showBase:function(){0==this.showBase&&(this.storeBtn=!1)},goodsGuessList:function(){this.page*this.size==this.goodsGuessList.length?this.guess_loading=!0:(this.guess_loading=!1,this.footerCont=this.page>1),this.goodsGuessList=mt["a"].trimSpace(this.goodsGuessList)},regionShow:function(){this.regionShow&&(this.regionLoading=!0)}},beforeRouteEnter:function(t,s,e){e(function(t){t.activityRouterPath=s.fullPath})}},yt=Ct,St=(e("df8f"),e("2877")),It=Object(St["a"])(yt,i,o,!1,null,"2830079c",null);It.options.__file="Detail.vue";s["default"]=It.exports},df8f:function(t,s,e){"use strict";var i=e("2916"),o=e.n(i);o.a},e5ee:function(t,s,e){},ea82:function(t,s,e){},f8b2:function(t,s,e){t.exports=e.p+"img/loading.gif"},f9bd:function(t,s,e){"use strict";var i=e("fe7e");s["a"]=Object(i["a"])({render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"van-hairline--top-bottom",class:t.b()},[t._t("default")],2)},name:"collapse",props:{accordion:Boolean,value:[String,Number,Array]},data:function(){return{items:[]}},methods:{switch:function(t,s){this.accordion||(t=s?this.value.concat(t):this.value.filter(function(s){return s!==t})),this.$emit("change",t),this.$emit("input",t)}}})}}]);