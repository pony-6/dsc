(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7987"],{"3f00":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"con bg-color-write"},[s("div",{staticClass:"user-login-box"},[s("ec-form",{ref:"loginForm",staticClass:"user-login-form"},[s("div",{staticClass:"user-login-head"},[s("h1")]),s("div",{staticClass:"user-login-ul"},[s("ec-form-item",{attrs:{prop:"sms"}},[s("div",{staticClass:"item-input dis-box"},[s("div",{staticClass:"value box-flex"},[s("ec-input",{attrs:{type:"text",placeholder:"请输该账号密码"},model:{value:t.sms,callback:function(e){t.sms=e},expression:"sms"}})],1)])]),s("div",{staticClass:"phone"},[t._v(t._s(t.$t("lang.relationphone_notic")))])],1),[s("button",{staticClass:"btn btn-submit border-radius-top05",attrs:{type:"button"},on:{click:t.submitBtn}},[t._v("确定")])]],2)],1)])},o=[],n=s("ade3"),i=(s("7f7f"),s("e7e5"),s("d399")),r=(s("10cb"),s("450d"),s("f3ad")),c=s.n(r),u=(s("eca7"),s("3787")),l=s.n(u),m=(s("425f"),s("4105")),d=s.n(m),b=s("4328"),p=s.n(b),f=(s("2f62"),s("bc3a"),{name:"login",data:function(){return{sms:"",mobile:this.$route.query.mobile?this.$route.query.mobile:"",url:this.$route.query.url?this.$route.query.url:""}},components:Object(n["a"])({EcForm:d.a,EcFormItem:l.a,EcInput:c.a},i["a"].name,i["a"]),created:function(){},methods:{submitBtn:function(){var t=this;if(""==this.sms)return Object(i["a"])(this.$t("lang.notic_new_pwd")),!1;this.$http.post("".concat(window.ROOT_URL,"api/oauth/rebind"),p.a.stringify({password:this.sms,mobile:this.mobile})).then(function(e){var s=e.data;"success"==s.status?(Object(i["a"])(t.$t("lang.reset_phone_success")),1==s.data.login&&(localStorage.removeItem("token"),localStorage.setItem("token",s.data.token),t.$store.dispatch("setUserId"),t.url?window.location.href=t.url:t.$router.push({name:"user"}))):Object(i["a"])(s.errors.message)})}}}),h=f,v=(s("dbab"),s("2877")),g=Object(v["a"])(h,a,o,!1,null,"2ea0e968",null);g.options.__file="Relationphone.vue";e["default"]=g.exports},cecf:function(t,e,s){},dbab:function(t,e,s){"use strict";var a=s("cecf"),o=s.n(a);o.a}}]);