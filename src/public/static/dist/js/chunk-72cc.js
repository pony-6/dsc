(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72cc","chunk-9d0c"],{"09d6":function(t,e,i){"use strict";i("4917");var a=navigator.userAgent,s=a.indexOf("Android")>-1||a.indexOf("Adr")>-1,o=!!a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);function n(){return!!/micromessenger/.test(a.toLowerCase())}e["a"]={isWeixinBrowser:n,isAndroid:s,isiOS:o}},3208:function(t,e,i){"use strict";i("68ef"),i("4d75"),i("8c8e")},4275:function(t,e,i){"use strict";i.r(e);var a,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"con_main"},[a("div",{staticClass:"goods goods_info"},[a("div",{staticClass:"goods_photo"},[a("div",{staticClass:"goods_photo_warp"},[a("van-swipe",{staticClass:"swipe",attrs:{autoplay:3e3,height:t.swipe_height}},[t.gallery_list&&t.gallery_list.length>0?t._l(t.gallery_list,function(t,e){return a("van-swipe-item",{key:e,staticStyle:{position:"relative"}},[a("img",{staticClass:"imgalt",attrs:{src:t.img_url}})])}):[a("van-swipe-item",{staticStyle:{position:"relative"}},[t.goodsInfo.goods_img?a("img",{staticClass:"imgalt",attrs:{src:t.goodsInfo.goods_img}}):a("img",{staticClass:"imgalt",attrs:{src:i("d9e6")}})])]],2),t.groupbuyDetailData.goods_video_path?a("div",{staticClass:"videoBox"},[a("a",{attrs:{href:"javascript:void(0);"},on:{click:t.handleVideo}},[a("van-icon",{attrs:{name:"play",size:"1rem"}}),t._v("\n                            "+t._s(t.$t("lang.video"))+"\n                        ")],1)]):t._e()],1)]),a("div",{staticClass:"cont-box"},[a("div",{staticClass:"dis-box price-box"},[a("div",{staticClass:"left box-flex"},[a("h4",{staticClass:"color-white"},[a("div",{staticClass:"f-weight"},[a("span",{domProps:{innerHTML:t._s(t.groupbuyDetailData.formated_cur_price)}}),t.groupbuyDetailData.zhekou<10?a("van-tag",{staticClass:"f-01",attrs:{mark:"",type:"danger"}},[t._v(t._s(t.groupbuyDetailData.zhekou)+t._s(t.$t("lang.zhe")))]):t._e()],1),a("div",{staticClass:"tag-price dis-box"},[a("div",{staticClass:"left-tag dis-box"},[t._m(0),a("div",{staticClass:"box-flex tag-right-cont f-01"},[t._v(t._s(t.$t("lang.group_buy")))])]),a("div",{staticClass:"box-flex"},[a("label",{staticClass:"p-l05 f-01"},[t._v(t._s(t.$t("lang.market_price"))),a("del",{domProps:{innerHTML:t._s(t.groupbuyDetailData.goods.market_price)}})])])])])]),a("div",{staticClass:"right"},[0==t.groupbuyDetailData.is_end?a("div",{staticClass:"time-title f-02 text-center m-top06"},[t._v(t._s(t.$t("lang.were_still_end")))]):a("div",{staticClass:"time-title f-02 text-center m-top14"},[t._v(t._s(t.$t("lang.activities_end")))]),0==t.groupbuyDetailData.is_end?a("div",{staticClass:"f-02 color-white time m-top02"},[void 0!=t.groupbuyDetailData.xiangou_start_date&&void 0!=t.groupbuyDetailData.xiangou_end_date?a("div",[a("count-down",{attrs:{endTime:t.groupbuyDetailData.xiangou_end_date,endText:t.$t("lang.activity_end")}})],1):t._e()]):t._e()])]),a("div",{staticClass:"title bg-color-write f-06 color-3 padding-all"},[0==t.groupbuyDetailData.user_id?a("van-tag",{staticClass:"m-r05 f-03",attrs:{type:"danger"}},[t._v(t._s(t.$t("lang.self_support")))]):t._e(),a("span",{staticClass:"f-05 color-3 f-weight"},[t._v(t._s(t.groupbuyDetailData.goods_name))]),a("div",{staticClass:"color-red f-03 m-top04"},[t._v(t._s(t.groupbuyDetailData.title_subtitle))]),a("div",{staticClass:"f-03 color-9 m-top06"},[t._v(t._s(t.$t("lang.gb_deposit"))+" "),a("span",{domProps:{innerHTML:t._s(t.groupbuyDetailData.formated_deposit)}})]),a("div",{staticClass:"dis-box color-9 f-03 m-top06"},[a("div",{staticClass:"box-flex"},[t._v(t._s(t.$t("lang.sales_volume"))+t._s(t.groupbuyDetailData.goods.sales_volume))]),a("div",{staticClass:"box-flex text-center"},[t._v(t._s(t.$t("lang.stock"))+t._s(t.groupbuyDetailData.goods.goods_number))]),a("div",{staticClass:"box-flex"},[t.groupbuyDetailData.restrict_amount>0?a("p",{staticClass:"text-right"},[t._v(t._s(t.$t("lang.gb_limited"))+t._s(t.groupbuyDetailData.restrict_amount))]):a("p",{staticClass:"text-right"},[t._v(t._s(t.$t("lang.not_gb_limited")))])])])],1)]),a("div",{staticClass:"auction-process"},[a("van-cell-group",{staticClass:"m-top08 common-cell"},[a("van-cell",{staticClass:"f-04",attrs:{title:t.$t("lang.tiered_price"),"is-link":"",value:t.$t("lang.view")},on:{click:t.auctionProcess}})],1),a("van-actionsheet",{staticClass:"auction-box",attrs:{title:t.$t("lang.tiered_price")},model:{value:t.processShow,callback:function(e){t.processShow=e},expression:"processShow"}},[a("div",{staticClass:"padding-all groupbuy-price-list"},[a("div",{staticClass:"li dis-box text-center color-red f-04"},[a("div",{staticClass:"box-flex"},[t._v(t._s(t.$t("lang.number")))]),a("div",{staticClass:"box-flex"},[t._v(t._s(t.$t("lang.price")))])]),t._l(t.groupbuyDetailData.price_ladder,function(e,i){return a("div",{key:i,staticClass:"li dis-box text-center color-3 f-04 m-top06"},[a("div",{staticClass:"box-flex"},[t._v(t._s(e.amount))]),a("div",{staticClass:"box-flex"},[a("span",{domProps:{innerHTML:t._s(e.formated_price)}})])])})],2)])],1),a("div",{staticClass:"ect-group dis-box m-top08 ect-server p-r",on:{click:t.goodsService}},[a("div",{staticClass:"left-cell"},[t._v(t._s(t.$t("lang.label_service")))]),a("div",{staticClass:"box-flex right-cell",staticStyle:{"align-items":"center"}},[a("p",{staticClass:"f-04 color-3"},[t._v(t._s(t.$t("lang.you"))+" "),t.groupbuyDetailData.basic_info?a("span",{staticClass:"color-red"},[t._v(t._s(t.groupbuyDetailData.basic_info.shop_name))]):t._e(),t._v(" "+t._s(t.$t("lang.deliver_aftersale_service")))]),t.goodsInfo.goods_extend&&(t.goodsInfo.goods_extend.is_reality||t.goodsInfo.goods_extend.is_return||t.goodsInfo.goods_extend.is_fast)?a("div",{staticClass:"dis-box m-top08 g-r-rule"},[t.goodsInfo.goods_extend&&t.goodsInfo.goods_extend.is_reality?a("div",{staticClass:"f-02 color-9"},[t._m(1),a("span",{staticClass:"fl p-l05"},[t._v(t._s(t.$t("lang.pay_delivery")))])]):t._e(),t.goodsInfo.goods_extend&&t.goodsInfo.goods_extend.is_return?a("div",{staticClass:"f-02 color-9"},[t._m(2),a("span",{staticClass:"fl p-l05"},[t._v(t._s(t.$t("lang.is_return")))])]):t._e(),t.goodsInfo.goods_extend&&t.goodsInfo.goods_extend.is_fast?a("div",{staticClass:"f-02 color-9"},[t._m(3),a("span",{staticClass:"fl p-l05"},[t._v(t._s(t.$t("lang.is_fast")))])]):t._e()]):t._e()])]),a("van-actionsheet",{staticClass:"auction-box",attrs:{title:t.$t("lang.service_note")},model:{value:t.serviceShow,callback:function(e){t.serviceShow=e},expression:"serviceShow"}},[a("ul",[t.goodsInfo.goods_extend&&t.goodsInfo.goods_extend.is_reality?a("li",{staticClass:"padding-all"},[a("p",{staticClass:"dis-box"},[a("label",{staticClass:"box-flex"},[a("i",{staticClass:"iconfont icon-daifukuan color-red f-06"}),a("span",{staticClass:"p-l05 f-05 color-3"},[t._v(t._s(t.$t("lang.pay_delivery")))])])]),a("p",{staticClass:"f-03 color-7 m-top04"},[t._v(t._s(t.$t("lang.service_note_propmt_1")))])]):t._e(),t.goodsInfo.goods_extend&&t.goodsInfo.goods_extend.is_return?a("li",{staticClass:"b-color-f padding-all"},[a("p",{staticClass:"dis-box "},[a("label",{staticClass:"box-flex"},[a("i",{staticClass:"iconfont icon-7tianwuliyoutuihuo color-red f-06"}),a("span",{staticClass:"p-l05 f-05 color-3"},[t._v(t._s(t.$t("lang.is_return")))])])]),a("p",{staticClass:"f-03 color-7 m-top04"},[t._v(t._s(t.$t("lang.service_note_propmt_2")))])]):t._e(),t.goodsInfo.goods_extend&&t.goodsInfo.goods_extend.is_fast?a("li",{staticClass:"b-color-f padding-all"},[a("p",{staticClass:"dis-box"},[a("label",{staticClass:"box-flex"},[a("i",{staticClass:"iconfont icon-tixingnaozhong color-red f-06"}),a("span",{staticClass:"p-l05 f-05 color-3"},[t._v(t._s(t.$t("lang.is_fast")))])])]),a("p",{staticClass:"f-03 color-7 m-top04"},[t._v(t._s(t.$t("lang.service_note_propmt_3")))])]):t._e()])]),a("van-cell-group",{staticClass:"van-cell-noleft m-top08"},[a("van-cell",{attrs:{title:t.$t("lang.label_selected"),"is-link":""},on:{click:t.skuLink},model:{value:t.attr_name,callback:function(e){t.attr_name=e},expression:"attr_name"}})],1),t.groupbuyDetailData.merchant_group&&t.groupbuyDetailData.merchant_group.length>0?a("van-cell-group",{staticClass:"m-top08 common-cell"},[a("van-cell",{staticClass:"f-04",attrs:{title:t.$t("lang.rec_groupbuy")}})],1):t._e(),t.groupbuyDetailData.merchant_group&&t.groupbuyDetailData.merchant_group.length>0?a("div",{staticClass:"padding-all swiper-x-box bg-color-write"},[a("swiper",{ref:"mySwiper",staticClass:"swiper",attrs:{options:t.swiperOption}},t._l(t.groupbuyDetailData.merchant_group,function(e,i){return a("swiper-slide",{key:i},[a("router-link",{attrs:{to:{name:"groupbuy-detail",params:{group_buy_id:e.act_id}}}},[a("div",{staticClass:"img-box"},[a("img",{staticClass:"img",attrs:{src:e.goods_thumb}})]),a("h4",{staticClass:"twolist-hidden f-04 color-3 m-top08"},[t._v(" "+t._s(e.goods_name))]),a("div",{staticClass:"f-05 color-red m-top06",domProps:{innerHTML:t._s(e.shop_price)}})])],1)}))],1):t._e(),a("van-tabs",{staticClass:"m-top08 bg-color-write",model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.tabs,function(e,i){return a("van-tab",{key:i,attrs:{title:e}},[0==i?[t.goodsInfo.goods_desc?[a("div",{staticClass:"goods_desc",domProps:{innerHTML:t._s(t.goodsInfo.goods_desc)}})]:[a("NotCont")]]:1==i?[t.groupbuyDetailData.act_desc?[a("div",{staticClass:"goods_desc padding-all"},[a("p",[t._v(t._s(t.groupbuyDetailData.act_desc))])])]:[a("NotCont")]]:[t.goodsInfo.attr_parameter?[a("div",{staticClass:"goods_attr_parameter"},[a("table",{staticClass:"Ptable param_table",attrs:{cellpadding:"0",cellspacing:"1",width:"100%",border:"0"}},[a("tbody",[a("tr",[a("td",[t._v(t._s(t.$t("lang.goods_sn")))]),a("td",[t._v(t._s(t.goodsInfo.goods_sn))])])]),a("tbody",[a("tr",[a("th",{staticClass:"tdTitle",attrs:{colspan:"2"}},[t._v(t._s(t.$t("lang.subject")))])]),a("tr",[a("td",[t._v(t._s(t.$t("lang.brand")))]),a("td",[t._v(t._s(t.goodsInfo.brand_name))])]),a("tr",[a("td",[t._v(t._s(t.$t("lang.goods_weight")))]),a("td",[t._v(t._s(t.goodsInfo.goods_weight)+"kg")])]),a("tr",[a("th",{staticClass:"tdTitle",attrs:{colspan:"2"}},[t._v(t._s(t.$t("lang.attr_parameter")))])]),t._l(t.goodsInfo.attr_parameter,function(e){return a("tr",[a("td",[t._v(t._s(e.attr_name))]),a("td",[t._v(t._s(e.attr_value))])])})],2)])])]:[a("NotCont")]]],2)}))],1),a("van-goods-action",[a("van-goods-action-mini-btn",{attrs:{icon:"chat",text:t.$t("lang.customer_service")},on:{click:function(e){t.onChat(t.goodsInfo.goods_id,t.goodsInfo.user_id)}}}),a("van-goods-action-mini-btn",{class:{curr:1==t.is_collect},attrs:{icon:t.collect_icon,text:t.$t("lang.collect")},on:{click:t.collection}}),t.groupbuyDetailData.user_id?a("van-goods-action-mini-btn",{attrs:{icon:"shop",text:t.$t("lang.shop"),to:{name:"shopHome",params:{id:t.groupbuyDetailData.user_id}}}}):t._e(),1==t.groupbuyDetailData.is_end?a("van-goods-action-big-btn",{attrs:{text:t.$t("lang.has_ended")}}):a("van-goods-action-big-btn",{attrs:{text:t.$t("lang.immediately_regiment"),primary:""},on:{click:t.skuLink}})],1),a("CommonNav"),a("van-popup",{staticClass:"attr-goods-box",attrs:{position:"bottom"},model:{value:t.showBase,callback:function(e){t.showBase=e},expression:"showBase"}},[a("div",{staticClass:"attr-goods-header"},[""!=t.attr?[a("div",{staticClass:"attr-img"},[t.goodsAttrOper.attr_img?a("img",{staticClass:"img",attrs:{src:t.goodsAttrOper.attr_img}}):a("img",{staticClass:"img",attrs:{src:t.goodsInfo.goods_thumb}})]),a("div",{staticClass:"attr-info"},[a("div",{staticClass:"attr-price",domProps:{innerHTML:t._s(t.ladderPrice)}}),a("div",{staticClass:"attr-stock"},[t._v(t._s(t.$t("lang.label_stock"))+t._s(t.goodsAttrOper.stock)),a("em",{staticClass:"color-red p-l05"},[t._v("("+t._s(t.$t("lang.gb_limited"))+":"+t._s(t.groupbuyDetailData.restrict_amount)+")")])]),a("div",{staticClass:"attr-other"},[t._v(t._s(t.$t("lang.label_selected"))+t._s(t.goodsAttrOper.attr_name)+" "+t._s(t.num)+t._s(t.$t("lang.jian")))])])]:[a("div",{staticClass:"attr-img"},[a("img",{staticClass:"img",attrs:{src:t.goodsInfo.goods_img}})]),a("div",{staticClass:"attr-info"},[a("div",{staticClass:"attr-name twolist-hidden"},[t._v(t._s(t.goodsInfo.goods_name))]),t.goodsInfo.goods_price?a("div",{staticClass:"attr-price"}):t._e(),a("div",{staticClass:"attr-stock"},[t._v(t._s(t.$t("lang.label_stock"))+t._s(t.goodsInfo.goods_number))])])],a("i",{staticClass:"iconfont icon-close",on:{click:t.closeSku}})],2),""!=t.attr?a("div",{staticClass:"attr-goods-content"},t._l(t.attr,function(e,i){return a("van-radio-group",{key:i,staticClass:"sku-item",on:{change:t.changeAttr},model:{value:t.goodsAttrInit[i],callback:function(e){t.$set(t.goodsAttrInit,i,e)},expression:"goodsAttrInit[index]"}},[a("div",{staticClass:"sku-tit"},[t._v(t._s(e.attr_name))]),a("div",{staticClass:"sku-list"},[t._l(e.attr_key,function(e,s){return[a("van-radio",{staticClass:"option",class:{active:t.goodsAttrInit[i]==e.goods_attr_id},attrs:{name:e.goods_attr_id}},[t._v(t._s(e.attr_value)+"\n                            ")])]})],2)])})):t._e(),a("div",{staticClass:"attr-goods-number dis-box"},[a("span",{staticClass:"tit box-flex"},[t._v(t._s(t.$t("lang.number")))]),a("div",{staticClass:"stepper"},[a("van-stepper",{attrs:{integer:"",min:t.ladderFristNum,max:t.stock},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}})],1)]),a("div",{staticClass:"van-sku-actions"},[a("van-button",{staticClass:"van-button--bottom-action",attrs:{type:"default"},on:{click:t.onGroupBuy}},[t._v(t._s(t.$t("lang.button_buy")))])],1)]),a("van-popup",{staticStyle:{width:"100%"},model:{value:t.videoShow,callback:function(e){t.videoShow=e},expression:"videoShow"}},[a("video-player",{ref:"videoPlayer",staticClass:"video-player-box",attrs:{options:t.playerOptions,playsinline:!0}})],1)],1)},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"left-icon"},[i("i",{staticClass:"iconfont icon-shehuituanti f-01"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("em",{staticClass:"fl em-promotion"},[i("i",{staticClass:"iconfont icon-daifukuan f-01"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("em",{staticClass:"fl em-promotion"},[i("i",{staticClass:"iconfont icon-7tianwuliyoutuihuo f-01"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("em",{staticClass:"fl em-promotion"},[i("i",{staticClass:"iconfont icon-tixingnaozhong f-01"})])}],n=(i("c5f6"),i("ac6a"),i("9395")),r=i("88d8"),c=(i("c3a6"),i("ad06")),l=(i("e7e5"),i("d399")),d=(i("e17f"),i("2241")),u=(i("66b9"),i("b650")),g=(i("f06a"),i("20fb")),p=(i("4ddd"),i("9f14")),_=(i("a44c"),i("e27c")),m=(i("8a58"),i("e41f")),f=(i("5f1a"),i("a3e2")),v=(i("bda7"),i("5e46")),h=(i("da3c"),i("0b33")),b=(i("0653"),i("34e9")),y=(i("c194"),i("7744")),C=(i("3208"),i("c0b2")),D=(i("f908"),i("b528")),x=(i("19de"),i("234f")),O=(i("93ac"),i("bb33")),k=(i("4b0a"),i("2bb1")),w=(i("7f7f"),i("7844"),i("5596")),$=i("2f62"),S=i("7212"),I=i("d567"),L=i("6f38"),R=i("5608"),A=i("f27a"),j=(i("fda2"),i("d6d3")),P={name:"groupbuy-detail",mixins:[A["a"]],data:function(){return{tabs:[this.$t("lang.goods_detail_info"),this.$t("lang.groupbuy_explain"),this.$t("lang.specification_parameter")],ladderFristNum:1,num:1,content:"",showBase:!1,serviceShow:!1,processShow:!1,PriceShow:!1,active:0,swiperOption:{scrollbarHide:!0,slidesPerView:"auto",centeredSlides:!1,grabCursor:!0,autoplay:2500},videoShow:!1,playerOptions:{autoplay:!1,muted:!0,loop:!0,language:"zh-CN",fluid:!0,playbackRates:[.7,1,1.5,2],sources:[{type:"video/mp4",src:null}]}}},components:(a={CommonNav:I["a"],NotCont:L["a"],CountDown:R["a"],swiper:S["swiper"],swiperSlide:S["swiperSlide"],videoPlayer:j["videoPlayer"]},Object(r["a"])(a,w["a"].name,w["a"]),Object(r["a"])(a,k["a"].name,k["a"]),Object(r["a"])(a,O["a"].name,O["a"]),Object(r["a"])(a,x["a"].name,x["a"]),Object(r["a"])(a,D["a"].name,D["a"]),Object(r["a"])(a,C["a"].name,C["a"]),Object(r["a"])(a,y["a"].name,y["a"]),Object(r["a"])(a,b["a"].name,b["a"]),Object(r["a"])(a,h["a"].name,h["a"]),Object(r["a"])(a,v["a"].name,v["a"]),Object(r["a"])(a,f["a"].name,f["a"]),Object(r["a"])(a,m["a"].name,m["a"]),Object(r["a"])(a,_["a"].name,_["a"]),Object(r["a"])(a,p["a"].name,p["a"]),Object(r["a"])(a,g["a"].name,g["a"]),Object(r["a"])(a,u["a"].name,u["a"]),Object(r["a"])(a,d["a"].name,d["a"]),Object(r["a"])(a,l["a"].name,l["a"]),Object(r["a"])(a,c["a"].name,c["a"]),a),created:function(){this.load(this.$route.params.group_buy_id)},computed:Object(n["a"])({},Object($["c"])({groupbuyDetailData:function(t){return t.other.groupbuyDetailData}}),{goodsInfo:function(){return this.groupbuyDetailData.goods},gallery_list:function(){return this.goodsInfo.gallery_list},attr:function(){return this.goodsInfo.group_buy_attr},goodsAttrInit:function(){return this.$store.state.other.goodsAttrInit},goodsAttrOper:function(){return this.$store.state.goods.goodsAttrOper},stock:function(){var t=0;return t=this.groupbuyDetailData.restrict_amount>0?this.groupbuyDetailData.restrict_amount:""!=this.attr?this.goodsAttrOper.stock:this.goodsInfo.goods_number,t},isLogin:function(){return null!=localStorage.getItem("token")},goodsCollectStatue:function(){return this.$store.state.user.goodsCollectStatue},is_collect:{get:function(){return this.$store.state.other.groupbuyDetailData.goods.is_collect},set:function(t){this.$store.state.other.groupbuyDetailData.goods.is_collect=t}},collect_icon:function(){return 1==this.is_collect?"like":"like-o"},attr_name:{get:function(){return""!=this.attr?this.$store.state.other.groupbuyDetailData.goods.attr_name:this.number},set:function(t){this.$store.state.other.groupbuyDetailData.goods.attr_name=t}},ladderPrice:function(){var t=this,e=this.groupbuyDetailData.formated_cur_price;return this.groupbuyDetailData.price_ladder.forEach(function(i){if(t.number>=i.amount)return e=i.formated_price,!1}),e},number:{get:function(){var t=this,e=0;return this.groupbuyDetailData.price_ladder.forEach(function(i,a){0==a&&(e=i.amount,t.num=i.amount,t.ladderFristNum=i.amount)}),e},set:function(t){this.num=t}}}),methods:{load:function(t){this.$store.dispatch("setGroupbuyDetail",{group_buy_id:t,warehouse_id:1,area_id:2})},onGroupBuy:function(){var t=this,e=[];if(this.attr.length>0&&(e=this.goodsAttrInit),this.isLogin){var i=Number(this.groupbuyDetailData.order_number)+Number(this.num);this.groupbuyDetailData.restrict_amount>0?i<=this.groupbuyDetailData.restrict_amount?this.$store.dispatch("setGroupBuy",{group_buy_id:this.$route.params.group_buy_id,number:this.num,spec:e}).then(function(e){var i=e.data;1==i.error?Object(l["a"])(i.message):t.$router.push({name:"checkout",query:{rec_type:i.flow_type,type_id:i.extension_id}})}):Object(l["a"])(this.$t("lang.groupbuy_propmt_4")):this.$store.dispatch("setGroupBuy",{group_buy_id:this.$route.params.group_buy_id,number:this.num,spec:e}).then(function(e){var i=e.data;1==i.error?Object(l["a"])(i.message):t.$router.push({name:"checkout",query:{rec_type:i.flow_type,type_id:i.extension_id}})})}else{var a=this.$t("lang.groupbuy_propmt_3");this.notLogin(a)}},closeSku:function(){this.showBase=!1},goodsService:function(){this.serviceShow=!this.serviceShow},skuLink:function(){this.showBase=!0,this.changeAttr()},changeAttr:function(){this.$store.dispatch("setGoodsAttrOper",{goods_id:this.goodsInfo.goods_id,num:this.num,attr_id:this.goodsAttrInit})},auctionProcess:function(){this.processShow=!this.processShow},auctionPrice:function(){this.PriceShow=!this.PriceShow},collection:function(){if(this.isLogin)this.$store.dispatch("setCollectGoods",{goods_id:this.goodsInfo.goods_id,status:this.is_collect});else{var t=this.$t("lang.fill_in_user_collect_goods");this.notLogin(t)}},notLogin:function(t){var e=this,i=window.location.href;d["a"].confirm({message:t,className:"text-center"}).then(function(){e.$router.push({name:"login",query:{redirect:{name:"groupbuy-detail",params:{group_buy_id:e.groupbuyDetailData.act_id},url:i}}})}).catch(function(){})},handleVideo:function(){this.playerOptions.sources[0].src=this.groupbuyDetailData.goods_video_path,this.videoShow=!0}},watch:{$route:function(t,e){this.load(t.params.group_buy_id)},goodsAttrOper:function(){this.goodsAttrOper&&(this.attr_name=this.goodsAttrOper.attr_name)},goodsCollectStatue:function(){var t=this;this.goodsCollectStatue.forEach(function(e){e.id==t.goodsInfo.goods_id&&(t.is_collect=e.status)})},groupbuyDetailData:function(){document.title=this.groupbuyDetailData.goods_name,this.$wxShare.share({title:this.groupbuyDetailData.act_name,desc:this.groupbuyDetailData.act_desc,link:"".concat(window.ROOT_URL,"mobile/#/groupbuy/detail/")+this.groupbuyDetailData.act_id,imgUrl:this.groupbuyDetailData.goods.goods_thumb})}}},T=P,N=i("2877"),B=Object(N["a"])(T,s,o,!1,null,null,null);B.options.__file="Detail.vue";e["default"]=B.exports},4917:function(t,e,i){"use strict";var a=i("cb7c"),s=i("9def"),o=i("0390"),n=i("5f1b");i("214f")("match",1,function(t,e,i,r){return[function(i){var a=t(this),s=void 0==i?void 0:i[e];return void 0!==s?s.call(i,a):new RegExp(i)[e](String(a))},function(t){var e=r(i,t,this);if(e.done)return e.value;var c=a(t),l=String(this);if(!c.global)return n(c,l);var d=c.unicode;c.lastIndex=0;var u,g=[],p=0;while(null!==(u=n(c,l))){var _=String(u[0]);g[p]=_,""===_&&(c.lastIndex=o(l,s(c.lastIndex),d)),p++}return 0===p?null:g}]})},"5f1a":function(t,e,i){"use strict";i("68ef"),i("9b7e")},"8a58":function(t,e,i){"use strict";i("68ef"),i("4d75")},"8c8e":function(t,e,i){},"8d5a":function(t,e,i){},c0b2:function(t,e,i){"use strict";var a=i("fe7e"),s=i("6605");e["a"]=Object(a["a"])({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"van-slide-bottom"}},[t.shouldRender?i("div",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"value"}],class:t.b({withtitle:t.title})},[t.title?i("div",{staticClass:"van-hairline--top-bottom",class:t.b("header")},[i("div",{domProps:{textContent:t._s(t.title)}}),i("icon",{attrs:{name:"close"},on:{click:t.onCancel}})],1):i("ul",{staticClass:"van-hairline--bottom"},t._l(t.actions,function(e){return i("li",{class:[t.b("item",{disabled:e.disabled||e.loading}),e.className,"van-hairline--top"],on:{click:function(i){i.stopPropagation(),t.onSelect(e)}}},[e.loading?i("loading",{class:t.b("loading"),attrs:{size:"20px"}}):[i("span",{class:t.b("name")},[t._v(t._s(e.name))]),e.subname?i("span",{class:t.b("subname")},[t._v("\n            "+t._s(e.subname)+"\n          ")]):t._e()]],2)})),t.cancelText?i("div",{class:[t.b("cancel"),"van-hairline--top"],domProps:{textContent:t._s(t.cancelText)},on:{click:t.onCancel}}):i("div",{class:t.b("content")},[t._t("default")],2)]):t._e()])},name:"actionsheet",mixins:[s["a"]],props:{value:Boolean,title:String,cancelText:String,actions:{type:Array,default:function(){return[]}},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}},methods:{onSelect:function(t){t.disabled||t.loading||(t.callback&&t.callback(t),this.$emit("select",t))},onCancel:function(){this.$emit("input",!1),this.$emit("cancel")}}})},c3a6:function(t,e,i){"use strict";i("68ef")},e1c4:function(t,e,i){"use strict";var a=i("8d5a"),s=i.n(a);s.a},e41f:function(t,e,i){"use strict";var a=i("fe7e"),s=i("6605");e["a"]=Object(a["a"])({render:function(){var t,e=this,i=e.$createElement,a=e._self._c||i;return a("transition",{attrs:{name:e.currentTransition}},[e.shouldRender?a("div",{directives:[{name:"show",rawName:"v-show",value:e.value,expression:"value"}],class:e.b((t={},t[e.position]=e.position,t))},[e._t("default")],2):e._e()])},name:"popup",mixins:[s["a"]],props:{transition:String,overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},position:{type:String,default:""}},computed:{currentTransition:function(){return this.transition||(""===this.position?"van-fade":"popup-slide-"+this.position)}}})},f27a:function(t,e,i){"use strict";i("e7e5");var a=i("d399"),s=(i("4917"),i("3b2b"),i("a481"),i("cadf"),i("551c"),i("097d"),i("09d6")),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",["currency"==t.regionType?[i("van-popup",{attrs:{position:"bottom","close-on-click-overlay":!1},on:{"click-overlay":t.overlay},model:{value:t.display,callback:function(e){t.display=e},expression:"display"}},[i("div",{staticClass:"mod-address-main"},[i("div",{staticClass:"mod-address-head"},[i("div",{staticClass:"mod-address-head-tit box-flex"},[t._v(t._s(t.$t("lang.region_alt")))]),i("i",{staticClass:"iconfont icon-close",on:{click:t.onRegionClose}})]),i("div",{staticClass:"mod-address-body"},[i("ul",{staticClass:"ulAddrTab"},[i("li",{class:{cur:t.regionLevel-1==1},on:{click:function(e){t.tabClickRegion(1,1)}}},[i("span",[t._v(t._s(t.regionOption.province.name?t.regionOption.province.name:t.$t("lang.select")))])]),t.regionOption.province.name?i("li",{class:{cur:t.regionLevel-1==2},on:{click:function(e){t.tabClickRegion(t.regionOption.province.id,2)}}},[i("span",[t._v(t._s(t.regionOption.city.name?t.regionOption.city.name:t.$t("lang.select")))])]):t._e(),t.regionOption.city.name?i("li",{class:{cur:t.regionLevel-1==3},on:{click:function(e){t.tabClickRegion(t.regionOption.city.id,3)}}},[i("span",[t._v(t._s(t.regionOption.district.name?t.regionOption.district.name:t.$t("lang.select")))])]):t._e(),t.regionOption.district.name&&5==t.isLevel?i("li",{class:{cur:t.regionLevel-1==4},on:{click:function(e){t.tabClickRegion(t.regionOption.district.id,4)}}},[i("span",[t._v(t._s(t.regionOption.street.name?t.regionOption.street.name:t.$t("lang.select")))])]):t._e()]),2==t.regionLevel?i("ul",{staticClass:"ulAddrList"},t._l(t.regionDate.provinceData,function(e,a){return i("li",{key:a,class:{active:t.regionOption.province.id==e.id},on:{click:function(i){t.childRegion(e.id,e.name,e.level)}}},[t._v(t._s(e.name))])})):t._e(),3==t.regionLevel?i("ul",{staticClass:"ulAddrList"},t._l(t.regionDate.cityDate,function(e,a){return i("li",{key:a,class:{active:t.regionOption.city.id==e.id},on:{click:function(i){t.childRegion(e.id,e.name,e.level)}}},[t._v(t._s(e.name))])})):t._e(),4==t.regionLevel?i("ul",{staticClass:"ulAddrList"},t._l(t.regionDate.districtDate,function(e,a){return i("li",{key:a,class:{active:t.regionOption.district.id==e.id},on:{click:function(i){t.childRegion(e.id,e.name,e.level)}}},[t._v(t._s(e.name))])})):t._e(),5==t.regionLevel?i("ul",{staticClass:"ulAddrList"},t._l(t.regionDate.streetDate,function(e,a){return i("li",{key:a,class:{active:t.regionOption.street.id==e.id},on:{click:function(i){t.childRegion(e.id,e.name,e.level)}}},[t._v(t._s(e.name))])})):t._e()])])])]:t._e(),"goods"==t.regionType?[i("div",{staticClass:"mod-address-main mod-address-main-goods"},[i("div",{staticClass:"mod-address-body"},[i("ul",{staticClass:"ulAddrTab"},[i("li",{class:{cur:t.regionLevel-1==1},on:{click:function(e){t.tabClickRegion(1,1)}}},[i("span",[t._v(t._s(t.regionOption.province.name?t.regionOption.province.name:t.$t("lang.select")))])]),t.regionOption.province.name?i("li",{class:{cur:t.regionLevel-1==2},on:{click:function(e){t.tabClickRegion(t.regionOption.province.id,2)}}},[i("span",[t._v(t._s(t.regionOption.city.name?t.regionOption.city.name:t.$t("lang.select")))])]):t._e(),t.regionOption.city.name?i("li",{class:{cur:t.regionLevel-1==3},on:{click:function(e){t.tabClickRegion(t.regionOption.city.id,3)}}},[i("span",[t._v(t._s(t.regionOption.district.name?t.regionOption.district.name:t.$t("lang.select")))])]):t._e(),t.regionOption.district.name&&5==t.isLevel?i("li",{class:{cur:t.regionLevel-1==4},on:{click:function(e){t.tabClickRegion(t.regionOption.district.id,4)}}},[i("span",[t._v(t._s(t.regionOption.street.name?t.regionOption.street.name:t.$t("lang.select")))])]):t._e()]),2==t.regionLevel?i("ul",{staticClass:"ulAddrList"},t._l(t.regionDate.provinceData,function(e,a){return i("li",{key:a,class:{active:t.regionOption.province.id==e.id},on:{click:function(i){t.childRegion(e.id,e.name,e.level)}}},[t._v(t._s(e.name))])})):t._e(),3==t.regionLevel?i("ul",{staticClass:"ulAddrList"},t._l(t.regionDate.cityDate,function(e,a){return i("li",{key:a,class:{active:t.regionOption.city.id==e.id},on:{click:function(i){t.childRegion(e.id,e.name,e.level)}}},[t._v(t._s(e.name))])})):t._e(),4==t.regionLevel?i("ul",{staticClass:"ulAddrList"},t._l(t.regionDate.districtDate,function(e,a){return i("li",{key:a,class:{active:t.regionOption.district.id==e.id},on:{click:function(i){t.childRegion(e.id,e.name,e.level)}}},[t._v(t._s(e.name))])})):t._e(),5==t.regionLevel?i("ul",{staticClass:"ulAddrList"},t._l(t.regionDate.streetDate,function(e,a){return i("li",{key:a,class:{active:t.regionOption.street.id==e.id},on:{click:function(i){t.childRegion(e.id,e.name,e.level)}}},[t._v(t._s(e.name))])})):t._e()])])]:t._e()],2)},n=[],r=(i("96cf"),i("cb0c")),c=(i("ac6a"),i("88d8")),l=(i("7f7f"),i("8a58"),i("e41f")),d=(i("c5f6"),i("2f62"),{props:{display:{type:Boolean,default:!1},regionOptionDate:{type:Object,default:""},isPrice:{type:Number,default:0},isLevel:{type:Number,default:5},isStorage:{type:Boolean,default:!0},regionType:{type:String,default:"currency"}},data:function(){return{regionOption:this.regionOptionDate,arr:["province","city","district","street"],lat:"",lng:""}},components:Object(c["a"])({},l["a"].name,l["a"]),created:function(){var t={region:1,level:1};this.regionOption.district.id!=this.regionId&&(5==this.isLevel&&this.regionOption.district.id&&(t.region=this.regionOption.district.id,t.level=this.isLevel-1),this.$store.dispatch("setRegion",t))},computed:{regionId:function(){return this.$store.state.region.id},regionLevel:function(){return this.isLevel>this.$store.state.region.level?this.$store.state.region.level:this.isLevel},regionDate:function(){return this.$store.state.region.data},status:{get:function(){return this.$store.state.region.status},set:function(t){this.$store.state.region.status=t}},userRegion:function(){return this.$store.state.userRegion}},methods:{onRegionClose:function(){this.$emit("updateDisplay",!1)},childRegion:function(t,e,i){var a=this;switch(this.isLevel==i?this.status=!0:this.status=!1,i){case 2:this.regionOption.province.id=t,this.regionOption.province.name=e;break;case 3:this.regionOption.city.id=t,this.regionOption.city.name=e;break;case 4:this.regionOption.district.id=t,this.regionOption.district.name=e;break;case 5:this.regionOption.street.id=t,this.regionOption.street.name=e;break;default:break}this.arr.forEach(function(t,e){e+1>i&&(a.regionOption[t].id="",a.regionOption[t].name="")}),this.$store.dispatch("setRegion",{region:t,level:i})},tabClickRegion:function(t,e){var i=this;this.arr.forEach(function(t,a){a+1>e&&(i.regionOption[t].id="",i.regionOption[t].name="")}),this.$store.dispatch("setRegion",{region:t,level:e})},overlay:function(){this.$emit("updateDisplay",!1)},locationMap:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$http.get("".concat(window.ROOT_URL,"/api/misc/address2location"),{params:{address:e.replace(/\s*/g,"")}}).then(function(t){var e=t.data;if("success"==e.status){var a=e.data,s={lat:a.lat,lng:a.lng};i.regionOption.postion=s,i.isStorage&&localStorage.setItem("regionOption",JSON.stringify(i.regionOption)),i.$emit("updateRegionDate",i.regionOption),i.$emit("updateDisplay",!1),i.$emit("update:isPrice",1)}else Toast(e.message)});case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},watch:{status:function(){1==this.status&&(this.regionOption.regionSplic=this.regionOption.province.name+" "+this.regionOption.city.name+" "+this.regionOption.district.name+" "+this.regionOption.street.name,this.locationMap(this.regionOption.regionSplic))}}}),u=d,g=(i("e1c4"),i("2877")),p=Object(g["a"])(u,o,n,!1,null,"2322bad6",null);p.options.__file="Region.vue";var _=p.exports;e["a"]={mixins:[s["a"]],components:{Region:_},data:function(){return{regionShow:!1,regionLoading:!1,regionOptionDate:{province:{id:"",name:""},city:{id:"",name:""},district:{id:"",name:""},street:{id:"",name:""},postion:{lat:"",lng:""},regionSplic:""},docmHeight:0,showHeight:0,isResize:!1,oauthHidden:!0,isGuide:!1,configData:JSON.parse(sessionStorage.getItem("configData")),swipe_height:document.documentElement.clientWidth?document.documentElement.clientWidth:375}},computed:{decimalLength:function(){var t=2;if(this.configData)switch(this.configData.price_format){case"0":t=2;break;case"1":t=2;break;case"2":t=1;break;case"3":t=0;break;case"4":t=1;break;case"5":t=0;break}return t},currencyFormat:function(){return this.configData.currency_format?this.configData.currency_format.replace("%s",""):"Â¥"},mobile_kefu:function(){return!!this.configData&&this.configData.mobile_kefu},getRegionData:function(){var t=JSON.parse(localStorage.getItem("regionOption")),e=JSON.parse(localStorage.getItem("userRegion"));return t||e},isWeiXin:function(){return s["a"].isWeixinBrowser()},userRegion:function(){return this.$store.state.userRegion},regionSplic:{get:function(){return this.regionOptionDate.regionSplic?this.regionOptionDate.regionSplic:this.$t("lang.select")},set:function(t){this.regionOptionDate=t}}},methods:{updateRadioSel:function(t,e){this.$store.dispatch("updateRadioSel",{modulesIndex:this.modulesIndex,sName:t,newValue:e})},updateText:function(t){isNaN(t.listIndex)||(t.modulesIndex=this.modulesIndex),this.$store.dispatch("updateText",t)},removeList:function(t){this.$store.dispatch("removeList",{modulesIndex:this.modulesIndex,listIndex:t})},addList:function(t){if("imgList"==t){localStorage.getItem("aPicture")&&localStorage.removeItem("aPicture");var e={bShowDialog:!0,currentPage:1,pageSize:12,oneOrMore:"more",bAlbum:!0,modulesIndex:this.modulesIndex,maxLength:this.maxLength,residueLength:this.maxLength-this.onlineData.list.length};this.$store.dispatch("setDialogPicture",e)}else{var i={modulesIndex:this.modulesIndex,url:"",urlCatetory:"",urlName:"",desc:""};this.$store.dispatch("addList",i)}},updateTitleText:function(t,e){var i={modulesIndex:this.modulesIndex,dataNext:"allValue",attrName:t,newValue:e};this.updateText(i)},onChat:function(t,e,i){var o=this;null!=localStorage.getItem("token")?this.$store.dispatch("setChat",{goods_id:t,shop_id:e||0,type:i}).then(function(t){if("success"==t.status){var e=t.data.url;if(e){var i=RegExp(/wpa.qq.com/),n=i.test(e),r=navigator.userAgent,c=!!r.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);if(n){var l=e.indexOf("&uin="),d=e.indexOf("&site="),u=e.substring(l+5,d);c?s["a"].isWeixinBrowser()?window.location.href=e:window.location.href="mqq://im/chat?chat_type=wpa&uin="+u+"&version=1&src_type=web":window.location.href=e}else window.location.href=e}else Object(a["a"])(o.$t("lang.kefu_set_notic"))}else Object(a["a"])(t.errors.message)}):Object(a["a"])(this.$t("lang.login_user_not"))},onresize:function(){var t=this;window.onresize=function(){return function(){t.docmHeight=document.documentElement.clientHeight,t.showHeight=document.body.clientHeight}()}},clickGuide:function(){this.isGuide=!1},handelRegionShow:function(){this.regionShow=!this.regionShow},getRegionShow:function(t){this.regionShow=t},getRegionOptionDate:function(t){this.regionOptionDate=t}}}}}]);