(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8f0a"],{"0653":function(t,e,a){"use strict";a("68ef")},1146:function(t,e,a){},"565f":function(t,e,a){"use strict";var n=a("c31d"),i=a("fe7e"),s=a("a142");e["a"]=Object(i["a"])({render:function(){var t,e=this,a=e.$createElement,n=e._self._c||a;return n("cell",{class:e.b((t={error:e.error,disabled:e.$attrs.disabled,"min-height":"textarea"===e.type&&!e.autosize},t["label-"+e.labelAlign]=e.labelAlign,t)),attrs:{icon:e.leftIcon,title:e.label,center:e.center,border:e.border,"is-link":e.isLink,required:e.required}},[e._t("left-icon",null,{slot:"icon"}),e._t("label",null,{slot:"title"}),n("div",{class:e.b("body")},["textarea"===e.type?n("textarea",e._g(e._b({ref:"input",class:e.b("control",e.inputAlign),attrs:{readonly:e.readonly},domProps:{value:e.value}},"textarea",e.$attrs,!1),e.listeners)):n("input",e._g(e._b({ref:"input",class:e.b("control",e.inputAlign),attrs:{type:e.type,readonly:e.readonly},domProps:{value:e.value}},"input",e.$attrs,!1),e.listeners)),e.showClear?n("icon",{class:e.b("clear"),attrs:{name:"clear"},on:{touchstart:function(t){return t.preventDefault(),e.onClear(t)}}}):e._e(),e.$slots.icon||e.icon?n("div",{class:e.b("icon"),on:{click:e.onClickIcon}},[e._t("icon",[n("icon",{attrs:{name:e.icon}})])],2):e._e(),e.$slots.button?n("div",{class:e.b("button")},[e._t("button")],2):e._e()],1),e.errorMessage?n("div",{class:e.b("error-message"),domProps:{textContent:e._s(e.errorMessage)}}):e._e()],2)},name:"field",inheritAttrs:!1,props:{value:[String,Number],icon:String,label:String,error:Boolean,center:Boolean,isLink:Boolean,leftIcon:String,readonly:Boolean,required:Boolean,clearable:Boolean,labelAlign:String,inputAlign:String,onIconClick:Function,autosize:[Boolean,Object],errorMessage:String,type:{type:String,default:"text"},border:{type:Boolean,default:!0}},data:function(){return{focused:!1}},watch:{value:function(){this.$nextTick(this.adjustSize)}},mounted:function(){this.format(),this.$nextTick(this.adjustSize)},computed:{showClear:function(){return this.clearable&&this.focused&&""!==this.value&&this.isDef(this.value)&&!this.readonly},listeners:function(){return Object(n["a"])({},this.$listeners,{input:this.onInput,keypress:this.onKeypress,focus:this.onFocus,blur:this.onBlur})}},methods:{focus:function(){this.$refs.input&&this.$refs.input.focus()},blur:function(){this.$refs.input&&this.$refs.input.blur()},format:function(t){void 0===t&&(t=this.$refs.input);var e=t,a=e.value,n=this.$attrs.maxlength;return this.isDef(n)&&a.length>n&&(a=a.slice(0,n),t.value=a),a},onInput:function(t){this.$emit("input",this.format(t.target))},onFocus:function(t){this.focused=!0,this.$emit("focus",t),this.readonly&&this.blur()},onBlur:function(t){this.focused=!1,this.$emit("blur",t)},onClickIcon:function(){this.$emit("click-icon"),this.onIconClick&&this.onIconClick()},onClear:function(){this.$emit("input",""),this.$emit("clear")},onKeypress:function(t){if("number"===this.type){var e=t.keyCode,a=-1===String(this.value).indexOf("."),n=e>=48&&e<=57||46===e&&a||45===e;n||t.preventDefault()}"search"===this.type&&13===t.keyCode&&this.blur(),this.$emit("keypress",t)},adjustSize:function(){var t=this.$refs.input;if("textarea"===this.type&&this.autosize&&t){t.style.height="auto";var e=t.scrollHeight;if(Object(s["d"])(this.autosize)){var a=this.autosize,n=a.maxHeight,i=a.minHeight;n&&(e=Math.min(e,n)),i&&(e=Math.max(e,i))}e&&(t.style.height=e+"px")}}}})},"66b9":function(t,e,a){"use strict";a("68ef")},"8a58":function(t,e,a){"use strict";a("68ef"),a("4d75")},"8f80":function(t,e,a){"use strict";var n=a("fe7e");e["a"]=Object(n["a"])({render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.b()},[t._t("default"),a("input",t._b({ref:"input",class:t.b("input"),attrs:{type:"file",accept:t.accept,disabled:t.disabled},on:{change:t.onChange}},"input",t.$attrs,!1))],2)},name:"uploader",inheritAttrs:!1,props:{disabled:Boolean,beforeRead:Function,afterRead:Function,accept:{type:String,default:"image/*"},resultType:{type:String,default:"dataUrl"},maxSize:{type:Number,default:Number.MAX_VALUE}},methods:{onChange:function(t){var e=this,a=t.target.files;!this.disabled&&a.length&&(a=1===a.length?a[0]:[].slice.call(a,0),!a||this.beforeRead&&!this.beforeRead(a)||(Array.isArray(a)?Promise.all(a.map(this.readFile)).then(function(t){var n=!1,i=a.map(function(i,s){return i.size>e.maxSize&&(n=!0),{file:a[s],content:t[s]}});e.onAfterRead(i,n)}):this.readFile(a).then(function(t){e.onAfterRead({file:a,content:t},a.size>e.maxSize)})))},readFile:function(t){var e=this;return new Promise(function(a){var n=new FileReader;n.onload=function(t){a(t.target.result)},"dataUrl"===e.resultType?n.readAsDataURL(t):"text"===e.resultType&&n.readAsText(t)})},onAfterRead:function(t,e){e?this.$emit("oversize",t):(this.afterRead&&this.afterRead(t),this.$refs.input&&(this.$refs.input.value=""))}}})},bcd3:function(t,e,a){},be7f:function(t,e,a){"use strict";a("68ef"),a("1146")},c194:function(t,e,a){"use strict";a("68ef")},c3a6:function(t,e,a){"use strict";a("68ef")},c528:function(t,e,a){"use strict";a.r(e);var n,i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"con bg-color-write"},[a("van-cell-group",[a("van-cell",{attrs:{"is-link":""},on:{click:t.uploadCard}},[a("template",{slot:"title"},[a("span",{staticClass:"van-cell-text"},[t._v(t._s(t.$t("lang.upload_photoid")))]),t.isCardImg?a("span",[t._v(t._s(t.$t("lang.have_already_uploaded")))]):a("span",[t._v(t._s(t.$t("lang.haven_uploaded")))])])],2),a("van-field",{attrs:{type:"text",label:t.$t("lang.truename"),disabled:t.isDisabled,placeholder:t.$t("lang.fill_in_real_name")},model:{value:t.real_name,callback:function(e){t.real_name=e},expression:"real_name"}}),a("van-field",{attrs:{type:"tel",label:t.$t("lang.id_number"),disabled:t.isDisabled,placeholder:t.$t("lang.fill_in_id_number")},model:{value:t.self_num,callback:function(e){t.self_num=e},expression:"self_num"}}),a("van-field",{attrs:{type:"text",label:t.$t("lang.bank_name"),disabled:t.isDisabled,placeholder:t.$t("lang.fill_in_bank_name")},model:{value:t.bank_name,callback:function(e){t.bank_name=e},expression:"bank_name"}}),a("van-field",{attrs:{type:"tel",label:t.$t("lang.credit_card_numbers"),disabled:t.isDisabled,placeholder:t.$t("lang.fill_in_card_number")},model:{value:t.bank_card,callback:function(e){t.bank_card=e},expression:"bank_card"}}),t.real_type?a("van-field",{attrs:{type:"text",label:t.$t("lang.certification_time"),readonly:""},model:{value:t.add_time,callback:function(e){t.add_time=e},expression:"add_time"}}):t._e(),""!==t.review_status?a("van-cell",[a("template",{slot:"title"},[a("span",{staticClass:"van-cell-text"},[t._v(t._s(t.$t("lang.audit_status")))]),0==t.review_status?a("span",{staticClass:"color-red"},[t._v(t._s(t.$t("lang.audit_status_01")))]):1==t.review_status?a("span",{staticClass:"color-red"},[t._v(t._s(t.$t("lang.audit_status_02")))]):2==t.review_status?a("span",{staticClass:"color-red"},[t._v(t._s(t.$t("lang.audit_status_03")))]):t._e()])],2):t._e(),2==t.review_status?a("van-cell",[a("template",{slot:"title"},[a("div",{staticStyle:{display:"flex"}},[a("span",{staticClass:"van-cell-text"},[t._v(t._s(t.$t("lang.audit_review_content")))]),a("span",{staticClass:"color-red"},[t._v(t._s(t.review_content))])])])],2):t._e(),t.button_edit_type?a("van-field",{attrs:{type:"tel",label:t.$t("lang.phone_number"),maxlength:"11",disabled:t.isDisabled},model:{value:t.bank_mobile,callback:function(e){t.bank_mobile=e},expression:"bank_mobile"}}):a("van-field",{attrs:{type:"tel",label:t.$t("lang.phone_number"),maxlength:"11",disabled:t.isDisabled,placeholder:t.$t("lang.fill_in_mobile")},model:{value:t.bank_mobile,callback:function(e){t.bank_mobile=e},expression:"bank_mobile"}}),0==t.button_edit_type?[t.captcha?a("van-field",{attrs:{center:"",clearable:"",label:t.$t("lang.pic_code"),maxlength:"4",placeholder:t.$t("lang.enter_pic_code")},model:{value:t.imgverifyValue,callback:function(e){t.imgverifyValue=e},expression:"imgverifyValue"}},[a("span",{staticClass:"code-box",attrs:{slot:"button"},on:{click:t.clickCaptcha},slot:"button"},[a("img",{attrs:{src:t.captcha}})])]):t._e(),a("van-field",{attrs:{type:"tel",center:"",clearable:"",label:t.$t("lang.sms_code"),placeholder:t.$t("lang.get_sms_code")},model:{value:t.sms,callback:function(e){t.sms=e},expression:"sms"}},[t.button_type?a("van-button",{attrs:{slot:"button",size:"small",type:"primary"},on:{click:t.sendVerifyCode},slot:"button"},[t._v(t._s(t.$t("lang.send_sms_code"))+"\n                ")]):a("van-button",{attrs:{slot:"button",size:"small",type:"disabled"},slot:"button"},[t._v(t._s(t.button_text))])],1)]:t._e()],2),a("div",{staticClass:"ect-button"},[t.real_id>0?[t.button_edit_type?a("van-button",{attrs:{type:"primary","bottom-action":""},on:{click:t.editRealname}},[t._v(t._s(t.$t("lang.edit_certification_info")))]):a("van-button",{attrs:{"bottom-action":"",type:"primary disabled"},on:{click:t.updateRealname}},[t._v(t._s(t.button_edit))])]:[a("van-button",{attrs:{type:"primary","bottom-action":""},on:{click:t.addRealname}},[t._v(t._s(t.$t("lang.consent_certification_confirm")))])]],2)],1)},s=[],r=a("ade3"),l=(a("e7e5"),a("d399")),o=(a("c3a6"),a("ad06")),c=(a("e930"),a("8f80")),d=(a("be7f"),a("565f")),u=(a("8a58"),a("e41f")),_=(a("66b9"),a("b650")),f=(a("0653"),a("34e9")),b=(a("7f7f"),a("c194"),a("7744")),m=a("4328"),h=a.n(m),p={data:function(){return{real_type:!1,real_id:0,real_name:"",self_num:"",bank_name:"",bank_card:"",review_content:"",front_of_id_card:0,reverse_of_id_card:0,add_time:"",review_status:"",bank_mobile:"",imgverifyValue:"",sms:"",button_text:this.$t("lang.send_again_60"),send_again:this.$t("lang.send_again"),button_type:!0,button_edit_type:!0,button_edit:this.$t("lang.subimt"),isDisabled:!0}},components:(n={},Object(r["a"])(n,b["a"].name,b["a"]),Object(r["a"])(n,f["a"].name,f["a"]),Object(r["a"])(n,_["a"].name,_["a"]),Object(r["a"])(n,u["a"].name,u["a"]),Object(r["a"])(n,d["a"].name,d["a"]),Object(r["a"])(n,c["a"].name,c["a"]),Object(r["a"])(n,o["a"].name,o["a"]),Object(r["a"])(n,l["a"].name,l["a"]),n),created:function(){this.realnameLoad()},computed:{isCardImg:function(){return 0!=this.front_of_id_card&&0!=this.reverse_of_id_card},captcha:function(){return this.$store.state.imgVerify.captcha},client:function(){return this.$store.state.imgVerify.client}},methods:{realnameLoad:function(t){var e=this;this.$http.get("".concat(window.ROOT_URL,"api/realname")).then(function(a){var n=a.data.data;""!=n&&(e.real_type=!0,e.real_id=n.real_id,e.real_name=n.real_name,e.self_num=n.self_num,e.bank_name=n.bank_name,e.bank_card=n.bank_card,e.bank_mobile=n.bank_mobile,e.front_of_id_card=void 0!=e.$route.query.front_of_id_card?e.$route.query.front_of_id_card:n.front_of_id_card,e.reverse_of_id_card=void 0!=e.$route.query.front_of_id_card?e.$route.query.reverse_of_id_card:n.reverse_of_id_card,e.review_status=n.review_status,e.add_time=n.add_time,e.review_content=n.review_content),""==n&&"add"!=t?(e.isDisabled=!1,e.button_edit_type=!1):(e.isDisabled=!0,e.button_edit_type=!0)}),void 0!=this.$route.query.front_of_id_card&&void 0!=this.$route.query.front_of_id_card&&(this.front_of_id_card=this.$route.query.front_of_id_card,this.reverse_of_id_card=this.$route.query.reverse_of_id_card),this.$store.dispatch("setImgVerify")},uploadCard:function(){if(1==this.button_edit_type)return Object(l["a"])(this.$t("lang.edit_state_photoid")),!1;this.$router.push({name:"uploadcard"})},addRealname:function(){var t=this,e={real_id:this.real_id,real_name:this.real_name,self_num:this.self_num,bank_name:this.bank_name,bank_card:this.bank_card,bank_mobile:this.bank_mobile,front_of_id_card:this.front_of_id_card,reverse_of_id_card:this.reverse_of_id_card};this.verification()&&this.$store.dispatch("setSmsVerify",{client:this.client,code:this.sms,mobile:this.bank_mobile}).then(function(a){"success"==a.status?t.$http.post("".concat(window.ROOT_URL,"api/realname/store"),h.a.stringify(e)).then(function(e){1==e.data.data?(l["a"].loading({duration:1e3,message:t.$t("lang.certification_submit_audit")},t.$router.push({name:"realname"})),t.realnameLoad("add")):Object(l["a"])(t.$t("lang.add_fail"))}):Object(l["a"])(a.errors.message)})},editRealname:function(){this.isDisabled=!1,this.button_edit_type=!1},updateRealname:function(){var t=this,e={real_id:this.real_id,real_name:this.real_name,self_num:this.self_num,bank_name:this.bank_name,bank_card:this.bank_card,bank_mobile:this.bank_mobile,front_of_id_card:this.front_of_id_card,reverse_of_id_card:this.reverse_of_id_card};this.verification()&&this.$store.dispatch("setSmsVerify",{client:this.client,code:this.sms,mobile:this.bank_mobile}).then(function(a){"success"==a.status?t.$http.put("".concat(window.ROOT_URL,"api/realname/update"),h.a.stringify(e)).then(function(e){1==e.data.data?(Object(l["a"])(t.$t("lang.edit_submit_audit")),t.button_edit_type=!0):Object(l["a"])(t.$t("lang.edit_fail_submit_audit")),t.realnameLoad()}):Object(l["a"])(a.errors.message)})},clickCaptcha:function(){this.$store.dispatch("setImgVerify")},sendVerifyCode:function(){var t=this,e={captcha:this.imgverifyValue,client:this.client,mobile:this.bank_mobile};this.$store.dispatch("setSendVerify",e).then(function(e){if("success"==e){t.button_type=!1;var a=60,n=setInterval(function(){a--,a?t.button_text=t.send_again+"("+a+"s)":(t.button_type=!0,clearInterval(n))},1e3)}})},verification:function(){var t=!0,e=/^((13|14|15|16|17|18|19)[0-9]{1}\d{8})$/;return this.isCardImg?""==this.real_name?(Object(l["a"])(this.$t("lang.truename_not_null")),t=!1):""==this.self_num?(Object(l["a"])(this.$t("lang.id_number_not_null")),t=!1):""==this.bank_name?(Object(l["a"])(this.$t("lang.bank_name_not_null")),t=!1):""==this.bank_card?(Object(l["a"])(this.$t("lang.card_number_not_null")),t=!1):e.test(this.bank_mobile)?""==this.imgverifyValue?(Object(l["a"])(this.$t("lang.captcha_img_not_null")),t=!1):""==this.sms?(Object(l["a"])(this.$t("lang.get_sms_code_notic")),t=!1):t=!0:(Object(l["a"])(this.$t("lang.mobile_not_null")),t=!1):(Object(l["a"])(this.$t("lang.please_upload_photoid")),t=!1),t}}},v=p,g=a("2877"),y=Object(g["a"])(v,i,s,!1,null,null,null);y.options.__file="Realname.vue";e["default"]=y.exports},e41f:function(t,e,a){"use strict";var n=a("fe7e"),i=a("6605");e["a"]=Object(n["a"])({render:function(){var t,e=this,a=e.$createElement,n=e._self._c||a;return n("transition",{attrs:{name:e.currentTransition}},[e.shouldRender?n("div",{directives:[{name:"show",rawName:"v-show",value:e.value,expression:"value"}],class:e.b((t={},t[e.position]=e.position,t))},[e._t("default")],2):e._e()])},name:"popup",mixins:[i["a"]],props:{transition:String,overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},position:{type:String,default:""}},computed:{currentTransition:function(){return this.transition||(""===this.position?"van-fade":"popup-slide-"+this.position)}}})},e930:function(t,e,a){"use strict";a("68ef"),a("bcd3")}}]);