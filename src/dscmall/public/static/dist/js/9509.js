(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["9509"],{9509:function(t,e,i){"use strict";i.r(e);var s,a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"con bg-color-write"},[i("div",{staticClass:"user-login-box"},[i("ec-form",{ref:"loginForm",staticClass:"user-login-form"},[i("div",{staticClass:"user-login-head"},[i("i",{staticClass:"iconfont icon-back",on:{click:t.onClickHome}}),i("h1",[t._v(t._s(t.$t("lang.bind_user")))])]),i("div",{staticClass:"user-login-ul"},[i("ec-form-item",{attrs:{prop:"imgverify"}},[i("div",{staticClass:"item-input dis-box"},[i("div",{staticClass:"label"},[i("i",{staticClass:"iconfont icon-pic"})]),i("div",{staticClass:"value box-flex"},[i("ec-input",{attrs:{type:"text",placeholder:t.$t("lang.captcha_img")},model:{value:t.imgverifyValue,callback:function(e){t.imgverifyValue=e},expression:"imgverifyValue"}})],1),i("div",{staticClass:"key"},[i("img",{staticClass:"j-verify-img",attrs:{src:t.captcha},on:{click:t.clickCaptcha}})])])]),i("ec-form-item",{attrs:{prop:"mobile"}},[i("div",{staticClass:"item-input dis-box"},[i("div",{staticClass:"label"},[i("i",{staticClass:"iconfont icon-mobiles"})]),i("div",{staticClass:"value box-flex"},[i("ec-input",{attrs:{type:"tel",placeholder:t.mobile_placeholder},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}})],1),i("div",{staticClass:"key"},[t.button_type?i("label",{on:{click:t.sendVerifyCode}},[t._v(t._s(t.$t("lang.get_code")))]):i("label",[t._v(t._s(t.button_text))])])])]),i("ec-form-item",{attrs:{prop:"sms"}},[i("div",{staticClass:"item-input dis-box"},[i("div",{staticClass:"label"},[i("i",{staticClass:"iconfont icon-key"})]),i("div",{staticClass:"value box-flex"},[i("ec-input",{attrs:{type:"tel",placeholder:t.$t("lang.get_sms_code")},model:{value:t.sms,callback:function(e){t.sms=e},expression:"sms"}})],1)])])],1),i("button",{staticClass:"btn btn-submit border-radius-top05",attrs:{type:"button"},on:{click:t.submitBtn}},[t._v(t._s(t.$t("lang.bind_on")))])])],1)])},n=[],o=i("88d8"),c=(i("e17f"),i("2241")),l=(i("7f7f"),i("e7e5"),i("d399")),r=(i("10cb"),i("450d"),i("f3ad")),u=i.n(r),m=(i("eca7"),i("3787")),d=i.n(m),f=(i("425f"),i("4105")),p=i.n(f),b=(i("4328"),i("2f62"),{name:"login",data:function(){return{imgverifyValue:"",sms:"",mobile:"",button_text:this.$t("lang.send_again_60"),send_again:this.$t("lang.send_again"),button_type:!0,type:this.$route.query.type?this.$route.query.type:"",url:this.$route.query.url?this.$route.query.url:"",params:this.$route.query.params?this.$route.query.params:""}},components:(s={EcForm:p.a,EcFormItem:d.a,EcInput:u.a},Object(o["a"])(s,l["a"].name,l["a"]),Object(o["a"])(s,c["a"].name,c["a"]),s),created:function(){this.$store.dispatch("setImgVerify")},computed:{mobile_placeholder:function(){return this.$t("lang.enter_mobile")},captcha:function(){return this.$store.state.imgVerify.captcha},client:function(){return this.$store.state.imgVerify.client}},methods:{clickCaptcha:function(){this.$store.dispatch("setImgVerify")},sendVerifyCode:function(){var t=this,e={captcha:this.imgverifyValue,client:this.client,mobile:this.mobile};if(!this.checkMobile())return Object(l["a"])(this.$t("lang.phone_number_format")),!1;this.$store.dispatch("setSendVerify",e).then(function(e){if("success"==e){t.button_type=!1;var i=60,s=setInterval(function(){i--,i?t.button_text=t.send_again+"("+i+"s)":(t.button_type=!0,clearInterval(s))},1e3)}})},submitBtn:function(){var t=this;if(!t.checkMobile())return Object(l["a"])(t.$t("lang.phone_number_format")),!1;if(""==t.sms)return Object(l["a"])(t.$t("lang.get_sms_code")),!1;var e=JSON.parse(t.params);e.step=2,e.mobile=t.mobile,e.client=t.client,e.code=t.sms,t.$store.dispatch("bindRegister",e).then(function(e){"failed"===e.status?(l["a"].fail({duration:1e3,message:t.$t("lang.authorization_fail_notic")}),setTimeout(function(){t.$router.push({name:"login"})},1e3)):1==e.data.login&&(t.target_url=Base64.decode(e.data.url),localStorage.setItem("token",e.data.token),window.location.href=t.target_url)})},onClickHome:function(){this.$router.push({name:"accountsafe"})},checkMobile:function(){var t=/^((13|14|15|16|17|18|19)[0-9]{1}\d{8})$/;return!!t.test(this.mobile)}},watch:{}}),h=b,g=i("2877"),_=Object(g["a"])(h,a,n,!1,null,null,null);_.options.__file="BindUser.vue";e["default"]=_.exports}}]);