(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c73"],{3846:function(t,e,i){i("9e1e")&&"g"!=/./g.flags&&i("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:i("0bfb")})},5491:function(t,e,i){},9718:function(t,e,i){},ac1e:function(t,e,i){"use strict";i("68ef")},c082:function(t,e,i){"use strict";var s=i("5491"),a=i.n(s);a.a},c106:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"secrch"},[i("form",{on:{submit:function(t){t.preventDefault()}}},[i("div",{staticClass:"secrch-warp"},[t.app||"integration"==t.routeName?t._e():i("div",{staticClass:"back",on:{click:t.onClickLeft}},[i("i",{staticClass:"iconfont icon-back"})]),i("div",{staticClass:"input-text"},[t.isSearch?[i("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"},{name:"focus",rawName:"v-focus"}],staticClass:"j-input-text",attrs:{type:"search",name:"keyword",autocomplete:"off",placeholder:t.placeholder},domProps:{value:t.keyword},on:{keypress:t.search,input:function(e){e.target.composing||(t.keyword=e.target.value)}}})]:[i("input",{staticClass:"j-input-text",attrs:{type:"search",name:"keyword",autocomplete:"off",placeholder:t.placeholder,readonly:"!isSearch"},on:{keypress:t.search,click:t.routeSearch}})],t._m(0)],2),t.isFilter?[i("div",{staticClass:"mode-switch",on:{click:t.viewSwitch}},["small"===t.myMode?[i("i",{staticClass:"iconfont icon-viewlist"})]:[i("i",{staticClass:"iconfont icon-pailie"})]],2)]:[t.isSearch?i("a",{staticClass:"btn-submit search-btn",attrs:{href:"javascript:void(0);"},on:{click:t.secrchBtn}},[t._v(t._s(t.$t("lang.search")))]):t._e()]],2)])])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"search-check"},[i("i",{staticClass:"iconfont icon-search"})])}],n=(i("ac6a"),i("7f7f"),i("cadf"),i("551c"),i("097d"),{props:["mode","isFilter","placeholder","placeholderState","app","shopId"],data:function(){return{myMode:this.mode,keyword:"",arr:[]}},created:function(){},directives:{focus:{inserted:function(t){t.focus()}}},computed:{routeName:function(){return this.$route.name},isSearch:function(){return"search"==this.routeName||"integration"==this.routeName}},methods:{getGoodGroup:function(t){var e={},i=0,s=[];return t.forEach(function(t){var a=t.goods_id;e[a]?s[e[a]-1].price.push(t.price):(e[a]=++i,s.push({goods_id:a,price:[t.price]}))}),s},viewSwitch:function(){this.myMode="small"===this.myMode?"medium":"small",this.$emit("getViewSwitch",this.myMode)},search:function(t){13==t.keyCode&&(t.preventDefault(),this.keyword=t.target.value,this.secrchBtn())},secrchBtn:function(){if(this.keyword||1!=this.placeholderState){this.keyword&&this.arr.push(this.keyword);var t=JSON.parse(localStorage.getItem("LatelyKeyword"));t&&(this.arr=this.unique(this.arr.concat(t))),this.arr.length>0&&(localStorage.setItem("LatelyKeyword",JSON.stringify(this.arr)),this.shopId>0?this.$router.push({name:"shopGoodsList",query:{keywords:this.keyword,ru_id:this.shopId}}):this.$router.push({name:"searchList",query:{keywords:this.keyword}}))}else this.shopId>0?this.$router.push({name:"shopGoodsList",query:{keywords:this.placeholder,ru_id:this.shopId}}):this.$router.push({name:"searchList",query:{keywords:this.placeholder}})},onClickLeft:function(){this.$router.go(-1)},routeSearch:function(){this.$router.push({name:"search",query:{shop_id:this.shopId}})},unique:function(t){for(var e=[],i={},s=0;s<t.length;s++)i[t[s]]||(i[t[s]]=!0,e.push(t[s]));return e},quickSort:function(t){if(t.length<=1)return t;for(var e=Math.floor(t.length/2),i=t.splice(e,1),s=[],a=[],n=0;n<t.length;n++)t[n]<i?s.push(t[n]):a.push(t[n]);return this.quickSort(s).concat(i,this.quickSort(a))}}}),c=n,r=i("2877"),o=Object(r["a"])(c,s,a,!1,null,null,null);o.options.__file="Search.vue";e["a"]=o.exports},c1ee:function(t,e,i){"use strict";var s=i("9718"),a=i.n(s);a.a},c70c:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"catalog"},[s("Search"),s("div",{directives:[{name:"show",rawName:"v-show",value:t.cateListAll.length,expression:"cateListAll.length"}],staticClass:"category"},[s("swiper",{ref:"firstCateSwiper",staticClass:"cgl",attrs:{options:t.swiperOption}},[s("swiper-slide",{staticStyle:{height:"auto"}},[s("ul",t._l(t.cateListAll,function(e,i){return s("li",{key:e.cat_id,staticClass:"flex flex-vc",class:{active:t.currentFirstIndex==i},on:{click:function(s){t.bindChangeFirstCate(i,e.cat_id)}}},[s("p",[t._v(t._s(e.cat_name))])])}))])],1),s("swiper",{ref:"wrapSwiper",staticClass:"cgr",attrs:{options:t.swiperOption3}},[t.cateListSecond&&t.cateListSecond.length>0?[s("swiper-slide",{staticClass:"items",staticStyle:{height:"auto","padding-bottom":"6.5rem"}},[t.touch_catads?s("div",{staticClass:"adv"},[s("a",{attrs:{href:"javascript:;"}},[s("img",{staticClass:"img",attrs:{src:t.touch_catads}})])]):t._e(),t._l(t.cateListSecond,function(e,a){return s("div",{key:e.cat_id,staticClass:"item"},[s("div",{staticClass:"tit flex flex-vc flex-hc"},[s("i",{staticClass:"row"}),1==t.drptype?s("a",{attrs:{href:"javascript:;"}},[s("label",{staticClass:"ect-radio",class:{active:e.drp_type},on:{click:function(i){t.fcatCheck(e.cat_id,e.drp_type)}}},[s("i",{staticClass:"iconfont icon-gou"})]),t._v(t._s(e.cat_name))]):s("router-link",{attrs:{to:{name:"drp-drplist",params:{id:e.cat_id}}}},[t._v(t._s(e.cat_name))])],1),s("ul",{staticClass:"flex flex-vc flex-hw"},[1==t.drptype?t._l(e.child,function(a){return s("li",{key:a.cat_id,staticClass:"flex flex-v flex-vc flex-hc",on:{click:function(i){t.catCheck(e.cat_id,a.cat_id)}}},[s("label",{staticClass:"ect-radio",class:{active:a.drp_type}},[s("i",{staticClass:"iconfont icon-gou"})]),a.touch_icon?s("img",{attrs:{src:a.touch_icon}}):s("img",{attrs:{src:i("d9e6")}}),s("span",[t._v(t._s(a.cat_name))])])}):t._l(e.child,function(e){return s("li",{key:e.cat_id,staticClass:"flex flex-v flex-vc flex-hc"},[s("router-link",{attrs:{to:{name:"drp-drplist",params:{id:e.cat_id}}}},[e.touch_icon?s("img",{attrs:{src:e.touch_icon}}):s("img",{attrs:{src:i("d9e6")}}),s("span",[t._v(t._s(e.cat_name))])])],1)})],2)])})],2)]:t._e(),s("van-loading",{attrs:{type:"spinner",color:"black",size:"3rem"}})],2)],1),s("CommonNav",{attrs:{routerName:t.routerName}},[s("li",{attrs:{slot:"aloneNav"},slot:"aloneNav"},[s("router-link",{attrs:{to:{name:"drp"}}},[s("i",{staticClass:"iconfont icon-fenxiao"}),s("p",[t._v(t._s(t.$t("lang.drp_center")))])])],1)]),s("ec-tab-down")],1)},a=[],n=(i("ac6a"),i("9395")),c=i("88d8"),r=(i("7f7f"),i("ac1e"),i("543e")),o=i("2f62"),u=i("6b6e"),l=i("c106"),h=i("d567"),d=i("7212"),p={name:"catalog",components:Object(c["a"])({EcTabDown:u["a"],Search:l["a"],swiper:d["swiper"],swiperSlide:d["swiperSlide"],CommonNav:h["a"]},r["a"].name,r["a"]),data:function(){return{routerName:"drp",currentFirstIndex:0,swiperOption:{direction:"vertical",slidesPerView:"auto",freeMode:!0},swiperOption2:{direction:"vertical"},swiperOption3:{direction:"vertical",slidesPerView:"auto",freeMode:!0,freeModeMomentumBounce:!1,freeModeMomentumVelocityRatio:.5},timer:null,isReady:!0,leg:0,touch_catads:"",cat_id:0}},created:function(){this.$store.dispatch("setDrpCategoryLists",{index:this.currentFirstIndex})},mounted:function(){},computed:Object(n["a"])({},Object(o["c"])({cateListAll:function(t){return t.drp.cateListAll}}),{cateListSecond:{get:function(){return this.$store.state.drp.cateListSecond},set:function(t){this.$store.state.drp.cateListSecond=t}},drptype:function(){return this.$store.state.drp.drptype},firstCateSwiper:function(){return this.$refs.firstCateSwiper.swiper},wrapSwiper:function(){return this.$refs.wrapSwiper.swiper}}),methods:{bindChangeFirstCate:function(t,e){this.cat_id=e,this.currentFirstIndex=t,this.cateListSecond=[],this.$store.dispatch("setDrpCategoryLists",{index:t,id:e})},transitionStart:function(){var t=this;this.timer||(this.timer=setTimeout(function(){t.timer=null,t.isReady&&t.wrapSwiper.isBeginning&&"prev"==t.wrapSwiper.swipeDirection&&(t.currentFirstIndex>0?t.currentFirstIndex-=1:t.currentFirstIndex=0,t.cateListAll.forEach(function(e,i){t.currentFirstIndex==i&&(t.bindChangeFirstCate(t.currentFirstIndex,e.cat_id),t.wrapSwiper.slideTo(0))})),t.isReady&&t.wrapSwiper.isEnd&&"next"==t.wrapSwiper.swipeDirection&&(t.currentFirstIndex+=1,t.cateListAll.forEach(function(e,i){t.currentFirstIndex==i&&(t.bindChangeFirstCate(t.currentFirstIndex,e.cat_id),t.wrapSwiper.slideTo(0))}))}))},handelTouchCatads:function(){var t=this;this.cateListAll.forEach(function(e){e.cat_id==t.cat_id&&(t.touch_catads=e.touch_catads)})},catCheck:function(t,e){this.$store.dispatch("setDrpCategoryAdd",{id:e,f_id:t,type:0})},fcatCheck:function(t,e){var i=[],s=1==e?2:1;this.cateListSecond.forEach(function(e){e.cat_id==t&&e.child.forEach(function(t){i.push(t.cat_id)})}),i.length>0&&this.$store.dispatch("setDrpCategoryAdd",{id:i,cur_id:t,type:s})}},watch:{cateListAll:function(){this.cat_id=this.cateListAll[this.currentFirstIndex].cat_id,this.$store.dispatch("setDrpCategoryLists",{id:this.cat_id}),this.handelTouchCatads()},cat_id:function(){this.handelTouchCatads()}}},f=p,m=(i("c082"),i("2877")),v=Object(m["a"])(f,s,a,!1,null,"2d24d672",null);v.options.__file="Category.vue";e["default"]=v.exports},d567:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sus-nav"},[i("div",{staticClass:"common-nav",class:{active:!0===t.navType},attrs:{id:"moveDiv"},on:{touchstart:t.down,touchmove:t.move,touchend:t.end}},[i("div",{staticClass:"right-cont",attrs:{id:"rightDiv"}},[i("ul",[i("li",{on:{click:function(e){t.routerLink("home")}}},[i("i",{staticClass:"iconfont icon-zhuye"}),i("p",[t._v(t._s(t.$t("lang.home")))])]),"drp"!=t.routerName&&"crowd_funding"!=t.routerName&&"team"!=t.routerName&&"supplier"!=t.routerName&&"presale"!=t.routerName?i("li",{on:{click:function(e){t.routerLink("search")}}},[i("i",{staticClass:"iconfont icon-search"}),i("p",[t._v(t._s(t.$t("lang.search")))])]):t._e(),i("li",{on:{click:function(e){t.routerLink("catalog")}}},[i("i",{staticClass:"iconfont icon-menu"}),i("p",[t._v(t._s(t.$t("lang.category")))])]),i("li",{on:{click:function(e){t.routerLink("cart")}}},[i("i",{staticClass:"iconfont icon-cart"}),i("p",[t._v(t._s(t.$t("lang.cart")))])]),i("li",{on:{click:function(e){t.routerLink("user")}}},[i("i",{staticClass:"iconfont icon-gerenzhongxin"}),i("p",[t._v(t._s(t.$t("lang.personal_center")))])]),"team"==t.routerName?i("li",{on:{click:function(e){t.routerLink("team")}}},[i("i",{staticClass:"iconfont icon-wodetuandui"}),i("p",[t._v(t._s(t.$t("lang.my_team")))])]):t._e(),"supplier"==t.routerName?i("li",{on:{click:function(e){t.routerLink("supplier")}}},[i("i",{staticClass:"iconfont icon-wodetuandui"}),i("p",[t._v(t._s(t.$t("lang.suppliers")))])]):t._e(),t._t("aloneNav")],2)]),i("div",{staticClass:"nav-icon",on:{click:t.handelNav}},[t._v(t._s(t.$t("lang.quick_navigation")))])]),i("div",{staticClass:"common-show",class:{active:!0===t.navType},on:{click:function(e){return e.stopPropagation(),t.handelShow(e)}}})])},a=[],n=(i("3846"),i("cadf"),i("551c"),i("097d"),{props:["routerName"],data:function(){return{navType:!1,flags:!1,position:{x:0,y:0},nx:"",ny:"",dx:"",dy:"",xPum:"",yPum:""}},mounted:function(){this.flags=!1},methods:{handelNav:function(){this.navType=1!=this.navType},handelShow:function(){this.navType=!1},down:function(){var t;this.flags=!0,t=event.touches?event.touches[0]:event,this.position.x=t.clientX,this.position.y=t.clientY,this.dx=moveDiv.offsetLeft,this.dy=moveDiv.offsetTop},move:function(){var t,e,i,s;(event.preventDefault(),this.flags)&&(t=event.touches?event.touches[0]:event,e=document.documentElement.clientHeight,i=moveDiv.clientHeight,this.nx=t.clientX-this.position.x,this.ny=t.clientY-this.position.y,this.xPum=this.dx+this.nx,this.yPum=this.dy+this.ny,this.navType?this.yPum>0&&(s=e-i-this.yPum>0?e-i-this.yPum:0):(i+=rightDiv.clientHeight,this.yPum-i>0&&(s=e-this.yPum>0?e-this.yPum:0)),moveDiv.style.bottom=s+"px")},end:function(){this.flags=!1},routerLink:function(t){var e=this;"home"==t||"catalog"==t||"search"==t||"user"==t?setTimeout(function(){uni.getEnv(function(i){i.plus||i.miniprogram?"home"==t?uni.reLaunch({url:"../../pages/index/index"}):"catalog"==t?uni.reLaunch({url:"../../pages/category/category"}):"search"==t?uni.reLaunch({url:"../../pages/search/search"}):"user"==t&&uni.reLaunch({url:"../../pages/user/user"}):"search"==t?e.$router.push({name:"search"}):e.$router.push({name:t})}),uni.postMessage({data:{action:"postMessage"}})},100):e.$router.push({name:t})}}}),c=n,r=(i("c1ee"),i("2877")),o=Object(r["a"])(c,s,a,!1,null,null,null);o.options.__file="CommonNav.vue";e["a"]=o.exports},d9e6:function(t,e,i){t.exports=i.p+"img/no_image.jpg"}}]);