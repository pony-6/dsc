(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["70b4"],{"70b4":function(t,e,o){"use strict";o.r(e);var i,s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"waterfall-lower",rawName:"v-waterfall-lower",value:t.loadMore,expression:"loadMore"}],staticClass:"con",attrs:{"waterfall-disabled":"disabled","waterfall-offset":"300"}},[o("div",{staticClass:"header-list-goods"},[o("Search",{attrs:{mode:t.mode,isFilter:t.isFilter},on:{getViewSwitch:t.handleViewSwitch}}),o("FilterTab",{attrs:{filter:t.filter,filterStyle:t.filterStyle,isPopupVisible:t.isPopupVisible},on:{getFilter:t.handleFilter,setPopupVisible:t.setPopupVisible}})],1),o("section",{staticClass:"product-list",class:{"product-list-medium":"medium"===t.mode}},[t.coudanGoodsList?o("ProductList",{attrs:{data:t.coudanGoodsList,routerName:t.routerName}}):t._e(),t.footerCont?o("div",{staticClass:"footer-cont"},[t._v(t._s(t.$t("lang.no_more")))]):t._e(),t.loading?[o("van-loading",{attrs:{type:"spinner",color:"black"}})]:t._e()],2)])},a=[],n=(o("55dd"),o("c5f6"),o("88d8")),r=(o("ac1e"),o("543e")),d=(o("a909"),o("3acc")),c=(o("3c32"),o("417e")),l=(o("0653"),o("34e9")),u=(o("c194"),o("7744")),h=(o("b000"),o("1a23")),f=(o("8a58"),o("e41f")),p=(o("7f7f"),o("be7f"),o("565f")),m=(o("d49c"),o("5487")),b=(o("2f62"),o("c106")),g=o("4ee6"),_=o("1c14"),w=o("a454"),L={data:function(){return{mode:"medium",loading:!0,isFilter:!0,filter:{sort:"goods_id",order:"desc",goods_num:"0",promote:"0",min:"",max:"",brand_id:[],brandResult:[],brandResultName:"",self:"0"},filterStyle:"coudan",isPopupVisible:!1,routerName:"goods",act_id:this.$route.query.act_id?this.$route.query.act_id:0,page:1,size:10,footerCont:!1}},directives:{WaterfallLower:Object(m["a"])("lower")},components:(i={},Object(n["a"])(i,p["a"].name,p["a"]),Object(n["a"])(i,f["a"].name,f["a"]),Object(n["a"])(i,h["a"].name,h["a"]),Object(n["a"])(i,u["a"].name,u["a"]),Object(n["a"])(i,l["a"].name,l["a"]),Object(n["a"])(i,c["a"].name,c["a"]),Object(n["a"])(i,d["a"].name,d["a"]),Object(n["a"])(i,r["a"].name,r["a"]),Object(n["a"])(i,"FilterTab",g["a"]),Object(n["a"])(i,"ProductList",_["a"]),Object(n["a"])(i,"Search",b["a"]),i),created:function(){this.getGoodsList(),this.onCoudanInfo()},computed:{coudanGoodsList:{get:function(){return this.$store.state.shopping.coudanGoodsList},set:function(t){this.$store.state.shopping.coudanGoodsList=t}},coudanInfo:{get:function(){return this.$store.state.shopping.coudanInfo},set:function(t){this.$store.state.shopping.coudanInfo=t}}},methods:{getGoodsList:function(t){var e=0;t&&(this.page=t,this.size=10*Number(t)),"goods_id"==this.filter.sort?e=0:"shop_price"==this.filter.sort?e=1:"sales_volume"==this.filter.sort&&(e=2),this.$store.dispatch("setCoudanGoodsList",{act_id:this.act_id,page:this.page,size:this.size,sort:e,order:this.filter.order})},onCoudanInfo:function(){this.$store.dispatch("setCoudan",{act_id:this.act_id})},handleFilter:function(t){this.filter.sort=t.sort,this.filter.order=t.order,this.getGoodsList(1)},setPopupVisible:function(t){this.isPopupVisible=t},handleViewSwitch:function(t){this.mode=t},loadMore:function(){var t=this;setTimeout(function(){t.disabled=!0,t.page*t.size==t.coudanGoodsList.length&&(t.page++,t.getGoodsList())},200)}},watch:{coudanGoodsList:function(){this.page*this.size==this.coudanGoodsList.length?(this.disabled=!1,this.loading=!0):(this.loading=!1,this.footerCont=this.page>1),this.coudanGoodsList=w["a"].trimSpace(this.coudanGoodsList)}}},v=L,G=o("2877"),j=Object(G["a"])(v,s,a,!1,null,null,null);j.options.__file="Coudan.vue";e["default"]=j.exports}}]);