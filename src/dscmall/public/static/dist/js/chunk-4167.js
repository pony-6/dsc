(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4167"],{"0653":function(t,e,i){"use strict";i("68ef")},5487:function(t,e,i){"use strict";var s=i("023d"),a=i("db78"),n="@@Waterfall",o=300;function l(){var t=this;if(!this.el[n].binded){this.el[n].binded=!0,this.scrollEventListener=r.bind(this),this.scrollEventTarget=s["a"].getScrollEventTarget(this.el);var e=this.el.getAttribute("waterfall-disabled"),i=!1;e&&(this.vm.$watch(e,function(e){t.disabled=e,t.scrollEventListener()}),i=Boolean(this.vm[e])),this.disabled=i;var l=this.el.getAttribute("waterfall-offset");this.offset=Number(l)||o,Object(a["b"])(this.scrollEventTarget,"scroll",this.scrollEventListener,!0),this.scrollEventListener()}}function r(){var t=this.el,e=this.scrollEventTarget;if(!this.disabled){var i=s["a"].getScrollTop(e),a=s["a"].getVisibleHeight(e),n=i+a;if(a){var o=!1;if(t===e)o=e.scrollHeight-n<this.offset;else{var l=s["a"].getElementTop(t)-s["a"].getElementTop(e)+s["a"].getVisibleHeight(t);o=l-a<this.offset}o&&this.cb.lower&&this.cb.lower({target:e,top:i});var r=!1;if(t===e)r=i<this.offset;else{var c=s["a"].getElementTop(t)-s["a"].getElementTop(e);r=c+this.offset>0}r&&this.cb.upper&&this.cb.upper({target:e,top:i})}}}function c(t){var e=t[n];e.vm.$nextTick(function(){l.call(t[n])})}function m(t){var e=t[n];e.vm._isMounted?c(t):e.vm.$on("hook:mounted",function(){c(t)})}var f=function(t){return{bind:function(e,i,s){e[n]||(e[n]={el:e,vm:s.context,cb:{}}),e[n].cb[t]=i.value,m(e)},update:function(t){var e=t[n];e.scrollEventListener&&e.scrollEventListener()},unbind:function(t){var e=t[n];e.scrollEventTarget&&Object(a["a"])(e.scrollEventTarget,"scroll",e.scrollEventListener)}}};f.install=function(t){t.directive("WaterfallLower",f("lower")),t.directive("WaterfallUpper",f("upper"))};e["a"]=f},ac1e:function(t,e,i){"use strict";i("68ef")},af74:function(t,e,i){"use strict";i.r(e);var s,a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"waterfall-lower",rawName:"v-waterfall-lower",value:t.loadMore,expression:"loadMore"}],staticClass:"con",attrs:{"waterfall-disabled":"disabled","waterfall-offset":"300"}},[i("section",[i("van-cell-group",{staticClass:"my-bottom"},[i("van-cell",{attrs:{title:t.$t("lang.comment_list"),size:"large"}})],1),t.articleCommentList?[t._l(t.articleCommentList,function(e,s){return e.status>0?i("div",{key:s,staticClass:"comment-info"},[i("div",{staticClass:"com-left"},[i("div",{staticClass:"img-commom"},[i("img",{staticClass:"img-height",attrs:{src:e.user_picture}})])]),i("div",{staticClass:"com-right"},[i("div",{staticClass:"com-r-top dis-box"},[i("div",{staticClass:"com-adm-box box-flex"},[i("h4",[t._v(t._s(e.user_name))])]),i("div",{staticClass:"com-data-right"},[i("span",[t._v(t._s(e.add_time))])])]),i("p",{staticClass:"com-con-m"},[t._v(t._s(e.content))])])]):t._e()}),t.footerCont?i("div",{staticClass:"footer-cont"},[t._v(t._s(t.$t("lang.no_more")))]):t._e(),t.loading?[i("van-loading",{attrs:{type:"spinner",color:"black"}})]:t._e()]:t._e()],2)])},n=[],o=(i("c5f6"),i("88d8")),l=(i("ac1e"),i("543e")),r=(i("0653"),i("34e9")),c=(i("7f7f"),i("c194"),i("7744")),m=(i("d49c"),i("5487")),f=(i("2f62"),i("a454")),d={data:function(){return{disabled:!1,loading:!0,page:1,size:10,footerCont:!1}},directives:{WaterfallLower:Object(m["a"])("lower")},components:(s={},Object(o["a"])(s,c["a"].name,c["a"]),Object(o["a"])(s,r["a"].name,r["a"]),Object(o["a"])(s,l["a"].name,l["a"]),s),created:function(){this.commentList()},computed:{articleCommentList:{get:function(){return this.$store.state.article.articleCommentList},set:function(t){this.$store.state.article.articleCommentList=t}}},methods:{commentList:function(t){t&&(this.page=t,this.size=10*Number(t)),this.$store.dispatch("setActicleCommentList",{article_id:this.$route.params.id,page:this.page,size:this.size})},loadMore:function(){var t=this;setTimeout(function(){t.disabled=!0,t.page*t.size==t.articleCommentList.length&&(t.page++,t.commentList())},200)}},watch:{articleCommentList:function(){this.page*this.size==this.articleCommentList.length?(this.disabled=!1,this.loading=!0):(this.loading=!1,this.footerCont=this.page>1),this.articleCommentList=f["a"].trimSpace(this.articleCommentList)}}},u=d,h=i("2877"),v=Object(h["a"])(u,a,n,!1,null,null,null);v.options.__file="CommentList.vue";e["default"]=v.exports},c194:function(t,e,i){"use strict";i("68ef")},d49c:function(t,e,i){"use strict";i("68ef")}}]);