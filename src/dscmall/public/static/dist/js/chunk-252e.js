(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-252e"],{"037a":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"search-page"},[s("Search",{attrs:{placeholder:e.placeholder,placeholderState:e.placeholderState,shopId:e.shopId}}),s("div",{staticClass:"ms-search-wraper"},[s("div",{staticClass:"recent-search"},[s("div",{staticClass:"ms-search-head clearfix"},[s("p",[e._v(e._s(e.$t("lang.recent_search")))]),s("i",{staticClass:"iconfont icon-delete",on:{click:e.emptyArr}})]),s("div",{staticClass:"ms-search-tags"},[e._l(e.latelyKeyword,function(t,a){return s("span",{key:a,on:{click:function(s){e.searchTag(t)}}},[s("a",{attrs:{href:"javascript:void(0)"}},[e._v(e._s(t))])])}),0==e.latelyKeyword.length?s("span",[s("a",{attrs:{href:"javascript:void(0);"}},[e._v(e._s(e.$t("lang.not_available")))])]):e._e()],2)]),e.search_keywords.length>0?s("div",{staticClass:"hot-search"},[s("div",{staticClass:"ms-search-head clearfix"},[s("p",[e._v(e._s(e.$t("lang.hot_search")))])]),s("div",{staticClass:"ms-search-tags"},e._l(e.search_keywords,function(t,a){return s("span",{key:a},[s("a",{attrs:{href:"javascript:void(0)"},on:{click:function(s){e.searchTag(t)}}},[e._v(e._s(t))])])}))]):e._e()]),s("ec-tab-down")],1)},r=[],o=(s("28a5"),s("6b6e")),i=s("c106"),c={name:"search",data:function(){return{latelyKeyword:[],search_keywords:[],placeholderState:0,placeholder:this.$t("lang.search_goods"),shopId:this.$route.query.shop_id?this.$route.query.shop_id:0}},components:{EcTabDown:o["a"],Search:i["a"]},created:function(){this.load()},methods:{load:function(){var e=JSON.parse(sessionStorage.getItem("configData"));e&&(this.search_keywords=e.search_keywords.split(",")),localStorage.getItem("LatelyKeyword")?(this.latelyKeyword=JSON.parse(localStorage.getItem("LatelyKeyword")),this.placeholder=this.latelyKeyword[0],this.placeholderState=1):(this.latelyKeyword=[],this.placeholder=this.$t("lang.search_goods"),this.placeholderState=0)},searchTag:function(e){this.placeholder=e,this.shopId>0?this.$router.push({name:"shopGoodsList",query:{keywords:e,ru_id:this.shopId}}):this.$router.push({name:"searchList",query:{keywords:e}})},emptyArr:function(){this.placeholder=this.$t("lang.search_goods"),this.placeholderState=0,localStorage.removeItem("LatelyKeyword"),this.load()}}},h=c,n=s("2877"),l=Object(n["a"])(h,a,r,!1,null,null,null);l.options.__file="Search.vue";t["default"]=l.exports},c106:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"secrch"},[s("form",{on:{submit:function(e){e.preventDefault()}}},[s("div",{staticClass:"secrch-warp"},[e.app||"integration"==e.routeName?e._e():s("div",{staticClass:"back",on:{click:e.onClickLeft}},[s("i",{staticClass:"iconfont icon-back"})]),s("div",{staticClass:"input-text"},[e.isSearch?[s("input",{directives:[{name:"model",rawName:"v-model",value:e.keyword,expression:"keyword"},{name:"focus",rawName:"v-focus"}],staticClass:"j-input-text",attrs:{type:"search",name:"keyword",autocomplete:"off",placeholder:e.placeholder},domProps:{value:e.keyword},on:{keypress:e.search,input:function(t){t.target.composing||(e.keyword=t.target.value)}}})]:[s("input",{staticClass:"j-input-text",attrs:{type:"search",name:"keyword",autocomplete:"off",placeholder:e.placeholder,readonly:"!isSearch"},on:{keypress:e.search,click:e.routeSearch}})],e._m(0)],2),e.isFilter?[s("div",{staticClass:"mode-switch",on:{click:e.viewSwitch}},["small"===e.myMode?[s("i",{staticClass:"iconfont icon-viewlist"})]:[s("i",{staticClass:"iconfont icon-pailie"})]],2)]:[e.isSearch?s("a",{staticClass:"btn-submit search-btn",attrs:{href:"javascript:void(0);"},on:{click:e.secrchBtn}},[e._v(e._s(e.$t("lang.search")))]):e._e()]],2)])])},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{staticClass:"search-check"},[s("i",{staticClass:"iconfont icon-search"})])}],o=(s("ac6a"),s("7f7f"),s("cadf"),s("551c"),s("097d"),{props:["mode","isFilter","placeholder","placeholderState","app","shopId"],data:function(){return{myMode:this.mode,keyword:"",arr:[]}},created:function(){},directives:{focus:{inserted:function(e){e.focus()}}},computed:{routeName:function(){return this.$route.name},isSearch:function(){return"search"==this.routeName||"integration"==this.routeName}},methods:{getGoodGroup:function(e){var t={},s=0,a=[];return e.forEach(function(e){var r=e.goods_id;t[r]?a[t[r]-1].price.push(e.price):(t[r]=++s,a.push({goods_id:r,price:[e.price]}))}),a},viewSwitch:function(){this.myMode="small"===this.myMode?"medium":"small",this.$emit("getViewSwitch",this.myMode)},search:function(e){13==e.keyCode&&(e.preventDefault(),this.keyword=e.target.value,this.secrchBtn())},secrchBtn:function(){if(this.keyword||1!=this.placeholderState){this.keyword&&this.arr.push(this.keyword);var e=JSON.parse(localStorage.getItem("LatelyKeyword"));e&&(this.arr=this.unique(this.arr.concat(e))),this.arr.length>0&&(localStorage.setItem("LatelyKeyword",JSON.stringify(this.arr)),this.shopId>0?this.$router.push({name:"shopGoodsList",query:{keywords:this.keyword,ru_id:this.shopId}}):this.$router.push({name:"searchList",query:{keywords:this.keyword}}))}else this.shopId>0?this.$router.push({name:"shopGoodsList",query:{keywords:this.placeholder,ru_id:this.shopId}}):this.$router.push({name:"searchList",query:{keywords:this.placeholder}})},onClickLeft:function(){this.$router.go(-1)},routeSearch:function(){this.$router.push({name:"search",query:{shop_id:this.shopId}})},unique:function(e){for(var t=[],s={},a=0;a<e.length;a++)s[e[a]]||(s[e[a]]=!0,t.push(e[a]));return t},quickSort:function(e){if(e.length<=1)return e;for(var t=Math.floor(e.length/2),s=e.splice(t,1),a=[],r=[],o=0;o<e.length;o++)e[o]<s?a.push(e[o]):r.push(e[o]);return this.quickSort(a).concat(s,this.quickSort(r))}}}),i=o,c=s("2877"),h=Object(c["a"])(i,a,r,!1,null,null,null);h.options.__file="Search.vue";t["a"]=h.exports}}]);